[
    {
        "id": "25042628962",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4926",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4926",
                "id": 1393142538,
                "node_id": "I_kwDOCNXKfM5TCasK",
                "number": 4926,
                "title": "[Bug?]: `yarn workspace version apply` removes deferred versions for other packages",
                "user": {
                    "login": "NikkiDelRosso",
                    "id": 563879,
                    "node_id": "MDQ6VXNlcjU2Mzg3OQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/563879?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/NikkiDelRosso",
                    "html_url": "https://github.com/NikkiDelRosso",
                    "followers_url": "https://api.github.com/users/NikkiDelRosso/followers",
                    "following_url": "https://api.github.com/users/NikkiDelRosso/following{/other_user}",
                    "gists_url": "https://api.github.com/users/NikkiDelRosso/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/NikkiDelRosso/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/NikkiDelRosso/subscriptions",
                    "organizations_url": "https://api.github.com/users/NikkiDelRosso/orgs",
                    "repos_url": "https://api.github.com/users/NikkiDelRosso/repos",
                    "events_url": "https://api.github.com/users/NikkiDelRosso/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/NikkiDelRosso/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-10-01T00:22:01Z",
                "updated_at": "2022-11-04T23:04:57Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI have a workspace that has two packages which do not share a release cycle.\r\n\r\nI'm using deferred versioning on the packages with `yarn workspace <workspaceName> version <strategy> --deferred`, which creates `.yarn/versions/<hash>.yml` files defining the strategy just for my target workspace, as I would expect.\r\n\r\nWhen I run `yarn workspace <workspaceName> version apply`, the `package.json` file for the specified workspace is updated. As expected, the `package.json` for the other workspaces has not changed. However, the `.yarn/versions` files have removed the other deferred changes.\r\n\r\n### To reproduce\r\n\r\nI created a minimal repo using yarn berry with a workspace: https://github.com/NikkiDelRosso/yarn-workspace-version-deferred-issue\r\n\r\n1. Clone the repo above\r\n2. Run `yarn workspace package-b version apply`\r\n3. See that the `packages/package-b/package.json` version number has been bumped\r\n4. See that the `packages/package-a/package.json` version number has not changed (this is expected)\r\n5. See that the `package-a: patch` line in in `.yarn/versions/27f417a6.yml` has been removed\r\n6. Run `yarn workspace package-a version apply`\r\n7. Receive a message indicating that there is no version bump available for the workspace (even though it should have had been bumped for a patch)\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/kc/rkdxxgzx4q1b4cq6mpm343100000gn/T/xfs-80d59fb3/node\r\n    Yarn: 3.2.3 - /private/var/folders/kc/rkdxxgzx4q1b4cq6mpm343100000gn/T/xfs-80d59fb3/yarn\r\n    npm: 8.11.0 - ~/.nvm/versions/node/v16.15.1/bin/npm\r\n```\r\n\r\n\r\n<!-- ### Additional context\r\n\r\n\r\n<details><summary>Details: git diff showing relevant changed files after running `yarn workspace package-b version apply` on my example repo (click to expand)</summary>\r\n\r\n```diff\r\ndiff --git a/.yarn/versions/27f417a6.yml b/.yarn/versions/27f417a6.yml\r\nindex d565274..e69de29 100644\r\n--- a/.yarn/versions/27f417a6.yml\r\n+++ b/.yarn/versions/27f417a6.yml\r\n@@ -1,2 +0,0 @@\r\n-releases:\r\n-  package-a: patch\r\ndiff --git a/.yarn/versions/9fb57f43.yml b/.yarn/versions/9fb57f43.yml\r\nindex 8fb3158..e69de29 100644\r\n--- a/.yarn/versions/9fb57f43.yml\r\n+++ b/.yarn/versions/9fb57f43.yml\r\n@@ -1,2 +0,0 @@\r\n-releases:\r\n-  package-b: minor\r\ndiff --git a/package.json b/package.json\r\nindex 9a3d853..9a110a4 100644\r\n--- a/package.json\r\n+++ b/package.json\r\n@@ -1,5 +1,7 @@\r\n {\r\n   \"name\": \"yarn-workspace-version-deferred-issue\",\r\n   \"packageManager\": \"yarn@3.2.3\",\r\n-  \"workspaces\": [\"packages/*\"]\r\n+  \"workspaces\": [\r\n+    \"packages/*\"\r\n+  ]\r\n }\r\ndiff --git a/packages/package-a/package.json b/packages/package-a/package.json\r\nindex 162cd37..bb84166 100644\r\n--- a/packages/package-a/package.json\r\n+++ b/packages/package-a/package.json\r\n@@ -2,4 +2,3 @@\r\n   \"name\": \"package-a\",\r\n   \"version\": \"1.0.0\"\r\n }\r\n-\r\n```\r\n</details>-->",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1304325598",
                "html_url": "https://github.com/yarnpkg/berry/issues/4926#issuecomment-1304325598",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926",
                "id": 1304325598,
                "node_id": "IC_kwDOCNXKfM5Nvm3e",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-04T23:04:57Z",
                "updated_at": "2022-11-04T23:04:57Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1304325598/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-04T23:04:57Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "25018697265",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/5022",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/5022",
                "id": 1434416469,
                "node_id": "I_kwDOCNXKfM5Vf3VV",
                "number": 5022,
                "title": "[Bug?]: `yarn bin` reports wrong bin from `installConfig.hoistingLimits` workspace (`nodeLinker: node-modules`)",
                "user": {
                    "login": "bradleyayers",
                    "id": 105820,
                    "node_id": "MDQ6VXNlcjEwNTgyMA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/105820?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bradleyayers",
                    "html_url": "https://github.com/bradleyayers",
                    "followers_url": "https://api.github.com/users/bradleyayers/followers",
                    "following_url": "https://api.github.com/users/bradleyayers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bradleyayers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bradleyayers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bradleyayers/subscriptions",
                    "organizations_url": "https://api.github.com/users/bradleyayers/orgs",
                    "repos_url": "https://api.github.com/users/bradleyayers/repos",
                    "events_url": "https://api.github.com/users/bradleyayers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bradleyayers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-11-03T10:19:02Z",
                "updated_at": "2022-11-03T21:24:45Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI have a few workspaces, they're depending on `@graphql-codegen/cli` which contributes a `graphql-codegen` bin script.\r\n\r\nOne of the workspaces `zapier` has `installConfig.hoistingLimits` set to `workspaces`, the other workspaces don't have this set.\r\n\r\nWhen I run `yarn bin graphql-codegen` in one of the other workspaces it gives a path under the `zapier` workspace.\r\n\r\nInstead I would expect it to give the path **not** from that workspace.\r\n\r\nThe problem this causes is that different copies of other packages end up getting imported within the same node process (e.g. `graphql` is particularly fragile for this).\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nconst fs = require('fs').promises;\r\n\r\nawait fs.writeFile('.yarnrc.yml', 'nodeLinker: node-modules');\r\n\r\nawait packageJsonAndInstall({\r\n  \"name\": \"root\",\r\n  \"workspaces\": [\r\n    \"packages/*\"\r\n  ],\r\n  \"dependencies\": {\r\n    \"rimraf\": \"^2.0.0\"\r\n  },\r\n});\r\n\r\nawait fs.mkdir('packages/nohoist', { recursive: true });\r\nawait fs.writeFile(\"packages/nohoist/package.json\", `{\r\n  \"dependencies\": {\r\n    \"rimraf\": \"^2.0.0\"\r\n  },\r\n  \"name\": \"nohoist\",\r\n  \"installConfig\": {\r\n    \"hoistingLimits\": \"workspaces\"\r\n  }\r\n}`);\r\n\r\nawait yarn(`install`);\r\n\r\nconst rootRimrafPath = await yarn(`bin`, `rimraf`)\r\nconst nohoistRimrafPath = await yarn(`workspace`, `nohoist`, `bin`, `rimraf`);\r\n\r\nexpect(rootRimrafPath).not.toEqual(nohoistRimrafPath);\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.6\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/jq/3x3ddtjx3rb9nwy79zxfwnj00000gn/T/xfs-6ab2aa01/node\r\n    Yarn: 3.2.4 - /private/var/folders/jq/3x3ddtjx3rb9nwy79zxfwnj00000gn/T/xfs-6ab2aa01/yarn\r\n    npm: 8.3.1 - ~/.n/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302680868",
                "html_url": "https://github.com/yarnpkg/berry/issues/5022#issuecomment-1302680868",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022",
                "id": 1302680868,
                "node_id": "IC_kwDOCNXKfM5NpVUk",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-03T21:24:44Z",
                "updated_at": "2022-11-03T21:24:44Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).not.toEqual(expected) // deep equality\n\nExpected: not \"/tmp/tmp-17b66RdRpKcsgC/packages/nohoist/node_modules/rimraf/bin.js\n\"\n\n    at module.exports (evalmachine.<anonymous>:32:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302680868/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-03T21:24:45Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "25013834573",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4933",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4933",
                "id": 1396462869,
                "node_id": "I_kwDOCNXKfM5TPFUV",
                "number": 4933,
                "title": "[Feature] --visual-verbose",
                "user": {
                    "login": "pablitomilenio",
                    "id": 34131550,
                    "node_id": "MDQ6VXNlcjM0MTMxNTUw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/34131550?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/pablitomilenio",
                    "html_url": "https://github.com/pablitomilenio",
                    "followers_url": "https://api.github.com/users/pablitomilenio/followers",
                    "following_url": "https://api.github.com/users/pablitomilenio/following{/other_user}",
                    "gists_url": "https://api.github.com/users/pablitomilenio/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/pablitomilenio/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/pablitomilenio/subscriptions",
                    "organizations_url": "https://api.github.com/users/pablitomilenio/orgs",
                    "repos_url": "https://api.github.com/users/pablitomilenio/repos",
                    "events_url": "https://api.github.com/users/pablitomilenio/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/pablitomilenio/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349891,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODkx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/enhancement",
                        "name": "enhancement",
                        "color": "92a4e5",
                        "default": true,
                        "description": "New feature or request"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-10-04T15:22:07Z",
                "updated_at": "2022-11-03T17:08:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "Hello !\r\n\r\nInstead of the --verbose flag outputting a lot of text that breaks around in the terminal and even if it would be structured I wouldn't understand\r\n\r\nI WOULD LIKE: more verbose progress bars\r\n\r\nIdeally like a arc/circle diagram that is rather big and that fills up clockwise. This should be optimized for very slow connections (remember that large part of the world does have no or slow internet)\r\n\r\nSo this circle should move a lot and fill up with the dumbest tasks.\r\n\r\nOne heuristic of implementing this could be that for every line that would be displayed in verbose mode in the terminal, the circle arc should increase by 5%\r\n\r\nThere should be 2 things\r\n\r\nA global progress indicator as a bar\r\nA subtask-progress indicator as a circle or arc\r\n\r\nThis way the user would see the dumbest slowest progress and everybody would understand\r\n\r\nThat would truly be in improvement\r\n\r\nBecause now it is either\r\n\r\nWaiting 10 minutes in the darkness\r\nOR: having the screen full of garbage potentially slowing everything down\r\n\r\nThanks",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302418532",
                "html_url": "https://github.com/yarnpkg/berry/issues/4933#issuecomment-1302418532",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933",
                "id": 1302418532,
                "node_id": "IC_kwDOCNXKfM5NoVRk",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-03T17:08:04Z",
                "updated_at": "2022-11-03T17:08:04Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nIt seems like this issue as been marked as probably resolved, or missing important information blocking its progression. As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302418532/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-03T17:08:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24976266322",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-11-02T08:06:11Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\r\n\r\n### To reproduce\r\n\r\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\n# With Corepack disabled, we need to get Yarn from somewhere else\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\r\n\r\nwith the following package.json:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n\r\nAs you can see, the version used for `yarn pack` is different:\r\n- with Corepack _enabled_, it's using v1.22.15\r\n- with Corepack _disabled_, it's using v2+, I think?\r\n\r\nNote that I have a global Yarn install from Homebrew:\r\n```sh\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n```\r\n\r\nThe same happens when Yarn is installed through npm (as per the Dockerfile repro).\r\n\r\nAnother interesting finding: no matter if Corepack is enabled or disabled, the Yarn binary & version stays the same:\r\n```sh\r\n# From my home directory\r\n# Results are the same from within my project directory, except the version is 3.2.3 there\r\n$ corepack disable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n$ corepack enable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1299756163",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1299756163",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1299756163,
                "node_id": "IC_kwDOCNXKfM5NeLSD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-02T08:06:11Z",
                "updated_at": "2022-11-02T08:06:11Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1299756163/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-02T08:06:11Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24927848479",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4885",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4885",
                "id": 1382392636,
                "node_id": "I_kwDOCNXKfM5SZaM8",
                "number": 4885,
                "title": "[Bug?]:  `--since` flag produces different results for `yarn workspaces foreach` and `yarn workspaces list`",
                "user": {
                    "login": "alexedwardjones",
                    "id": 5364820,
                    "node_id": "MDQ6VXNlcjUzNjQ4MjA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5364820?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alexedwardjones",
                    "html_url": "https://github.com/alexedwardjones",
                    "followers_url": "https://api.github.com/users/alexedwardjones/followers",
                    "following_url": "https://api.github.com/users/alexedwardjones/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alexedwardjones/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alexedwardjones/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alexedwardjones/subscriptions",
                    "organizations_url": "https://api.github.com/users/alexedwardjones/orgs",
                    "repos_url": "https://api.github.com/users/alexedwardjones/repos",
                    "events_url": "https://api.github.com/users/alexedwardjones/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alexedwardjones/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-22T12:45:24Z",
                "updated_at": "2022-10-31T09:06:31Z",
                "closed_at": "2022-10-31T09:06:31Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Describe the bug\r\n\r\n**Summary**\r\n\r\nAdding the `--since` flag to `yarn workspaces foreach` is running all workspaces not just the subset that have changed or their dependencies..\r\n\r\n### To reproduce\r\n\r\n**Example**\r\nI have a project that looks like the following when I run `yarn workspaces list --json`.\r\n```\r\n{\"location\":\".\",\"name\":\"project\"}\r\n{\"location\":\"packages/db-utils\",\"name\":\"db-utils\"}\r\n{\"location\":\"packages/api-utils\",\"name\":\"api-utils\"}\r\n{\"location\":\"apps/service-one\",\"name\":\"service-one\"}\r\n{\"location\":\"apps/service-two,\"name\":\"service-two\"}\r\n{\"location\":\"apps/service-three,\"name\":\"service-three\"}\r\n{\"location\":\"apps/service-four,\"name\":\"service-four\"}\r\n```\r\n\r\n\u2705 If I change a file in `db-utils` and run `yarn workspaces list --json --since=origin/main` I get the following which is what I expect...\r\n```\r\n{\"location\":\".\",\"name\":\"project\"}\r\n{\"location\":\"packages/db-utils\",\"name\":\"db-utils\"}\r\n```\r\n\r\n\u2705 If I change a file in `db-utils` and run `yarn workspaces list --json --since=origin/main --recursive` I get the following which is what I expect because `service-one` and `service-two` have `db-utils` as a dependency...\r\n```\r\n{\"location\":\".\",\"name\":\"project\"}\r\n{\"location\":\"packages/db-utils\",\"name\":\"db-utils\"}\r\n{\"location\":\"apps/service-one\",\"name\":\"service-one\"}\r\n{\"location\":\"apps/service-two,\"name\":\"service-two\"}\r\n```\r\n\r\nHowever when I start applying those same arguments to `foreach` every workspace gets run.\r\n- `yarn workspaces foreach --since=origin/main run lint` - Runs all workspaces \u274c \r\n- `yarn workspaces foreach --since=origin/main --recursive run lint` - Runs all workspaces \u274c \r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.16.0 - /private/var/folders/6m/m5yvxnzx6z10cyk51929x0400000gp/T/xfs-934c9136/node\r\n    Yarn: 3.2.3 - /private/var/folders/6m/m5yvxnzx6z10cyk51929x0400000gp/T/xfs-934c9136/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/67237_1663157503102/bin/npm\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-31T09:06:32Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24900239099",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11485404718,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "c69bc8bd1c356261cc04f1f140d1ede88f1b25d7",
            "before": "635257a6ae65aef14b33416502f5e7ca8dd36651",
            "commits": [
                {
                    "sha": "fb8bd4fd9c91d02872ca52b9d6355bdf941a90dd",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.27` |\n| `@yarnpkg/core` | `4.0.0-rc.27` |\n| `@yarnpkg/parsers` | `3.0.0-rc.27` |\n| `@yarnpkg/shell` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.27` |\n| `@yarnpkg/extensions` | `2.0.0-rc.9` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.27` |\n| `@yarnpkg/pnp` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.27` |\n| `@yarnpkg/sdks` | `3.0.0-rc.27` |\n| `@yarnpkg/fslib` | `3.0.0-rc.27` |\n| `@yarnpkg/libui` | `3.0.0-rc.27` |\n| `@yarnpkg/libzip` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.27` |\n| `vscode-zipfs` | `2.6.0-rc.16` |\n| `@yarnpkg/nm` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.27` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.27` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.27` |\n| `@yarnpkg/builder` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.27` |\n| `@yarnpkg/doctor` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.27` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/fb8bd4fd9c91d02872ca52b9d6355bdf941a90dd"
                },
                {
                    "sha": "c69bc8bd1c356261cc04f1f140d1ede88f1b25d7",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/c69bc8bd1c356261cc04f1f140d1ede88f1b25d7"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-28T20:01:38Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24872299428",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908",
                "id": 1387063752,
                "node_id": "I_kwDOCNXKfM5SrOnI",
                "number": 4908,
                "title": "[Bug?]: --cwd does not work with relative paths",
                "user": {
                    "login": "Shayan-To",
                    "id": 12458563,
                    "node_id": "MDQ6VXNlcjEyNDU4NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12458563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shayan-To",
                    "html_url": "https://github.com/Shayan-To",
                    "followers_url": "https://api.github.com/users/Shayan-To/followers",
                    "following_url": "https://api.github.com/users/Shayan-To/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shayan-To/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shayan-To/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shayan-To/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shayan-To/orgs",
                    "repos_url": "https://api.github.com/users/Shayan-To/repos",
                    "events_url": "https://api.github.com/users/Shayan-To/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shayan-To/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-09-27T04:29:58Z",
                "updated_at": "2022-10-27T16:05:14Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen using `--cwd` with a relative path, yarn seems to resolve the relative path twice (or even more times when `.../subdir/subdir` actually is a directory!). So running `yarn --cwd subdir`, it tries to access `.../subdir/subdir` and then it gives an error that the path does not exist.\n\n### To reproduce\n\n```js repro\r\nconst { mkdir } = require(\"fs/promises\");\r\n\r\nawait mkdir(\"subdir\");\r\nawait expect(yarn(\"--cwd\", \"subdir\", \"init\")).resolves.not.toThrow();\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-3537U CPU @ 2.00GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-ebd4110f/node\r\n    Yarn: 3.2.0 - /tmp/xfs-ebd4110f/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1293754774",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908#issuecomment-1293754774",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "id": 1293754774,
                "node_id": "IC_kwDOCNXKfM5NHSGW",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-27T16:05:14Z",
                "updated_at": "2022-10-27T16:05:14Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1293754774/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-27T16:05:14Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24866170884",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4884",
                "id": 1382325860,
                "node_id": "I_kwDOCNXKfM5SZJ5k",
                "number": 4884,
                "title": "[Bug?]: yarn create doesn't work with httpsCaFilePath",
                "user": {
                    "login": "oceandrama",
                    "id": 23439079,
                    "node_id": "MDQ6VXNlcjIzNDM5MDc5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/23439079?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/oceandrama",
                    "html_url": "https://github.com/oceandrama",
                    "followers_url": "https://api.github.com/users/oceandrama/followers",
                    "following_url": "https://api.github.com/users/oceandrama/following{/other_user}",
                    "gists_url": "https://api.github.com/users/oceandrama/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/oceandrama/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/oceandrama/subscriptions",
                    "organizations_url": "https://api.github.com/users/oceandrama/orgs",
                    "repos_url": "https://api.github.com/users/oceandrama/repos",
                    "events_url": "https://api.github.com/users/oceandrama/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/oceandrama/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-22T11:56:25Z",
                "updated_at": "2022-10-27T12:08:19Z",
                "closed_at": "2022-10-27T12:08:19Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nIf you have `httpsCaFilePath` in your config, `yarn create` trying to resolve relative path to cert in temp folder:\r\n\r\n.yarnrc.yml:\r\n```\r\nhttpsCaFilePath: ./some-cert.crt\r\nnodeLinker: node-modules\r\nnpmRegistryServer: \"https://custom-registry.com\"\r\nyarnPath: .yarn/releases/yarn-4.0.0-rc.20.cjs\r\n```\r\n\r\n`yarn create playwright`:\r\n\r\n\u27a4 YN0027: create-playwright@unknown can't be resolved to a satisfying range\r\n\u27a4 YN0001: Error: ENOENT: no such file or directory, open 'C:\\Users\\username\\AppData\\Local\\Temp\\xfs-cee34bdc\\dlx-18200\\some-cert.crt'\n\n### To reproduce\n\nyarn config set httpsCaFilePath ./some-cert.crt\r\nyarn create playwright\n\n### Environment\n\n```shell\nSystem:\r\n  OS: Windows 10 10.0.19044\r\n  CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Memory: 7.76 GB / 15.40 GB\r\nBinaries:\r\n  Node: 16.16.0 - C:\\Program Files\\nodejs\\node.EXE\r\n  Yarn: 4.0.0-rc.20 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\r\n  npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-27T12:08:20Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24837613106",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4904",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4904",
                "id": 1385165727,
                "node_id": "I_kwDOCNXKfM5Sj_Of",
                "number": 4904,
                "title": "[Bug?]: Module not found: Error: Can't resolve 'x' in 'y' packageExtensions binaries [arm, android win32-x64, darwin, gnu, linux]",
                "user": {
                    "login": "gruckion",
                    "id": 4559650,
                    "node_id": "MDQ6VXNlcjQ1NTk2NTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4559650?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gruckion",
                    "html_url": "https://github.com/gruckion",
                    "followers_url": "https://api.github.com/users/gruckion/followers",
                    "following_url": "https://api.github.com/users/gruckion/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gruckion/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gruckion/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gruckion/subscriptions",
                    "organizations_url": "https://api.github.com/users/gruckion/orgs",
                    "repos_url": "https://api.github.com/users/gruckion/repos",
                    "events_url": "https://api.github.com/users/gruckion/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gruckion/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-09-25T21:08:22Z",
                "updated_at": "2022-10-26T10:04:46Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n[Mongodb](https://www.npmjs.com/package/mongodb) has dependencies that are not listed as peer dependencies. I tried to use `packageExtensions` to get around this but I am now getting dozens more errors from two libraries [Snappy](https://www.npmjs.com/package/snappy) and [@mongodb-js/zstd](https://www.npmjs.com/package/@mongodb-js/zstd).\r\n\r\n```\r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 89:28-70\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-arm-gnueabihf.node' in '/Users/sigex/workdir/backend/lambda/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n```\r\n\r\n```\r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:622-662\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-android-arm64' in '/Users/sigex/workdir/backend/lambda/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n```\r\n\r\nIt looks like it's trying to require all these different binaries for different machines.\r\n\r\nMy `packageExtensions` is below and it's managed to get most of the warnings to shut up.\r\n\r\n```yaml\r\npackageExtensions:\r\n  \"mongodb@*\":\r\n    dependencies:\r\n      bson-ext: \"*\"\r\n      kerberos: \"*\"\r\n      \"@mongodb-js/zstd\": \"*\"\r\n      aws4: \"*\"\r\n      mongodb-core: \"*\"\r\n      bson: \"*\"\r\n      node-gyp: \"*\"\r\n      \"mongodb-client-encryption\": \"*\"\r\n    peerDependenciesMeta:\r\n      \"@mongodb-js/zstd\":\r\n        optional: true\r\n      snappy:\r\n        optional: true\r\n      bson-ext:\r\n        optional: true\r\n      kerberos:\r\n        optional: true\r\n```\r\n\r\n### To reproduce\r\n\r\nI created a repo here, see branch `mongodb-broken-pnp`.\r\n\r\nhttps://github.com/gruckion/yarn-berry-serverless-workspaces/tree/mongodb-broken-pnp\r\n\r\nRun `yarn; yarn package` to reproduce the errors.\r\n\r\n```\r\n\u276f yarn package\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: Packaging lambdas-hello for stage testing (us-east-1)\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: Warning: in ../../.yarn/__virtual__/mongodb-virtual-904dd890e4/0/cache/mongodb-npm-4.10.0-99903c2c4a-4847fe69b6.zip/node_modules/mongodb/lib/utils.js 993:38-93\r\n\u27a4 YN0000:   Critical dependency: the request of a dependency is an expression\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 17:28-65\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.win32-x64-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 19:28-70\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-win32-x64-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 35:28-61\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.darwin-x64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 37:28-66\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-darwin-x64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 47:28-63\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.darwin-arm64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 65:28-64\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-x64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 67:28-69\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-linux-x64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 77:28-66\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-arm64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 79:28-71\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-linux-arm64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 89:28-70\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-arm-gnueabihf.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 91:28-75\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-linux-arm-gnueabihf' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:569-607\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.android-arm64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:622-662\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-android-arm64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:811-852\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.android-arm-eabi.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:867-910\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-android-arm-eabi' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1159-1198\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.win32-x64-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1213-1254\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-win32-x64-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1403-1443\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.win32-ia32-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1458-1500\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-win32-ia32-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1651-1692\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.win32-arm64-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1707-1750\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-win32-arm64-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1997-2032\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.darwin-x64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2047-2084\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-darwin-x64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2231-2268\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.darwin-arm64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2626-2662\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.freebsd-x64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2677-2715\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-freebsd-x64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2900-2939\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-x64-musl.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2954-2995\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-x64-musl' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3131-3169\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-x64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3184-3224\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-x64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3389-3430\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-arm64-musl.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3445-3488\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-arm64-musl' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3626-3666\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-arm64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3681-3723\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-arm64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3876-3920\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-arm-gnueabihf.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3935-3981\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-arm-gnueabihf' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000: Environment: darwin, node 16.13.2, framework 3.22.0 (local), plugin 6.2.2, SDK 4.3.2\r\n\u27a4 YN0000: Docs:        docs.serverless.com\r\n\u27a4 YN0000: Support:     forum.serverless.com\r\n\u27a4 YN0000: Bugs:        github.com/serverless/serverless/issues\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: Error:\r\n\u27a4 YN0000: Webpack compilation failed:\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: in ../../.yarn/unplugged/@mongodb-js-zstd-darwin-arm64-npm-1.0.0-df74982a20/node_modules/@mongodb-js/zstd-darwin-arm64/zstd.darwin-arm64.node 1:0\r\n\u27a4 YN0000:   Module parse failed: Unexpected character '\ufffd' (1:0)\r\n\u27a4 YN0000:   You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\r\n\u27a4 YN0000:   (Source code omitted for this binary file)\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/unplugged/@napi-rs-snappy-darwin-arm64-npm-7.1.2-605592bf69/node_modules/@napi-rs/snappy-darwin-arm64/snappy.darwin-arm64.node 1:0\r\n\u27a4 YN0000:   Module parse failed: Unexpected character '\ufffd' (1:0)\r\n\u27a4 YN0000:   You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\r\n\u27a4 YN0000:   (Source code omitted for this binary file)\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: 1 deprecation found: run 'serverless doctor' for more details\r\n\u27a4 YN0000: Done in 17s 69ms\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 13.0\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 16.13.2 - /private/var/folders/mv/dtw39jks6ml64s3pd1pnv_640000gn/T/xfs-7dfef409/node\r\n    Yarn: 3.2.3 - /private/var/folders/mv/dtw39jks6ml64s3pd1pnv_640000gn/T/xfs-7dfef409/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.2/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nMongodb has created 3 PRs to \"support PnP\", but have written no documentation. But this issue is not specific to them, it is more about how we handle libraries that have missing peer dependencies that happen to be binaries.\r\n\r\nhttps://github.com/mongodb/node-mongodb-native/pulls?q=pnp\r\n\r\nI also posted a comment on this PR as Mongodb and Mongodb'sissue section on Jira and on Snappy's library\r\n\r\nhttps://github.com/mongodb/node-mongodb-native/pull/2606\r\nhttps://jira.mongodb.org/browse/NODE-4659\r\nhttps://github.com/Brooooooklyn/snappy/issues/93\r\n\r\nI am also using `pnp-webpack-plugin`",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291798210",
                "html_url": "https://github.com/yarnpkg/berry/issues/4904#issuecomment-1291798210",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904",
                "id": 1291798210,
                "node_id": "IC_kwDOCNXKfM5M_0bC",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-26T10:04:46Z",
                "updated_at": "2022-10-26T10:04:46Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291798210/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-26T10:04:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24833760960",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4803",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4803",
                "id": 1356029300,
                "node_id": "I_kwDOCNXKfM5Q0110",
                "number": 4803,
                "title": "[Bug?]: Handling of package.json#exports is not working correctly with intermediate wildcard.",
                "user": {
                    "login": "gpickell",
                    "id": 5531747,
                    "node_id": "MDQ6VXNlcjU1MzE3NDc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5531747?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gpickell",
                    "html_url": "https://github.com/gpickell",
                    "followers_url": "https://api.github.com/users/gpickell/followers",
                    "following_url": "https://api.github.com/users/gpickell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gpickell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gpickell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gpickell/subscriptions",
                    "organizations_url": "https://api.github.com/users/gpickell/orgs",
                    "repos_url": "https://api.github.com/users/gpickell/repos",
                    "events_url": "https://api.github.com/users/gpickell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gpickell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1647295654,
                        "node_id": "MDU6TGFiZWwxNjQ3Mjk1NjU0",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/external%20bug",
                        "name": "external bug",
                        "color": "fcc7e5",
                        "default": false,
                        "description": "This issue highlights a bug in another project"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-08-30T16:33:42Z",
                "updated_at": "2022-10-26T07:06:27Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen using yarn with pnp linking, the handling of the * in a package.json#exports has a compatibility issue. Mainly, if the * appears in the middle, it fails, but this is supported with node out-of-the-box.\r\n\r\npackage.json:\r\n```\r\n  ...\r\n\r\n  \"exports\": {\r\n    \"./*/index\": \"./src/*.mjs\", // not honored when linking pnp-style but works otherwise\r\n    \"./*\": \"./src/*.mjs\" // works always\r\n  }\r\n\r\n  ...\r\n```\n\n### To reproduce\n\nSee: https://github.com/gpickell/yarn-bug-exports-handling\r\n\r\n```\r\nyarn\r\nyarn test # works\r\n# remove nodeLinker line from .yarnrc.yml\r\nyarn\r\nyarn test # fails\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (16) x64 AMD Ryzen 7 5800X 8-Core Processor\r\n  Binaries:\r\n    Node: 16.16.0 - ~\\AppData\\Local\\Temp\\xfs-a40a0340\\node.CMD\r\n    Yarn: 3.2.3 - ~\\AppData\\Local\\Temp\\xfs-a40a0340\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\nvs\\node\\16.16.0\\x64\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291592363",
                "html_url": "https://github.com/yarnpkg/berry/issues/4803#issuecomment-1291592363",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803",
                "id": 1291592363,
                "node_id": "IC_kwDOCNXKfM5M_CKr",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-26T07:06:27Z",
                "updated_at": "2022-10-26T07:06:27Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291592363/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-26T07:06:27Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24765030464",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4884",
                "id": 1382325860,
                "node_id": "I_kwDOCNXKfM5SZJ5k",
                "number": 4884,
                "title": "[Bug?]: yarn create doesn't work with httpsCaFilePath",
                "user": {
                    "login": "oceandrama",
                    "id": 23439079,
                    "node_id": "MDQ6VXNlcjIzNDM5MDc5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/23439079?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/oceandrama",
                    "html_url": "https://github.com/oceandrama",
                    "followers_url": "https://api.github.com/users/oceandrama/followers",
                    "following_url": "https://api.github.com/users/oceandrama/following{/other_user}",
                    "gists_url": "https://api.github.com/users/oceandrama/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/oceandrama/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/oceandrama/subscriptions",
                    "organizations_url": "https://api.github.com/users/oceandrama/orgs",
                    "repos_url": "https://api.github.com/users/oceandrama/repos",
                    "events_url": "https://api.github.com/users/oceandrama/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/oceandrama/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-09-22T11:56:25Z",
                "updated_at": "2022-10-22T12:06:56Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nIf you have `httpsCaFilePath` in your config, `yarn create` trying to resolve relative path to cert in temp folder:\r\n\r\n.yarnrc.yml:\r\n```\r\nhttpsCaFilePath: ./some-cert.crt\r\nnodeLinker: node-modules\r\nnpmRegistryServer: \"https://custom-registry.com\"\r\nyarnPath: .yarn/releases/yarn-4.0.0-rc.20.cjs\r\n```\r\n\r\n`yarn create playwright`:\r\n\r\n\u27a4 YN0027: create-playwright@unknown can't be resolved to a satisfying range\r\n\u27a4 YN0001: Error: ENOENT: no such file or directory, open 'C:\\Users\\username\\AppData\\Local\\Temp\\xfs-cee34bdc\\dlx-18200\\some-cert.crt'\n\n### To reproduce\n\nyarn config set httpsCaFilePath ./some-cert.crt\r\nyarn create playwright\n\n### Environment\n\n```shell\nSystem:\r\n  OS: Windows 10 10.0.19044\r\n  CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Memory: 7.76 GB / 15.40 GB\r\nBinaries:\r\n  Node: 16.16.0 - C:\\Program Files\\nodejs\\node.EXE\r\n  Yarn: 4.0.0-rc.20 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\r\n  npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1287773710",
                "html_url": "https://github.com/yarnpkg/berry/issues/4884#issuecomment-1287773710",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884",
                "id": 1287773710,
                "node_id": "IC_kwDOCNXKfM5Mwd4O",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-22T12:06:56Z",
                "updated_at": "2022-10-22T12:06:56Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1287773710/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-22T12:06:56Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24731807411",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4876",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4876",
                "id": 1379713662,
                "node_id": "I_kwDOCNXKfM5SPMJ-",
                "number": 4876,
                "title": "[Bug]: Calling `yarn rebuild` in postinstall calls it infinitely recursively",
                "user": {
                    "login": "Litarvan",
                    "id": 8712146,
                    "node_id": "MDQ6VXNlcjg3MTIxNDY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8712146?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Litarvan",
                    "html_url": "https://github.com/Litarvan",
                    "followers_url": "https://api.github.com/users/Litarvan/followers",
                    "following_url": "https://api.github.com/users/Litarvan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Litarvan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Litarvan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Litarvan/subscriptions",
                    "organizations_url": "https://api.github.com/users/Litarvan/orgs",
                    "repos_url": "https://api.github.com/users/Litarvan/repos",
                    "events_url": "https://api.github.com/users/Litarvan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Litarvan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-20T16:49:32Z",
                "updated_at": "2022-10-20T18:16:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen calling `yarn rebuild` in a `postinstall` script, the `rebuild` command will call the `postinstall` script after being finished (or before? doesn't matter), which will call `rebuild` again and do so indefinitely.\r\n\r\nThis behavior doesn't happen on NPM which I presume does not run `postinstall` after `npm rebuild`, but apparently Yarn does. Since Yarn doesn't provide a way to disable scripts for `rebuild`, I can't do something like `\"postinstall\": \"yarn rebuild --ignore-scripts sharp\"`, and disabling it globally via `.yarnrc.yml` would also ruin the purpose.\r\n\r\nI know that the doc recommends not to use `postinstall`, but since I'm running my project in a Docker container (Linux + MUSL) with a `node_modules` created with Yarn in local (on Darwin), I have to use this script to rebuild sharp for the `linuxmusl` platform (alongside the `darwin` platform it was originally built with) so that it can run in the container. (Related to #3853)\r\n\r\nThe reason I made this `postinstall` script is that using `supportedArchitectures` also doesn't work for sharp (which uses .node bindings in itself), but does for `esbuild` (which uses a separate dependency for each platform). This could make another issue maybe?\r\n\r\n### To reproduce\r\n\r\nThis can be reproduced by running `yarn` with the following package.json:\r\n```json\r\n{\r\n  \"name\": \"test\",\r\n  \"scripts\": {\r\n    \"postinstall\": \"yarn rebuild sharp\"\r\n  },\r\n  \"dependencies\": {\r\n    \"sharp\": \"^0.31.0\"\r\n  },\r\n  \"packageManager\": \"yarn@3.2.3\"\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n  OS: macOS 12.4\r\n  CPU: (16) x64 AMD Ryzen 7 3800X 8-Core Processor\r\nBinaries:\r\n  Node: 18.8.0 - /private/var/folders/4_/k05ccxxd13j3n60930rkvz880000gn/T/xfs-c714cf0d/node\r\n  Yarn: 3.2.3 - /private/var/folders/4_/k05ccxxd13j3n60930rkvz880000gn/T/xfs-c714cf0d/yarn\r\n  npm: 8.18.0 - ~/.nix-profile/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nIt's my first time using the new Yarn version, I migrated to use the `supportedArchitectures` feature for the Docker platform compatibility issue I had with `esbuild` and `sharp` as described earlier, but sadly it didn't fix it for `sharp` without the `postinstall` script, which itself only works using npm and not yarn. Since it works running `npm` in the `postinstall` script and still using yarn, this isn't a major issue, but still is a bug I felt had to be reported.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1285958275",
                "html_url": "https://github.com/yarnpkg/berry/issues/4876#issuecomment-1285958275",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876",
                "id": 1285958275,
                "node_id": "IC_kwDOCNXKfM5MpiqD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-20T18:16:04Z",
                "updated_at": "2022-10-20T18:16:04Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1285958275/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-20T18:16:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24704930173",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4856",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4856",
                "id": 1376697033,
                "node_id": "I_kwDOCNXKfM5SDrrJ",
                "number": 4856,
                "title": "[Bug?]: This package doesn't seem to be present in your lockfile; run \"yarn install\" to update the lockfile",
                "user": {
                    "login": "Jexsie",
                    "id": 104269786,
                    "node_id": "U_kgDOBjcH2g",
                    "avatar_url": "https://avatars.githubusercontent.com/u/104269786?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Jexsie",
                    "html_url": "https://github.com/Jexsie",
                    "followers_url": "https://api.github.com/users/Jexsie/followers",
                    "following_url": "https://api.github.com/users/Jexsie/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Jexsie/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Jexsie/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Jexsie/subscriptions",
                    "organizations_url": "https://api.github.com/users/Jexsie/orgs",
                    "repos_url": "https://api.github.com/users/Jexsie/repos",
                    "events_url": "https://api.github.com/users/Jexsie/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Jexsie/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-17T07:37:44Z",
                "updated_at": "2022-10-19T18:13:19Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI have got this issue after upgrading to yarn 3.x\r\nYarn throws that \"internal error\" as shown in the screenshot everytime I execute commands like \"yarn install,\" \"yarn build,\"  in different projects am working on. \r\n![dfvfv](https://user-images.githubusercontent.com/104269786/190845975-abbeddfb-561f-41ce-9968-d14f2a99783f.png)\r\n\n\n### To reproduce\n\nInternal Error: @openmrs/esm-core@workspace:.: This package doesn't seem to be present in your lockfile; run \"yarn install\" to update the lockfile\r\n    at OR.getCandidates (/home/coder/.yarn/releases/yarn-3.2.3.cjs:435:5209)\r\n    at Bd.getCandidates (/home/coder/.yarn/releases/yarn-3.2.3.cjs:391:1281)\r\n    at /home/coder/.yarn/releases/yarn-3.2.3.cjs:439:7764\r\n    at Tg (/home/coder/.yarn/releases/yarn-3.2.3.cjs:390:11154)\r\n    at ce (/home/coder/.yarn/releases/yarn-3.2.3.cjs:439:7744)\r\n\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.5 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-6600U CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-c26faf78/node\r\n    Yarn: 3.2.3 - /tmp/xfs-c26faf78/yarn\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1284396152",
                "html_url": "https://github.com/yarnpkg/berry/issues/4856#issuecomment-1284396152",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856",
                "id": 1284396152,
                "node_id": "IC_kwDOCNXKfM5MjlR4",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-19T18:13:19Z",
                "updated_at": "2022-10-19T18:13:19Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1284396152/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-19T18:13:20Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24678628285",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11371454439,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "2b14decf17f20c54e253d67ed981ab35b7e002d6",
            "before": "bf4c5b0039cf62badaa96695c638434225820050",
            "commits": [
                {
                    "sha": "5e4c35e21d53b2192f4560d1c3ae29dc2d400f58",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.26` |\n| `@yarnpkg/core` | `4.0.0-rc.26` |\n| `@yarnpkg/parsers` | `3.0.0-rc.26` |\n| `@yarnpkg/shell` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.26` |\n| `@yarnpkg/extensions` | `2.0.0-rc.8` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.26` |\n| `@yarnpkg/pnp` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.26` |\n| `@yarnpkg/sdks` | `3.0.0-rc.26` |\n| `@yarnpkg/fslib` | `3.0.0-rc.26` |\n| `@yarnpkg/libui` | `3.0.0-rc.26` |\n| `@yarnpkg/libzip` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.26` |\n| `vscode-zipfs` | `2.6.0-rc.15` |\n| `@yarnpkg/nm` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.26` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.26` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.26` |\n| `@yarnpkg/builder` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.26` |\n| `@yarnpkg/doctor` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.26` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/5e4c35e21d53b2192f4560d1c3ae29dc2d400f58"
                },
                {
                    "sha": "2b14decf17f20c54e253d67ed981ab35b7e002d6",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/2b14decf17f20c54e253d67ed981ab35b7e002d6"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-18T19:12:27Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24668420462",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4843",
                "id": 1370848211,
                "node_id": "I_kwDOCNXKfM5RtXvT",
                "number": 4843,
                "title": "[Bug?]: Unable to use yarn2 for development",
                "user": {
                    "login": "raja-jamwal",
                    "id": 1223189,
                    "node_id": "MDQ6VXNlcjEyMjMxODk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1223189?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/raja-jamwal",
                    "html_url": "https://github.com/raja-jamwal",
                    "followers_url": "https://api.github.com/users/raja-jamwal/followers",
                    "following_url": "https://api.github.com/users/raja-jamwal/following{/other_user}",
                    "gists_url": "https://api.github.com/users/raja-jamwal/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/raja-jamwal/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/raja-jamwal/subscriptions",
                    "organizations_url": "https://api.github.com/users/raja-jamwal/orgs",
                    "repos_url": "https://api.github.com/users/raja-jamwal/repos",
                    "events_url": "https://api.github.com/users/raja-jamwal/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/raja-jamwal/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-13T04:46:47Z",
                "updated_at": "2022-10-18T12:07:55Z",
                "closed_at": "2022-10-18T12:07:55Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nUpgraded a multi workspace project to use `yarn2`, deleted old node_modules, yarn.lock, did a fresh `yarn install`. On trying to run `yarn start`, it errors out as \r\n\r\n``` something@workspace:.: This package doesn't seem to be present in your lockfile; try to make an install to update your resolution```\r\n\r\nAlso there is no `yarn.lock`.\r\n\r\nI followed this (https://stackoverflow.com/questions/64722201/yarn-command-yarn-import-error-this-package-doesnt-seem-to-be-present-in-you/66734056#66734056) but there are no nested `yarn.lock` and workspaces are also correctly configured.\n\n### To reproduce\n\nmulti workspace \n\n### Environment\n\n```shell\nOS: Mac\r\n\r\nNode: v16.13.1\r\n\r\nNPM: 8.1.2\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-18T12:07:55Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24662898165",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4863",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4863",
                "id": 1376959469,
                "node_id": "I_kwDOCNXKfM5SErvt",
                "number": 4863,
                "title": "[Bug?]: `yarn set version stable` stopped working",
                "user": {
                    "login": "dylanh724",
                    "id": 8840024,
                    "node_id": "MDQ6VXNlcjg4NDAwMjQ=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8840024?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dylanh724",
                    "html_url": "https://github.com/dylanh724",
                    "followers_url": "https://api.github.com/users/dylanh724/followers",
                    "following_url": "https://api.github.com/users/dylanh724/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dylanh724/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dylanh724/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dylanh724/subscriptions",
                    "organizations_url": "https://api.github.com/users/dylanh724/orgs",
                    "repos_url": "https://api.github.com/users/dylanh724/repos",
                    "events_url": "https://api.github.com/users/dylanh724/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dylanh724/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-18T06:21:09Z",
                "updated_at": "2022-10-18T08:09:11Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`yarn set version stable` -> not found.\r\n\r\nI can `yarn set version berry`, and it saves it to .yarn/releases/, but *still* doesn't set the version.\r\n\r\nPossibly related to: \r\n* https://github.com/yarnpkg/berry/issues/4234\r\n* https://github.com/yarnpkg/berry/issues/4797\r\n\r\n> error An unexpected error occurred: \"Release not found: stable\".\r\ninfo If you think this is a bug, please open a bug report with the information provided in \"/mnt/c/Repos/home/{myProj}/yarn-error.log\".    \r\n\r\n![image](https://user-images.githubusercontent.com/8840024/190890495-65d5b50c-b588-4df6-a166-516c38a960fa.png)\r\n\r\n### To reproduce\r\n\r\n1. `yarn -v` == 1.22.11\r\n2. Go into your proj dir\r\n3. type `yarn set version stable`\r\n\r\n### Environment\r\n\r\n```shell\r\nCommand \"dlx\" not found. // This is a yarn v2+ feat?\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n> Trace: \r\n  Error: Release not found: stable\r\n      at /home/{myUser}/.yarn/releases/yarn-1.22.11.cjs:98340:17\r\n      at Generator.next (<anonymous>)\r\n      at step (/home/{myUser}/.yarn/releases/yarn-1.22.11.cjs:310:30)\r\n      at /home/{myUser}/.yarn/releases/yarn-1.22.11.cjs:321:13\r\n      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1281982534",
                "html_url": "https://github.com/yarnpkg/berry/issues/4863#issuecomment-1281982534",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863",
                "id": 1281982534,
                "node_id": "IC_kwDOCNXKfM5MaYBG",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-18T08:09:11Z",
                "updated_at": "2022-10-18T08:09:11Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1281982534/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-18T08:09:11Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24616078856",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/3997",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/3997",
                "id": 1108983752,
                "node_id": "I_kwDOCNXKfM5CGb_I",
                "number": 3997,
                "title": "[Feature] Allow plugin usage in scripts",
                "user": {
                    "login": "johnameyer",
                    "id": 3662655,
                    "node_id": "MDQ6VXNlcjM2NjI2NTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3662655?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/johnameyer",
                    "html_url": "https://github.com/johnameyer",
                    "followers_url": "https://api.github.com/users/johnameyer/followers",
                    "following_url": "https://api.github.com/users/johnameyer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/johnameyer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/johnameyer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/johnameyer/subscriptions",
                    "organizations_url": "https://api.github.com/users/johnameyer/orgs",
                    "repos_url": "https://api.github.com/users/johnameyer/repos",
                    "events_url": "https://api.github.com/users/johnameyer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/johnameyer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-01-20T08:06:22Z",
                "updated_at": "2022-10-15T10:28:21Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI expected to be able to use the `workspaces` command from inside my `package.json` scripts but installing it as a plugin or as a dev dependency did not bring it into scope.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\n\r\nawait packageJsonAndInstall({\r\n  scripts: {\r\n    test: \"yarn workspaces foreach exec echo hello\"\r\n  }\r\n});\r\n\r\n// await yarn(`plugin`, `import`, `workspace-tools`);\r\n// ^ plugin lookup 404s with 3.2.0-rc.11.dev\r\nawait yarn(`plugin`, `import`, `https://github.com/yarnpkg/berry/raw/@yarnpkg/cli/3.1.1/packages/plugin-workspace-tools/bin/%40yarnpkg/plugin-workspace-tools.js`);\r\n\r\nawait yarn(`workspaces`, `foreach`, `exec`, `echo`, `hello`); // Expected outcome\r\n\r\nlet result = \"\";\r\ntry {\r\n  result = await yarn(`test`);\r\n} catch (e) {\r\n  expect(e.toString()).not.toMatch('command not found: workspaces');\r\n}\r\nexpect(result).toMatch(\"hello\"); \r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.10 Ubuntu 18.04.1 LTS (Bionic Beaver)\r\n    CPU: (2) x64 Intel(R) Core(TM) i5-8300H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.6.0 - /tmp/xfs-9ffddeeb/node\r\n    Yarn: 3.1.1 - /tmp/xfs-9ffddeeb/yarn\r\n    npm: 7.24.0 - /usr/local/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1279715267",
                "html_url": "https://github.com/yarnpkg/berry/issues/3997#issuecomment-1279715267",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997",
                "id": 1279715267,
                "node_id": "IC_kwDOCNXKfM5MRufD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-15T10:28:21Z",
                "updated_at": "2022-10-15T10:28:21Z",
                "author_association": "COLLABORATOR",
                "body": "We couldn't reproduce your issue (all the assertions passed on master).",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1279715267/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-15T10:28:22Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24575628977",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4843",
                "id": 1370848211,
                "node_id": "I_kwDOCNXKfM5RtXvT",
                "number": 4843,
                "title": "[Bug?]: Unable to use yarn2 for development",
                "user": {
                    "login": "raja-jamwal",
                    "id": 1223189,
                    "node_id": "MDQ6VXNlcjEyMjMxODk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1223189?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/raja-jamwal",
                    "html_url": "https://github.com/raja-jamwal",
                    "followers_url": "https://api.github.com/users/raja-jamwal/followers",
                    "following_url": "https://api.github.com/users/raja-jamwal/following{/other_user}",
                    "gists_url": "https://api.github.com/users/raja-jamwal/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/raja-jamwal/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/raja-jamwal/subscriptions",
                    "organizations_url": "https://api.github.com/users/raja-jamwal/orgs",
                    "repos_url": "https://api.github.com/users/raja-jamwal/repos",
                    "events_url": "https://api.github.com/users/raja-jamwal/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/raja-jamwal/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-13T04:46:47Z",
                "updated_at": "2022-10-13T12:07:52Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nUpgraded a multi workspace project to use `yarn2`, deleted old node_modules, yarn.lock, did a fresh `yarn install`. On trying to run `yarn start`, it errors out as \r\n\r\n``` something@workspace:.: This package doesn't seem to be present in your lockfile; try to make an install to update your resolution```\r\n\r\nAlso there is no `yarn.lock`.\r\n\r\nI followed this (https://stackoverflow.com/questions/64722201/yarn-command-yarn-import-error-this-package-doesnt-seem-to-be-present-in-you/66734056#66734056) but there are no nested `yarn.lock` and workspaces are also correctly configured.\n\n### To reproduce\n\nmulti workspace \n\n### Environment\n\n```shell\nOS: Mac\r\n\r\nNode: v16.13.1\r\n\r\nNPM: 8.1.2\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1277509112",
                "html_url": "https://github.com/yarnpkg/berry/issues/4843#issuecomment-1277509112",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843",
                "id": 1277509112,
                "node_id": "IC_kwDOCNXKfM5MJT34",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-13T12:07:52Z",
                "updated_at": "2022-10-13T12:07:52Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1277509112/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-13T12:07:52Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24558704731",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4802",
                "id": 1354309072,
                "node_id": "I_kwDOCNXKfM5QuR3Q",
                "number": 4802,
                "title": "[Bug?]: Patch isn't applying fully to @rnmapbox/maps",
                "user": {
                    "login": "natew",
                    "id": 12100,
                    "node_id": "MDQ6VXNlcjEyMTAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12100?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/natew",
                    "html_url": "https://github.com/natew",
                    "followers_url": "https://api.github.com/users/natew/followers",
                    "following_url": "https://api.github.com/users/natew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/natew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/natew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/natew/subscriptions",
                    "organizations_url": "https://api.github.com/users/natew/orgs",
                    "repos_url": "https://api.github.com/users/natew/repos",
                    "events_url": "https://api.github.com/users/natew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/natew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-29T13:32:58Z",
                "updated_at": "2022-10-12T18:10:23Z",
                "closed_at": "2022-10-12T18:10:23Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### To reproduce\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M2\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/node\r\n    Yarn: 3.1.1 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/yarn\r\n    npm: 8.15.0 - ~/Library/Caches/fnm_multishells/69747_1653603955297/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-12T18:10:23Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24511146887",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11284817637,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "b7f42424f6a13ffdb0bd1e7e03693ba03b8e1eda",
            "before": "9655cb21e6529c43b987a7748924a77b6cde6699",
            "commits": [
                {
                    "sha": "b933b4ca72eaf6781462ff506b0deb9d86346a0c",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.25` |\n| `@yarnpkg/core` | `4.0.0-rc.25` |\n| `@yarnpkg/parsers` | `3.0.0-rc.25` |\n| `@yarnpkg/shell` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.25` |\n| `@yarnpkg/extensions` | `2.0.0-rc.7` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.25` |\n| `@yarnpkg/pnp` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.25` |\n| `@yarnpkg/sdks` | `3.0.0-rc.25` |\n| `@yarnpkg/fslib` | `3.0.0-rc.25` |\n| `@yarnpkg/libui` | `3.0.0-rc.25` |\n| `@yarnpkg/libzip` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.25` |\n| `vscode-zipfs` | `2.6.0-rc.14` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.25` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.25` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.25` |\n| `@yarnpkg/builder` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.25` |\n| `@yarnpkg/nm` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.25` |\n| `@yarnpkg/doctor` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.25` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/b933b4ca72eaf6781462ff506b0deb9d86346a0c"
                },
                {
                    "sha": "b7f42424f6a13ffdb0bd1e7e03693ba03b8e1eda",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/b7f42424f6a13ffdb0bd1e7e03693ba03b8e1eda"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-10T21:39:30Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24484256708",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4790",
                "id": 1347419210,
                "node_id": "I_kwDOCNXKfM5QT_xK",
                "number": 4790,
                "title": "[Bug?]: yarn npm publish has different \"request\" then npm publish",
                "user": {
                    "login": "yarinsa",
                    "id": 44482362,
                    "node_id": "MDQ6VXNlcjQ0NDgyMzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44482362?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarinsa",
                    "html_url": "https://github.com/yarinsa",
                    "followers_url": "https://api.github.com/users/yarinsa/followers",
                    "following_url": "https://api.github.com/users/yarinsa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarinsa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarinsa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarinsa/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarinsa/orgs",
                    "repos_url": "https://api.github.com/users/yarinsa/repos",
                    "events_url": "https://api.github.com/users/yarinsa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarinsa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-23T06:39:44Z",
                "updated_at": "2022-10-09T08:05:37Z",
                "closed_at": "2022-10-09T08:05:37Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am using private registry by JFrog. Trying to publish a package. \r\n\r\nTook me a while to work with scoped private repo (had to base64 user:password) and use it as npmAuthIdent.\r\n\r\nWhen I  finally got it to work,\r\n Seems like everything is great but the package cant be found. \r\nAfter comparison with running  \"npm publish\" vs \"yarn npm publish\" I saw that the diff is that yarn uploads json file, and npm uploads a directory the contains the tgz.\r\nNot sure how to point the problem. \n\n### To reproduce\n\nNot sure how to upload reproduction \n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) x64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.13.1 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/node\r\n    Yarn: 3.2.2 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-09T08:05:37Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24484256607",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4816",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4816",
                "id": 1361064853,
                "node_id": "I_kwDOCNXKfM5RIDOV",
                "number": 4816,
                "title": "[Bug?]: can't query latest version - yarn npm view doesn't work with nested fields",
                "user": {
                    "login": "yarinsa",
                    "id": 44482362,
                    "node_id": "MDQ6VXNlcjQ0NDgyMzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44482362?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarinsa",
                    "html_url": "https://github.com/yarinsa",
                    "followers_url": "https://api.github.com/users/yarinsa/followers",
                    "following_url": "https://api.github.com/users/yarinsa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarinsa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarinsa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarinsa/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarinsa/orgs",
                    "repos_url": "https://api.github.com/users/yarinsa/repos",
                    "events_url": "https://api.github.com/users/yarinsa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarinsa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-04T07:10:43Z",
                "updated_at": "2022-10-09T08:05:36Z",
                "closed_at": "2022-10-09T08:05:36Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nI would like to query the artifactory  for the latest version released.\r\nAccording to npm docs I could do something like\r\n`yarn npm info {package_name} --fields \"dist-tags.latest`\r\nTo get nested properties inside \"dist-tags\". \r\nYarn returns \" The dist-tags.latest field doesn't exist inside {package_name}'s information\"\n\n### To reproduce\n\nExpected:\r\n  yarn npm info react --fields dist-tags.latest -> 18.2.0\r\n\r\nActual:\r\n yarn npm info react --fields dist-tags.latest -> The dist-tags.latest field doesn't exist inside react's information\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) x64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.13.1 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-b1e6bf51/node\r\n    Yarn: 3.2.2 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-b1e6bf51/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\n```\n\n\n### Additional context\n\nI could use npm view otherwise. But yarn doesn't have \"yarn view || yarn npm view\". Would be willing to help with that as well",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-09T08:05:37Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24480078781",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4808",
                "id": 1359723803,
                "node_id": "I_kwDOCNXKfM5RC70b",
                "number": 4808,
                "title": "Yarn Syntax Error - .yarnrc.yml: SyntaxError: ';' expected",
                "user": {
                    "login": "Shakti2303",
                    "id": 40260455,
                    "node_id": "MDQ6VXNlcjQwMjYwNDU1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/40260455?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shakti2303",
                    "html_url": "https://github.com/Shakti2303",
                    "followers_url": "https://api.github.com/users/Shakti2303/followers",
                    "following_url": "https://api.github.com/users/Shakti2303/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shakti2303/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shakti2303/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shakti2303/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shakti2303/orgs",
                    "repos_url": "https://api.github.com/users/Shakti2303/repos",
                    "events_url": "https://api.github.com/users/Shakti2303/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shakti2303/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-02T05:34:05Z",
                "updated_at": "2022-10-08T18:05:03Z",
                "closed_at": "2022-10-08T18:05:03Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n\r\n\r\nI have an angular project with Yarn (3.2.3) installed. While running `yarn run format:check`, it reads .yarnrc.yml file and throws below error:\r\n```\r\n.yarnrc.yml: SyntaxError: ';' expected \r\n[error]   3 | npmRegistryServer: 'SOME_SERVER'\r\n[error]   4 | npmScopes:\r\n[error] > 5 |   \"my-private-repo\":\r\n[error]     |                      ^\r\n[error]   6 |     npmRegistryServer: 'SOME_SERVER'\r\n[error]   7 |   ionic:\r\n[error]   8 |     npmRegistryServer: 'SOME_SERVER'\r\n```\r\n\r\n### To reproduce\r\n\r\nHere is my .yarnrc.yml configuration:\r\n```yaml\r\nyarnPath: \".yarn/releases/yarn-3.2.3.cjs\"\r\nnodeLinker: node-modules\r\nnpmRegistryServer: 'SOME_SERVER'\r\nnpmScopes:\r\n  \"my-private-repo\":\r\n    npmRegistryServer: 'SOME_SERVER'\r\n  ionic:\r\n    npmRegistryServer: 'SOME_SERVER'\r\nenableStrictSsl: false\r\nhttpRetry: 2\r\nhttpTimeout: 60000\r\n```\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?\r\n\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nNode Version : 14.15.4\r\nYarn : 3.2.3\r\nmacOS : 11.6.5\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-08T18:05:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24479312537",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11266986413,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "bd0ad90334be381abb5bed303a33ba0bd6e1e54d",
            "before": "bb8fe0a4a95992d0210e75386ff7530c93e8071a",
            "commits": [
                {
                    "sha": "3bc86a50b8cc9d55060e9b91a93cb19ca5be596e",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.24` |\n| `@yarnpkg/core` | `4.0.0-rc.24` |\n| `@yarnpkg/parsers` | `3.0.0-rc.24` |\n| `@yarnpkg/shell` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.24` |\n| `@yarnpkg/extensions` | `2.0.0-rc.6` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.24` |\n| `@yarnpkg/pnp` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.24` |\n| `@yarnpkg/sdks` | `3.0.0-rc.24` |\n| `@yarnpkg/fslib` | `3.0.0-rc.24` |\n| `@yarnpkg/libui` | `3.0.0-rc.24` |\n| `@yarnpkg/libzip` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.24` |\n| `vscode-zipfs` | `2.6.0-rc.13` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.24` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.24` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.24` |\n| `@yarnpkg/builder` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.24` |\n| `@yarnpkg/nm` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.24` |\n| `@yarnpkg/doctor` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.24` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/3bc86a50b8cc9d55060e9b91a93cb19ca5be596e"
                },
                {
                    "sha": "bd0ad90334be381abb5bed303a33ba0bd6e1e54d",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/bd0ad90334be381abb5bed303a33ba0bd6e1e54d"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-08T15:59:57Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24478433336",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4612",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4612",
                "id": 1298863461,
                "node_id": "I_kwDOCNXKfM5NaxVl",
                "number": 4612,
                "title": "[Bug?]: Regression error for `yarn dedupe`.",
                "user": {
                    "login": "liuxingbaoyu",
                    "id": 30521560,
                    "node_id": "MDQ6VXNlcjMwNTIxNTYw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/30521560?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/liuxingbaoyu",
                    "html_url": "https://github.com/liuxingbaoyu",
                    "followers_url": "https://api.github.com/users/liuxingbaoyu/followers",
                    "following_url": "https://api.github.com/users/liuxingbaoyu/following{/other_user}",
                    "gists_url": "https://api.github.com/users/liuxingbaoyu/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/liuxingbaoyu/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/liuxingbaoyu/subscriptions",
                    "organizations_url": "https://api.github.com/users/liuxingbaoyu/orgs",
                    "repos_url": "https://api.github.com/users/liuxingbaoyu/repos",
                    "events_url": "https://api.github.com/users/liuxingbaoyu/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/liuxingbaoyu/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    },
                    {
                        "id": 2124593803,
                        "node_id": "MDU6TGFiZWwyMTI0NTkzODAz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/upholded",
                        "name": "upholded",
                        "color": "35d668",
                        "default": false,
                        "description": "Real issues without formal reproduction"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-07-08T11:00:44Z",
                "updated_at": "2022-10-08T13:41:06Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`yarn dedupe --check` shows that there is a package that can be dedupe but running `yarn dedupe` has no effect.\r\nThis is a regression bug that worked fine in 3.1.1 but was broken in 3.2.0 until the current main branch.\r\n\r\n```\r\nPS F:\\babel> yarn dedupe --check\r\n\u27a4 YN0000: \u250c Deduplication step\r\n\u27a4 YN0000: \u2502 eslint@npm:eslint@^8.0.0 can be deduped from eslint@npm:8.0.0 to eslint@npm:8.9.0\r\n\u27a4 YN0000: \u2502 One package can be deduped using the highest strategy\r\n\u27a4 YN0000: \u2514 Completed\r\n```\r\n\r\n### To reproduce\r\n\r\n#### Sherlock\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    [`eslint`]: `^8.9.0`,\r\n    [`eslint-8`]: `npm:eslint@^8.0.0`,\r\n  },\r\n});\r\n\r\nawait yarn(`set`, `resolution`, `eslint-8@npm:eslint@^8.0.0`, `npm:eslint@8.0.0`);\r\n\r\nawait yarn(`dedupe`);\r\n\r\nawait expect(yarn(`dedupe`, `--check`))\r\n  .resolves.toBeTruthy();\r\n```\r\n\r\n#### Babel repo (latest commit doesn't repro, go back to an older commit such as `41582ee444debf24dc0702cef2919f608d06b235`)\r\n\r\n```sh\r\ngit clone https://github.com/babel/babel\r\ncd babel\r\nyarn set version stable\r\nyarn dedupe\r\nyarn dedupe --check\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (24) x64 AMD Ryzen Threadripper 1920X 12-Core Processor\r\n  Binaries:\r\n    Node: 18.3.0 - C:\\Users\\liuxingbaoyu\\AppData\\Local\\Temp\\xfs-fd8c095c\\node.CMD\r\n    Yarn: 3.2.0 - C:\\Users\\liuxingbaoyu\\AppData\\Local\\Temp\\xfs-fd8c095c\\yarn.CMD\r\n    npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/reactions",
                    "total_count": 1,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 1
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1272323341",
                "html_url": "https://github.com/yarnpkg/berry/issues/4612#issuecomment-1272323341",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612",
                "id": 1272323341,
                "node_id": "IC_kwDOCNXKfM5L1h0N",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-08T13:41:06Z",
                "updated_at": "2022-10-08T13:41:06Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js dedupe --check\n\n\u27a4 YN0000: \u250c Deduplication step\n::group::Deduplication step\n\u27a4 YN0000: \u2502 eslint@npm:eslint@^8.0.0 can be deduped from eslint@npm:8.0.0 to eslint@npm:8.25.0\n\u27a4 YN0000: \u2502 One package can be deduped using the highest strategy\n::endgroup::\n\u27a4 YN0000: \u2514 Completed\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:13:7)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1272323341/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-08T13:41:06Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24477172073",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11265563892,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "e6e314eed22dcfd2217e9678643b0a649523ecfe",
            "before": "578dbe7f1c97ca686730bc62396bfc944c03f8db",
            "commits": [
                {
                    "sha": "8c8de6f982a89c0d383169689969b1e97f3a05f5",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.23` |\n| `@yarnpkg/core` | `4.0.0-rc.23` |\n| `@yarnpkg/parsers` | `3.0.0-rc.23` |\n| `@yarnpkg/shell` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.23` |\n| `@yarnpkg/extensions` | `2.0.0-rc.5` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.23` |\n| `@yarnpkg/pnp` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.23` |\n| `@yarnpkg/sdks` | `3.0.0-rc.23` |\n| `@yarnpkg/fslib` | `3.0.0-rc.23` |\n| `@yarnpkg/libui` | `3.0.0-rc.23` |\n| `@yarnpkg/libzip` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.23` |\n| `vscode-zipfs` | `2.6.0-rc.12` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.23` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.23` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.23` |\n| `@yarnpkg/builder` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.23` |\n| `@yarnpkg/nm` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.23` |\n| `@yarnpkg/doctor` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.23` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/8c8de6f982a89c0d383169689969b1e97f3a05f5"
                },
                {
                    "sha": "e6e314eed22dcfd2217e9678643b0a649523ecfe",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/e6e314eed22dcfd2217e9678643b0a649523ecfe"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-08T10:14:29Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24469372833",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4802",
                "id": 1354309072,
                "node_id": "I_kwDOCNXKfM5QuR3Q",
                "number": 4802,
                "title": "[Bug?]: Patch isn't applying fully to @rnmapbox/maps",
                "user": {
                    "login": "natew",
                    "id": 12100,
                    "node_id": "MDQ6VXNlcjEyMTAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12100?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/natew",
                    "html_url": "https://github.com/natew",
                    "followers_url": "https://api.github.com/users/natew/followers",
                    "following_url": "https://api.github.com/users/natew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/natew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/natew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/natew/subscriptions",
                    "organizations_url": "https://api.github.com/users/natew/orgs",
                    "repos_url": "https://api.github.com/users/natew/repos",
                    "events_url": "https://api.github.com/users/natew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/natew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-29T13:32:58Z",
                "updated_at": "2022-10-07T18:09:50Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### To reproduce\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M2\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/node\r\n    Yarn: 3.1.1 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/yarn\r\n    npm: 8.15.0 - ~/Library/Caches/fnm_multishells/69747_1653603955297/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1271894942",
                "html_url": "https://github.com/yarnpkg/berry/issues/4802#issuecomment-1271894942",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802",
                "id": 1271894942,
                "node_id": "IC_kwDOCNXKfM5Lz5Oe",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-07T18:09:50Z",
                "updated_at": "2022-10-07T18:09:50Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1271894942/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-07T18:09:51Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24441915083",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824",
                "id": 1363352463,
                "node_id": "I_kwDOCNXKfM5RQxuP",
                "number": 4824,
                "title": "[Bug?]: peerdependency version being ignored?",
                "user": {
                    "login": "lucas-zimerman",
                    "id": 8229322,
                    "node_id": "MDQ6VXNlcjgyMjkzMjI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8229322?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lucas-zimerman",
                    "html_url": "https://github.com/lucas-zimerman",
                    "followers_url": "https://api.github.com/users/lucas-zimerman/followers",
                    "following_url": "https://api.github.com/users/lucas-zimerman/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lucas-zimerman/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lucas-zimerman/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lucas-zimerman/subscriptions",
                    "organizations_url": "https://api.github.com/users/lucas-zimerman/orgs",
                    "repos_url": "https://api.github.com/users/lucas-zimerman/repos",
                    "events_url": "https://api.github.com/users/lucas-zimerman/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lucas-zimerman/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-09-06T14:11:04Z",
                "updated_at": "2022-10-06T15:06:21Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am adding this as a bug since the behavior is different from npm.\r\nIn short, running the bellow command has different behaviors, npm adds @sentry/angular using the version defined on the peerDependency of @sentry/capacitor@0.9.0 where yarn ignores that version number and uses the latest version of the package.\r\n\r\n\r\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"packageManager\": \"yarn@3.2.3\",\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.12.1\",\r\n    \"@sentry/capacitor\": \"0.9.0\",\r\n  }\r\n}\r\n```\r\n\r\nnpm install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.8.1\",\r\n    \"@sentry/capacitor\": \"^0.9.0\"\r\n  }\r\n}\r\n```\r\n\r\nsentry angular is defined as a peer dependency here:\r\nhttps://github.com/getsentry/sentry-capacitor/blob/0.9.0/package.json#L40\r\n\r\nIf not a bug, it would be great to know how `yarn` could behave the same as `npm` in this case where users type for example `yarn add @sentry/capacitor @sentry/angular` where @sentry/capacitor has a peer dependency  version lower than the latest release of @sentry/angular.\n\n### To reproduce\n\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n\r\nno need to add additional code, the build will break because the types are incompatible with the latest version of @sentry/angular\r\n\r\n```js repro\r\n// Sherlock reproduction. For instance:\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    [`@sentry/capacitor`]: `0.9.0`,\r\n    [`@sentry/angular`]: ``,\r\n  },\r\n});\r\n```\r\n\n\n### Environment\n\n```shell\nSame was reproduced by other users on different machines.\r\n\r\n  System:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 18.7.0 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\node.CMD\r\n    Yarn: 3.2.3 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\yarn.CMD\r\n    npm: 8.19.1 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1270229281",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824#issuecomment-1270229281",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "id": 1270229281,
                "node_id": "IC_kwDOCNXKfM5Ltikh",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-06T15:06:21Z",
                "updated_at": "2022-10-06T15:06:21Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1270229281/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-06T15:06:21Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24380301495",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4790",
                "id": 1347419210,
                "node_id": "I_kwDOCNXKfM5QT_xK",
                "number": 4790,
                "title": "[Bug?]: yarn npm publish has different \"request\" then npm publish",
                "user": {
                    "login": "yarinsa",
                    "id": 44482362,
                    "node_id": "MDQ6VXNlcjQ0NDgyMzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44482362?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarinsa",
                    "html_url": "https://github.com/yarinsa",
                    "followers_url": "https://api.github.com/users/yarinsa/followers",
                    "following_url": "https://api.github.com/users/yarinsa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarinsa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarinsa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarinsa/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarinsa/orgs",
                    "repos_url": "https://api.github.com/users/yarinsa/repos",
                    "events_url": "https://api.github.com/users/yarinsa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarinsa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-23T06:39:44Z",
                "updated_at": "2022-10-04T07:12:08Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am using private registry by JFrog. Trying to publish a package. \r\n\r\nTook me a while to work with scoped private repo (had to base64 user:password) and use it as npmAuthIdent.\r\n\r\nWhen I  finally got it to work,\r\n Seems like everything is great but the package cant be found. \r\nAfter comparison with running  \"npm publish\" vs \"yarn npm publish\" I saw that the diff is that yarn uploads json file, and npm uploads a directory the contains the tgz.\r\nNot sure how to point the problem. \n\n### To reproduce\n\nNot sure how to upload reproduction \n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) x64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.13.1 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/node\r\n    Yarn: 3.2.2 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1266506951",
                "html_url": "https://github.com/yarnpkg/berry/issues/4790#issuecomment-1266506951",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790",
                "id": 1266506951,
                "node_id": "IC_kwDOCNXKfM5LfVzH",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-04T07:12:08Z",
                "updated_at": "2022-10-04T07:12:08Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1266506951/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-04T07:12:08Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24368707159",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4808",
                "id": 1359723803,
                "node_id": "I_kwDOCNXKfM5RC70b",
                "number": 4808,
                "title": "Yarn Syntax Error - .yarnrc.yml: SyntaxError: ';' expected",
                "user": {
                    "login": "Shakti2303",
                    "id": 40260455,
                    "node_id": "MDQ6VXNlcjQwMjYwNDU1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/40260455?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shakti2303",
                    "html_url": "https://github.com/Shakti2303",
                    "followers_url": "https://api.github.com/users/Shakti2303/followers",
                    "following_url": "https://api.github.com/users/Shakti2303/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shakti2303/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shakti2303/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shakti2303/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shakti2303/orgs",
                    "repos_url": "https://api.github.com/users/Shakti2303/repos",
                    "events_url": "https://api.github.com/users/Shakti2303/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shakti2303/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-02T05:34:05Z",
                "updated_at": "2022-10-03T17:17:18Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n\r\n\r\nI have an angular project with Yarn (3.2.3) installed. While running `yarn run format:check`, it reads .yarnrc.yml file and throws below error:\r\n```\r\n.yarnrc.yml: SyntaxError: ';' expected \r\n[error]   3 | npmRegistryServer: 'SOME_SERVER'\r\n[error]   4 | npmScopes:\r\n[error] > 5 |   \"my-private-repo\":\r\n[error]     |                      ^\r\n[error]   6 |     npmRegistryServer: 'SOME_SERVER'\r\n[error]   7 |   ionic:\r\n[error]   8 |     npmRegistryServer: 'SOME_SERVER'\r\n```\r\n\r\n### To reproduce\r\n\r\nHere is my .yarnrc.yml configuration:\r\n```yaml\r\nyarnPath: \".yarn/releases/yarn-3.2.3.cjs\"\r\nnodeLinker: node-modules\r\nnpmRegistryServer: 'SOME_SERVER'\r\nnpmScopes:\r\n  \"my-private-repo\":\r\n    npmRegistryServer: 'SOME_SERVER'\r\n  ionic:\r\n    npmRegistryServer: 'SOME_SERVER'\r\nenableStrictSsl: false\r\nhttpRetry: 2\r\nhttpTimeout: 60000\r\n```\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?\r\n\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nNode Version : 14.15.4\r\nYarn : 3.2.3\r\nmacOS : 11.6.5\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265774562",
                "html_url": "https://github.com/yarnpkg/berry/issues/4808#issuecomment-1265774562",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808",
                "id": 1265774562,
                "node_id": "IC_kwDOCNXKfM5Lci_i",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-03T17:17:18Z",
                "updated_at": "2022-10-03T17:17:18Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265774562/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-03T17:17:18Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24356608752",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-10-03T08:03:51Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\r\n\r\n### To reproduce\r\n\r\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\n# With Corepack disabled, we need to get Yarn from somewhere else\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\r\n\r\nwith the following package.json:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n\r\nAs you can see, the version used for `yarn pack` is different:\r\n- with Corepack _enabled_, it's using v1.22.15\r\n- with Corepack _disabled_, it's using v2+, I think?\r\n\r\nNote that I have a global Yarn install from Homebrew:\r\n```sh\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n```\r\n\r\nThe same happens when Yarn is installed through npm (as per the Dockerfile repro).\r\n\r\nAnother interesting finding: no matter if Corepack is enabled or disabled, the Yarn binary & version stays the same:\r\n```sh\r\n# From my home directory\r\n# Results are the same from within my project directory, except the version is 3.2.3 there\r\n$ corepack disable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n$ corepack enable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265078078",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1265078078",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1265078078,
                "node_id": "IC_kwDOCNXKfM5LZ48-",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-03T08:03:51Z",
                "updated_at": "2022-10-03T08:03:51Z",
                "author_association": "COLLABORATOR",
                "body": "The reproduction case in your issue seems broken (ie it neither pass nor fail due to throwing an unmanaged exception):\n```\nError: spawn /usr/bin/corepack ENOENT\n\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n    at onErrorNT (node:internal/child_process:478:16)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\n```\n\nRemember: any non-Jest exceptions will cause the test to be reported as broken. If you expect something to pass without throwing, you must wrap it into something like `await expect(...).resolves.toBeTruthy()`. If you instead expect something to throw, you need to wrap it into `await expect(...).rejects.toThrow()`.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265078078/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-03T08:03:51Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24356478734",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-10-03T07:57:23Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\r\n\r\n### To reproduce\r\n\r\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\n# With Corepack disabled, we need to get Yarn from somewhere else\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\r\n\r\nwith the following package.json:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n\r\nAs you can see, the version used for `yarn pack` is different:\r\n- with Corepack _enabled_, it's using v1.22.15\r\n- with Corepack _disabled_, it's using v2+, I think?\r\n\r\nNote that I have a global Yarn install from Homebrew:\r\n```sh\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n```\r\n\r\nThe same happens when Yarn is installed through npm (as per the Dockerfile repro)",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265070925",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1265070925",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1265070925,
                "node_id": "IC_kwDOCNXKfM5LZ3NN",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-03T07:57:23Z",
                "updated_at": "2022-10-03T07:57:23Z",
                "author_association": "COLLABORATOR",
                "body": "The reproduction case in your issue seems broken (ie it neither pass nor fail due to throwing an unmanaged exception):\n```\nError: spawn /usr/bin/corepack ENOENT\n\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n    at onErrorNT (node:internal/child_process:478:16)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\n```\n\nRemember: any non-Jest exceptions will cause the test to be reported as broken. If you expect something to pass without throwing, you must wrap it into something like `await expect(...).resolves.toBeTruthy()`. If you instead expect something to throw, you need to wrap it into `await expect(...).rejects.toThrow()`.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265070925/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-03T07:57:24Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24336327345",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4799",
                "id": 1352936412,
                "node_id": "I_kwDOCNXKfM5QpCvc",
                "number": 4799,
                "title": "[Bug?]: yarn version applied wrong prelease version",
                "user": {
                    "login": "Brooooooklyn",
                    "id": 3468483,
                    "node_id": "MDQ6VXNlcjM0Njg0ODM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3468483?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Brooooooklyn",
                    "html_url": "https://github.com/Brooooooklyn",
                    "followers_url": "https://api.github.com/users/Brooooooklyn/followers",
                    "following_url": "https://api.github.com/users/Brooooooklyn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Brooooooklyn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Brooooooklyn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Brooooooklyn/subscriptions",
                    "organizations_url": "https://api.github.com/users/Brooooooklyn/orgs",
                    "repos_url": "https://api.github.com/users/Brooooooklyn/repos",
                    "events_url": "https://api.github.com/users/Brooooooklyn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Brooooooklyn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-27T04:17:37Z",
                "updated_at": "2022-10-01T05:29:15Z",
                "closed_at": "2022-10-01T05:29:15Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nCurrent version: `0.0.1-alpha.0`\r\n\r\nRun command: `yarn version 0.0.1-alpha.1 -d && yarn version apply --all`\r\n\r\nThe version became `0.0.1-0`\r\n\r\nIt should be `0.0.1-alpha.1`\r\n\r\n### Environment\r\n\r\n```shell\r\nos: macos 12\r\nnode: 16.17.0\r\nyarn: 3.2.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-01T05:29:15Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24320283755",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4797",
                "id": 1352023722,
                "node_id": "I_kwDOCNXKfM5Qlj6q",
                "number": 4797,
                "title": "[Bug?]: Error: Release not found",
                "user": {
                    "login": "jweboy",
                    "id": 16516645,
                    "node_id": "MDQ6VXNlcjE2NTE2NjQ1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16516645?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jweboy",
                    "html_url": "https://github.com/jweboy",
                    "followers_url": "https://api.github.com/users/jweboy/followers",
                    "following_url": "https://api.github.com/users/jweboy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jweboy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jweboy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jweboy/subscriptions",
                    "organizations_url": "https://api.github.com/users/jweboy/orgs",
                    "repos_url": "https://api.github.com/users/jweboy/repos",
                    "events_url": "https://api.github.com/users/jweboy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jweboy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-26T09:42:32Z",
                "updated_at": "2022-09-30T10:05:52Z",
                "closed_at": "2022-09-30T10:05:52Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nyarn set version /berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\nyarn set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\n```bash\r\nArguments:\r\n  /Users/jianglei/.volta/tools/image/node/16.15.0/bin/node /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin/yarn.js set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n\r\nPATH:\r\n  /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin:/Users/jianglei/.volta/tools/image/node/16.15.0/bin:/Users/jianglei/.volta/bin:/Users/jianglei/bin:/Users/jianglei/.deno/bin:/Users/jianglei/.nvs/default/bin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/jianglei/.cargo/bin:/Users/jianglei/Development/flutter/bin:/Users/jianglei/.pub-cache/bin:/Users/jianglei/Development/golang/bin:/usr/local/opt/go/libexec/bin:/Users/jianglei/Development/Docker:/Users/jianglei/Development/emsdk:/Users/jianglei/Development/ngrok\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\r\n\r\nTrace:\r\n  Error: Release not found: https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:86351:17\r\n      at Generator.next (<anonymous>)\r\n      at step (/Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:310:30)\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:321:13\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```\n\n### To reproduce\n\n-\n\n### Environment\n\n```shell\nmacOS\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-09-30T10:05:53Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24315904931",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4920",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4920",
                "id": 1391877191,
                "node_id": "I_kwDOCNXKfM5S9lxH",
                "number": 4920,
                "title": "[Bug?]: `fs.promises.open` doesn't throw `ENOENT` when path doesn't exist",
                "user": {
                    "login": "alvinleung1996",
                    "id": 17541320,
                    "node_id": "MDQ6VXNlcjE3NTQxMzIw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17541320?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alvinleung1996",
                    "html_url": "https://github.com/alvinleung1996",
                    "followers_url": "https://api.github.com/users/alvinleung1996/followers",
                    "following_url": "https://api.github.com/users/alvinleung1996/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alvinleung1996/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alvinleung1996/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alvinleung1996/subscriptions",
                    "organizations_url": "https://api.github.com/users/alvinleung1996/orgs",
                    "repos_url": "https://api.github.com/users/alvinleung1996/repos",
                    "events_url": "https://api.github.com/users/alvinleung1996/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alvinleung1996/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-30T06:02:56Z",
                "updated_at": "2022-09-30T06:15:07Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`fs.promises.open` resolves with a `FileHandle` object when given an non-existing file path.\r\n\r\nThe correct behavior should be throwing an error with code `ENOENT`.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    'tslib': '*',\r\n  },\r\n})\r\n\r\nconst realPath = await node(`require.resolve('tslib/package.json')`)\r\nconst fakePath = `${realPath}.fake`\r\n\r\nconst result = await node(`\r\n  require('fs/promises')\r\n    .open(${JSON.stringify(fakePath)})\r\n    .then(() => 'resolved')\r\n    .catch((err) => \\`rejected: \\${err.code}\\`)\r\n`)\r\nexpect(result).toBe('rejected: ENOENT')\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n  OS: Linux 5.10 Alpine Linux\r\n  CPU: (8) x64 Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\r\nBinaries:\r\n  Node: 16.17.1 - /tmp/xfs-28478f54/node\r\n  Yarn: 3.2.3 - /tmp/xfs-28478f54/yarn\r\n  npm: 8.15.0 - /usr/local/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1263148601",
                "html_url": "https://github.com/yarnpkg/berry/issues/4920#issuecomment-1263148601",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920",
                "id": 1263148601,
                "node_id": "IC_kwDOCNXKfM5LSh45",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-30T06:15:06Z",
                "updated_at": "2022-09-30T06:15:06Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"rejected: ENOENT\"\nReceived: \"resolved\"\n    at module.exports (evalmachine.<anonymous>:17:16)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1263148601/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-30T06:15:07Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24308872047",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4795",
                "id": 1351340797,
                "node_id": "I_kwDOCNXKfM5Qi9L9",
                "number": 4795,
                "title": "[Bug?]: Spaces in Windows username causes yarn create to fail",
                "user": {
                    "login": "Miladiir",
                    "id": 1358063,
                    "node_id": "MDQ6VXNlcjEzNTgwNjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1358063?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Miladiir",
                    "html_url": "https://github.com/Miladiir",
                    "followers_url": "https://api.github.com/users/Miladiir/followers",
                    "following_url": "https://api.github.com/users/Miladiir/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Miladiir/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Miladiir/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Miladiir/subscriptions",
                    "organizations_url": "https://api.github.com/users/Miladiir/orgs",
                    "repos_url": "https://api.github.com/users/Miladiir/repos",
                    "events_url": "https://api.github.com/users/Miladiir/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Miladiir/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-25T19:11:40Z",
                "updated_at": "2022-09-29T20:05:25Z",
                "closed_at": "2022-09-29T20:05:25Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n### To reproduce\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n1. Install Windows, e.g. 10 or 11\r\n2. Create a user with a space in the name\r\n3. Try to use yarn for anything, e.g. `yarn create vite`\r\n4. Boom\r\n\r\n### Environment\r\n\r\n`yarn dlx -q envinfo --preset jest` fails for me aswell.\r\nIt's a windows machine. My username contains a space, which is perfectly fine for npm, npx etc.\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-09-29T20:05:25Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24280125668",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11165131328,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "c26001a65a997dc5c2b3f219a12cb51247d7d50e",
            "before": "3092cfc155ad8eaadcf663c11816f7b73ec9922a",
            "commits": [
                {
                    "sha": "74eb9033d56c3bf208cf8ea0c624e1e4a9c0f631",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.22` |\n| `@yarnpkg/core` | `4.0.0-rc.22` |\n| `@yarnpkg/parsers` | `3.0.0-rc.22` |\n| `@yarnpkg/shell` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.22` |\n| `@yarnpkg/extensions` | `2.0.0-rc.4` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.22` |\n| `@yarnpkg/pnp` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.22` |\n| `@yarnpkg/sdks` | `3.0.0-rc.22` |\n| `@yarnpkg/fslib` | `3.0.0-rc.22` |\n| `@yarnpkg/libui` | `3.0.0-rc.22` |\n| `@yarnpkg/libzip` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.22` |\n| `vscode-zipfs` | `2.6.0-rc.11` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.22` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.22` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.22` |\n| `@yarnpkg/builder` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.22` |\n| `@yarnpkg/nm` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.22` |\n| `@yarnpkg/doctor` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.22` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/74eb9033d56c3bf208cf8ea0c624e1e4a9c0f631"
                },
                {
                    "sha": "c26001a65a997dc5c2b3f219a12cb51247d7d50e",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/c26001a65a997dc5c2b3f219a12cb51247d7d50e"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-28T16:39:14Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24280087851",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-09-28T16:37:20Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\n\n### To reproduce\n\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\n```\n\n\n### Additional context\n\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1261167898",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1261167898",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1261167898,
                "node_id": "IC_kwDOCNXKfM5LK-Ua",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-28T16:37:20Z",
                "updated_at": "2022-09-28T16:37:20Z",
                "author_association": "COLLABORATOR",
                "body": "The reproduction case in your issue seems broken (ie it neither pass nor fail due to throwing an unmanaged exception):\n```\nError: spawn /usr/bin/corepack ENOENT\n\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n    at onErrorNT (node:internal/child_process:478:16)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\n```\n\nRemember: any non-Jest exceptions will cause the test to be reported as broken. If you expect something to pass without throwing, you must wrap it into something like `await expect(...).resolves.toBeTruthy()`. If you instead expect something to throw, you need to wrap it into `await expect(...).rejects.toThrow()`.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1261167898/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-28T16:37:21Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24243881090",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909",
                "id": 1387379336,
                "node_id": "I_kwDOCNXKfM5SsbqI",
                "number": 4909,
                "title": "[Bug?]: ENOENT when trying to install a package tarball that references another tarball",
                "user": {
                    "login": "AlCalzone",
                    "id": 17641229,
                    "node_id": "MDQ6VXNlcjE3NjQxMjI5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17641229?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/AlCalzone",
                    "html_url": "https://github.com/AlCalzone",
                    "followers_url": "https://api.github.com/users/AlCalzone/followers",
                    "following_url": "https://api.github.com/users/AlCalzone/following{/other_user}",
                    "gists_url": "https://api.github.com/users/AlCalzone/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/AlCalzone/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/AlCalzone/subscriptions",
                    "organizations_url": "https://api.github.com/users/AlCalzone/orgs",
                    "repos_url": "https://api.github.com/users/AlCalzone/repos",
                    "events_url": "https://api.github.com/users/AlCalzone/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/AlCalzone/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-27T08:52:49Z",
                "updated_at": "2022-09-27T08:59:51Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to install a package tarball that references another package tarball via a relative path, yarn fails to resolve the referenced tarball. To reproduce, create the following file structure:\r\n* `package.json`, references `file:./package-2.tgz`\r\n* `package-2.tgz`, contains a file `package/package.json` which references `file:./package-1.tgz`\r\n* `package-1.tgz`, contains another file `package/package.json`\r\n\r\nIt looks like yarn tries resolving from the installed location (node_modules) instead of the source tarball location. The same works fine when using `npm`, or when using absolute paths (`file:/path/to/package-1.tgz`) with yarn.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2();\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2() {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': 'file:./package-1.tgz'\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.15 Ubuntu 22.04.1 LTS 22.04.1 LTS (Jammy Jellyfish)\r\n    CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Binaries:\r\n    Node: 16.17.0 - /tmp/xfs-5b1c2183/node\r\n    Yarn: 3.2.3 - /tmp/xfs-5b1c2183/yarn\r\n    npm: 8.19.2 - /usr/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThis does NOT fail, since `package-2` references `package-1` via an absolute path:\r\n\r\n```js\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2(tar1);\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2(tar1Path) {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': `file:${tar1Path}`\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259200793",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909#issuecomment-1259200793",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "id": 1259200793,
                "node_id": "IC_kwDOCNXKfM5LDeEZ",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-27T08:59:51Z",
                "updated_at": "2022-09-27T08:59:51Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js install\n\n\u27a4 YN0000: \u250c Resolution step\n::group::Resolution step\n\u27a4 YN0001: \u2502 Error: package-1@file:./package-1.tgz::locator=package-2%40file%3A%2Ftmp%2Ftmp-17RoKWjEH5N53Z%2Fpackage-2.tgz%3A%3Alocator%3Dapplication%2540workspace%253A.: ENOENT: no such file or directory, open 'node_modules/package-2/package-1.tgz'\n    at makeError (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:2:24)\n    at Object.ENOENT (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:22:10)\n    at ZipFS.readFileBuffer (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1447:20)\n    at ZipFS.readFilePromise (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1420:29)\n    at LazyFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at AliasFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at TarballFileFetcher.fetchFromDisk (/github/workspace/packages/plugin-file/sources/TarballFileFetcher.ts:62:41)\n    at loadPackageThroughMirror (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:252:23)\n    at loadPackage (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:268:58)\n    at loadPackageThroughMutex (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:350:16)\n::endgroup::\n\u27a4 YN0000: \u2514 Completed in 0s 383ms\n\u27a4 YN0000: Failed with errors in 0s 386ms\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:20:7)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259200793/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-27T08:59:51Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24243786994",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909",
                "id": 1387379336,
                "node_id": "I_kwDOCNXKfM5SsbqI",
                "number": 4909,
                "title": "[Bug?]: ENOENT when trying to install a package tarball that references another tarball",
                "user": {
                    "login": "AlCalzone",
                    "id": 17641229,
                    "node_id": "MDQ6VXNlcjE3NjQxMjI5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17641229?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/AlCalzone",
                    "html_url": "https://github.com/AlCalzone",
                    "followers_url": "https://api.github.com/users/AlCalzone/followers",
                    "following_url": "https://api.github.com/users/AlCalzone/following{/other_user}",
                    "gists_url": "https://api.github.com/users/AlCalzone/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/AlCalzone/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/AlCalzone/subscriptions",
                    "organizations_url": "https://api.github.com/users/AlCalzone/orgs",
                    "repos_url": "https://api.github.com/users/AlCalzone/repos",
                    "events_url": "https://api.github.com/users/AlCalzone/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/AlCalzone/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-27T08:52:49Z",
                "updated_at": "2022-09-27T08:55:41Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to install a package tarball that references another package tarball via a relative path, yarn fails to resolve the referenced tarball. To reproduce, create the following file structure:\r\n* `package.json`, references `file:./package-2.tgz`\r\n* `package-2.tgz`, contains `package/package.json` which references `file:./package-1.tgz`\r\n* `package-1.tgz`, contains `package/package.json`\r\n\r\nIt looks like yarn tries resolving from the installed location (node_modules) instead of the source tarball location. The same works fine when using `npm`, or when using absolute paths (`file:/path/to/package-1.tgz`) with yarn.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2();\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2() {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': 'file:./package-1.tgz'\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.15 Ubuntu 22.04.1 LTS 22.04.1 LTS (Jammy Jellyfish)\r\n    CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Binaries:\r\n    Node: 16.17.0 - /tmp/xfs-5b1c2183/node\r\n    Yarn: 3.2.3 - /tmp/xfs-5b1c2183/yarn\r\n    npm: 8.19.2 - /usr/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThis does NOT fail, since `package-2` references `package-1` via an absolute path:\r\n\r\n```js\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2(tar1);\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2(tar1Path) {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': `file:${tar1Path}`\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259196129",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909#issuecomment-1259196129",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "id": 1259196129,
                "node_id": "IC_kwDOCNXKfM5LDc7h",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-27T08:55:40Z",
                "updated_at": "2022-09-27T08:55:40Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js install\n\n\u27a4 YN0000: \u250c Resolution step\n::group::Resolution step\n\u27a4 YN0001: \u2502 Error: package-1@file:./package-1.tgz::locator=package-2%40file%3A%2Ftmp%2Ftmp-17RboMfTN62WRn%2Fpackage-2.tgz%3A%3Alocator%3Dapplication%2540workspace%253A.: ENOENT: no such file or directory, open 'node_modules/package-2/package-1.tgz'\n    at makeError (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:2:24)\n    at Object.ENOENT (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:22:10)\n    at ZipFS.readFileBuffer (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1447:20)\n    at ZipFS.readFilePromise (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1420:29)\n    at LazyFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at AliasFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at TarballFileFetcher.fetchFromDisk (/github/workspace/packages/plugin-file/sources/TarballFileFetcher.ts:62:41)\n    at loadPackageThroughMirror (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:252:23)\n    at loadPackage (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:268:58)\n    at loadPackageThroughMutex (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:350:16)\n::endgroup::\n\u27a4 YN0000: \u2514 Completed in 0s 378ms\n\u27a4 YN0000: Failed with errors in 0s 382ms\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:20:7)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259196129/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-27T08:55:41Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24239334025",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908",
                "id": 1387063752,
                "node_id": "I_kwDOCNXKfM5SrOnI",
                "number": 4908,
                "title": "[Bug?]: --cwd does not work with relative paths",
                "user": {
                    "login": "Shayan-To",
                    "id": 12458563,
                    "node_id": "MDQ6VXNlcjEyNDU4NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12458563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shayan-To",
                    "html_url": "https://github.com/Shayan-To",
                    "followers_url": "https://api.github.com/users/Shayan-To/followers",
                    "following_url": "https://api.github.com/users/Shayan-To/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shayan-To/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shayan-To/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shayan-To/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shayan-To/orgs",
                    "repos_url": "https://api.github.com/users/Shayan-To/repos",
                    "events_url": "https://api.github.com/users/Shayan-To/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shayan-To/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-27T04:29:58Z",
                "updated_at": "2022-09-27T04:32:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen using `--cwd` with a relative path, yarn seems to resolve the relative path twice (or even more times when `.../subdir/subdir` actually is a directory!). So running `yarn --cwd subdir`, it tries to access `.../subdir/subdir` and then it gives an error that the path does not exist.\n\n### To reproduce\n\n```js repro\r\nconst { mkdir } = require(\"fs/promises\");\r\n\r\nawait mkdir(\"subdir\");\r\nawait expect(yarn(\"--cwd\", \"subdir\", \"init\")).resolves.not.toThrow();\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-3537U CPU @ 2.00GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-ebd4110f/node\r\n    Yarn: 3.2.0 - /tmp/xfs-ebd4110f/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1258956225",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908#issuecomment-1258956225",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "id": 1258956225,
                "node_id": "IC_kwDOCNXKfM5LCiXB",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-27T04:32:04Z",
                "updated_at": "2022-09-27T04:32:04Z",
                "author_association": "COLLABORATOR",
                "body": "We couldn't reproduce your issue (all the assertions passed on master).",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1258956225/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-27T04:32:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24218153355",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11134755534,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "8ff27df294a3bf056d26675f12d85aeb553d8402",
            "before": "23873788ed56b0c3d41ab8a2f7b774084c0309df",
            "commits": [
                {
                    "sha": "6ab69dda2872ef39540619f89b52dec67f604222",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.21` |\n| `@yarnpkg/core` | `4.0.0-rc.21` |\n| `@yarnpkg/parsers` | `3.0.0-rc.21` |\n| `@yarnpkg/shell` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.21` |\n| `@yarnpkg/extensions` | `2.0.0-rc.3` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.21` |\n| `@yarnpkg/pnp` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.21` |\n| `@yarnpkg/sdks` | `3.0.0-rc.21` |\n| `@yarnpkg/fslib` | `3.0.0-rc.21` |\n| `@yarnpkg/libui` | `3.0.0-rc.21` |\n| `@yarnpkg/libzip` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.21` |\n| `vscode-zipfs` | `2.6.0-rc.10` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.21` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.21` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.21` |\n| `@yarnpkg/builder` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.21` |\n| `@yarnpkg/nm` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.21` |\n| `@yarnpkg/doctor` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.21` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/6ab69dda2872ef39540619f89b52dec67f604222"
                },
                {
                    "sha": "8ff27df294a3bf056d26675f12d85aeb553d8402",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/8ff27df294a3bf056d26675f12d85aeb553d8402"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-26T08:37:39Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24214405510",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4799",
                "id": 1352936412,
                "node_id": "I_kwDOCNXKfM5QpCvc",
                "number": 4799,
                "title": "[Bug?]: yarn version applied wrong prelease version",
                "user": {
                    "login": "Brooooooklyn",
                    "id": 3468483,
                    "node_id": "MDQ6VXNlcjM0Njg0ODM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3468483?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Brooooooklyn",
                    "html_url": "https://github.com/Brooooooklyn",
                    "followers_url": "https://api.github.com/users/Brooooooklyn/followers",
                    "following_url": "https://api.github.com/users/Brooooooklyn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Brooooooklyn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Brooooooklyn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Brooooooklyn/subscriptions",
                    "organizations_url": "https://api.github.com/users/Brooooooklyn/orgs",
                    "repos_url": "https://api.github.com/users/Brooooooklyn/repos",
                    "events_url": "https://api.github.com/users/Brooooooklyn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Brooooooklyn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-08-27T04:17:37Z",
                "updated_at": "2022-09-26T04:44:08Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nCurrent version: `0.0.1-alpha.0`\r\n\r\nRun command: `yarn version 0.0.1-alpha.1 -d && yarn version apply --all`\r\n\r\nThe version became `0.0.1-0`\r\n\r\nIt should be `0.0.1-alpha.1`\r\n\r\n### Environment\r\n\r\n```shell\r\nos: macos 12\r\nnode: 16.17.0\r\nyarn: 3.2.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257474757",
                "html_url": "https://github.com/yarnpkg/berry/issues/4799#issuecomment-1257474757",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799",
                "id": 1257474757,
                "node_id": "IC_kwDOCNXKfM5K84rF",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-26T04:44:08Z",
                "updated_at": "2022-09-26T04:44:08Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257474757/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-26T04:44:08Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24206547670",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4797",
                "id": 1352023722,
                "node_id": "I_kwDOCNXKfM5Qlj6q",
                "number": 4797,
                "title": "[Bug?]: Error: Release not found",
                "user": {
                    "login": "jweboy",
                    "id": 16516645,
                    "node_id": "MDQ6VXNlcjE2NTE2NjQ1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16516645?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jweboy",
                    "html_url": "https://github.com/jweboy",
                    "followers_url": "https://api.github.com/users/jweboy/followers",
                    "following_url": "https://api.github.com/users/jweboy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jweboy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jweboy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jweboy/subscriptions",
                    "organizations_url": "https://api.github.com/users/jweboy/orgs",
                    "repos_url": "https://api.github.com/users/jweboy/repos",
                    "events_url": "https://api.github.com/users/jweboy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jweboy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-26T09:42:32Z",
                "updated_at": "2022-09-25T10:04:42Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nyarn set version /berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\nyarn set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\n```bash\r\nArguments:\r\n  /Users/jianglei/.volta/tools/image/node/16.15.0/bin/node /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin/yarn.js set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n\r\nPATH:\r\n  /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin:/Users/jianglei/.volta/tools/image/node/16.15.0/bin:/Users/jianglei/.volta/bin:/Users/jianglei/bin:/Users/jianglei/.deno/bin:/Users/jianglei/.nvs/default/bin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/jianglei/.cargo/bin:/Users/jianglei/Development/flutter/bin:/Users/jianglei/.pub-cache/bin:/Users/jianglei/Development/golang/bin:/usr/local/opt/go/libexec/bin:/Users/jianglei/Development/Docker:/Users/jianglei/Development/emsdk:/Users/jianglei/Development/ngrok\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\r\n\r\nTrace:\r\n  Error: Release not found: https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:86351:17\r\n      at Generator.next (<anonymous>)\r\n      at step (/Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:310:30)\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:321:13\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```\n\n### To reproduce\n\n-\n\n### Environment\n\n```shell\nmacOS\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257159922",
                "html_url": "https://github.com/yarnpkg/berry/issues/4797#issuecomment-1257159922",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797",
                "id": 1257159922,
                "node_id": "IC_kwDOCNXKfM5K7rzy",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-25T10:04:41Z",
                "updated_at": "2022-09-25T10:04:41Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257159922/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-25T10:04:42Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24202745554",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4795",
                "id": 1351340797,
                "node_id": "I_kwDOCNXKfM5Qi9L9",
                "number": 4795,
                "title": "[Bug?]: Spaces in Windows username causes yarn create to fail",
                "user": {
                    "login": "Miladiir",
                    "id": 1358063,
                    "node_id": "MDQ6VXNlcjEzNTgwNjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1358063?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Miladiir",
                    "html_url": "https://github.com/Miladiir",
                    "followers_url": "https://api.github.com/users/Miladiir/followers",
                    "following_url": "https://api.github.com/users/Miladiir/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Miladiir/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Miladiir/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Miladiir/subscriptions",
                    "organizations_url": "https://api.github.com/users/Miladiir/orgs",
                    "repos_url": "https://api.github.com/users/Miladiir/repos",
                    "events_url": "https://api.github.com/users/Miladiir/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Miladiir/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-25T19:11:40Z",
                "updated_at": "2022-09-24T20:04:54Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n### To reproduce\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n1. Install Windows, e.g. 10 or 11\r\n2. Create a user with a space in the name\r\n3. Try to use yarn for anything, e.g. `yarn create vite`\r\n4. Boom\r\n\r\n### Environment\r\n\r\n`yarn dlx -q envinfo --preset jest` fails for me aswell.\r\nIt's a windows machine. My username contains a space, which is perfectly fine for npm, npx etc.\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257056214",
                "html_url": "https://github.com/yarnpkg/berry/issues/4795#issuecomment-1257056214",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795",
                "id": 1257056214,
                "node_id": "IC_kwDOCNXKfM5K7SfW",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-24T20:04:54Z",
                "updated_at": "2022-09-24T20:04:54Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257056214/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-24T20:04:54Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24100869334",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4750",
                "id": 1339559287,
                "node_id": "I_kwDOCNXKfM5P2A13",
                "number": 4750,
                "title": "[Bug?]: install cache didn't save on cacheFolder",
                "user": {
                    "login": "bluelovers",
                    "id": 167966,
                    "node_id": "MDQ6VXNlcjE2Nzk2Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/167966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bluelovers",
                    "html_url": "https://github.com/bluelovers",
                    "followers_url": "https://api.github.com/users/bluelovers/followers",
                    "following_url": "https://api.github.com/users/bluelovers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bluelovers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bluelovers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bluelovers/subscriptions",
                    "organizations_url": "https://api.github.com/users/bluelovers/orgs",
                    "repos_url": "https://api.github.com/users/bluelovers/repos",
                    "events_url": "https://api.github.com/users/bluelovers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bluelovers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-15T21:58:00Z",
                "updated_at": "2022-09-20T00:24:46Z",
                "closed_at": "2022-09-20T00:24:46Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\ninstall cache didn't save on cacheFolder\r\n\r\n### To reproduce\r\n\r\n1. run yarn install\r\n\r\ncached file should save in `T:\\cache\\yarn-cache`\r\nbut it save at `C:\\Users\\User\\AppData\\Local\\Yarn\\Berry\\cache`\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nyarn-3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n~/.yarnrc.yml\r\n```\r\nnpmRegistryServer: \"https://registry.npmjs.org/\"\r\ncacheFolder: \"T:\\\\cache\\\\yarn-cache\"\r\nenableColors: true\r\nnodeLinker: node-modules\r\n\r\nplugins:\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-workspace-tools\"\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-interactive-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-interactive-tools\"\r\n\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184725032-c55ff5d5-1f98-4c2c-a895-16513a55f8d1.png)\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184726697-34a11ffd-8305-4e92-9f75-2b4793846f4a.png)\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-09-20T00:24:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24085675193",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11065566068,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "9d24ec2deb8f01b233f2d3f10e5dcbd185a77212",
            "before": "5d71ebccf1eae6e573083eddb8a17cc0971708dd",
            "commits": [
                {
                    "sha": "04808022cc15208a89e9f6cf5c7cbf489385f802",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.20` |\n| `@yarnpkg/core` | `4.0.0-rc.20` |\n| `@yarnpkg/parsers` | `3.0.0-rc.20` |\n| `@yarnpkg/shell` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.20` |\n| `@yarnpkg/extensions` | `2.0.0-rc.2` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.20` |\n| `@yarnpkg/pnp` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.20` |\n| `@yarnpkg/sdks` | `3.0.0-rc.20` |\n| `@yarnpkg/fslib` | `3.0.0-rc.20` |\n| `@yarnpkg/libui` | `3.0.0-rc.20` |\n| `@yarnpkg/libzip` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.20` |\n| `vscode-zipfs` | `2.6.0-rc.9` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.20` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.20` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.20` |\n| `@yarnpkg/builder` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.20` |\n| `@yarnpkg/nm` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.20` |\n| `@yarnpkg/doctor` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.20` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/04808022cc15208a89e9f6cf5c7cbf489385f802"
                },
                {
                    "sha": "9d24ec2deb8f01b233f2d3f10e5dcbd185a77212",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/9d24ec2deb8f01b233f2d3f10e5dcbd185a77212"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-19T10:41:56Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24085054856",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11065251652,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "1939f90630df68efab973b295d5547466218c101",
            "before": "bd18da32110bdb4a059188213c3ec8be37d8e6ea",
            "commits": [
                {
                    "sha": "d26b74a1b92d30caef946f89f7af818066c2774d",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.19` |\n| `@yarnpkg/core` | `4.0.0-rc.19` |\n| `@yarnpkg/parsers` | `3.0.0-rc.19` |\n| `@yarnpkg/shell` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.19` |\n| `@yarnpkg/extensions` | `2.0.0-rc.1` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.19` |\n| `@yarnpkg/pnp` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.19` |\n| `@yarnpkg/sdks` | `3.0.0-rc.19` |\n| `@yarnpkg/fslib` | `3.0.0-rc.19` |\n| `@yarnpkg/libui` | `3.0.0-rc.19` |\n| `@yarnpkg/libzip` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.19` |\n| `vscode-zipfs` | `2.6.0-rc.8` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.19` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.19` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.19` |\n| `@yarnpkg/builder` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.19` |\n| `@yarnpkg/nm` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.19` |\n| `@yarnpkg/doctor` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.19` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/d26b74a1b92d30caef946f89f7af818066c2774d"
                },
                {
                    "sha": "1939f90630df68efab973b295d5547466218c101",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/1939f90630df68efab973b295d5547466218c101"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-19T10:09:20Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24061226185",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4855",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4855",
                "id": 1376571194,
                "node_id": "I_kwDOCNXKfM5SDM86",
                "number": 4855,
                "title": "[Bug?]: Shrelock Playground gets stuck at \"running the repro\" state with errors in Console",
                "user": {
                    "login": "trivikr",
                    "id": 16024985,
                    "node_id": "MDQ6VXNlcjE2MDI0OTg1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16024985?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/trivikr",
                    "html_url": "https://github.com/trivikr",
                    "followers_url": "https://api.github.com/users/trivikr/followers",
                    "following_url": "https://api.github.com/users/trivikr/following{/other_user}",
                    "gists_url": "https://api.github.com/users/trivikr/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/trivikr/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/trivikr/subscriptions",
                    "organizations_url": "https://api.github.com/users/trivikr/orgs",
                    "repos_url": "https://api.github.com/users/trivikr/repos",
                    "events_url": "https://api.github.com/users/trivikr/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/trivikr/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-16T22:56:34Z",
                "updated_at": "2022-09-16T23:07:34Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nShrelock Playground gets stuck at \"running the repro\" state with errors in Console\r\n\r\n### To reproduce\r\n\r\nVisit Sherlock Playground at [viko0.sse.codesandbox.io](https://viko0.sse.codesandbox.io/)\r\n\r\nAdd an example code for repro, and press run:\r\n```js repro\r\nconst tscVersion = \"4.8.2\";\r\n\r\nawait packageJsonAndInstall({\r\n  name: \"test-tsc-version\",\r\n  devDependencies: {\r\n    [\"typescript\"]: tscVersion\r\n  }\r\n});\r\n\r\nconst tscVersionOutput = await expect(yarn(`tsc`, `--version`));\r\nexpect(tscVersionOutput).toEqual(expect.stringContaining(tscVersion));\r\n```\r\n\r\nNotice that CORS error is thrown in Console:\r\n```console\r\nAccess to fetch at 'https://viko0.sse.codesandbox.io/api/sherlock?code=const%20tscVersion%20%3D%20%224.8.2%22%3B%0A%0Aawait%20packageJsonAndInstall(%7B%0A%20%20name%3A%20%22test-tsc-version%22%2C%0A%20%20devDependencies%3A%20%7B%0A%20%20%20%20%5B%22typescript%22%5D%3A%20tscVersion%0A%20%20%7D%0A%7D)%3B%0A%0Aconst%20tscVersionOutput%20%3D%20await%20expect(yarn(%60tsc%60%2C%20%60--version%60))%3B%0Aexpect(tscVersionOutput).stringContaining(tscVersion)%3B' from origin 'https://yarnpkg.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n  OS: macOS 12.1\r\n  CPU: (8) arm64 Apple M1 Pro\r\nBrowsers:\r\n  Brave Browser: 105.1.43.89\r\n  Safari: 15.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n<img width=\"1367\" alt=\"sherlock-playground-running-the-repro\" src=\"https://user-images.githubusercontent.com/16024985/190827918-dcf79e8a-200f-49f1-b921-a21efbb5ca5e.png\">\r\n\r\n</details>",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1249926563",
                "html_url": "https://github.com/yarnpkg/berry/issues/4855#issuecomment-1249926563",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855",
                "id": 1249926563,
                "node_id": "IC_kwDOCNXKfM5KgF2j",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-16T23:07:34Z",
                "updated_at": "2022-09-16T23:07:34Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).toEqual(expected) // deep equality\n\nExpected: StringContaining \"4.8.2\"\nReceived: {\"lastCalledWith\": [Function throwingMatcher], \"lastReturnedWith\": [Function throwingMatcher], \"not\": {\"lastCalledWith\": [Function throwingMatcher], \"lastReturnedWith\": [Function throwingMatcher], \"nthCalledWith\": [Function throwingMatcher], \"nthReturnedWith\": [Function throwingMatcher], \"toBe\": [Function throwingMatcher], \"toBeCalled\": [Function throwingMatcher], \"toBeCalledTimes\": [Function throwingMatcher], \"toBeCalledWith\": [Function throwingMatcher], \"toBeCloseTo\": [Function throwingMatcher], \"toBeDefined\": [Function throwingMatcher], \"toBeFalsy\": [Function throwingMatcher], \"toBeGreaterThan\": [Function throwingMatcher], \"toBeGreaterThanOrEqual\": [Function throwingMatcher], \"toBeInstanceOf\": [Function throwingMatcher], \"toBeLessThan\": [Function throwingMatcher], \"toBeLessThanOrEqual\": [Function throwingMatcher], \"toBeNaN\": [Function throwingMatcher], \"toBeNull\": [Function throwingMatcher], \"toBeTruthy\": [Function throwingMatcher], \"toBeUndefined\": [Function throwingMatcher], \"toContain\": [Function throwingMatcher], \"toContainEqual\": [Function throwingMatcher], \"toEqual\": [Function throwingMatcher], \"toHaveBeenCalled\": [Function throwingMatcher], \"toHaveBeenCalledTimes\": [Function throwingMatcher], \"toHaveBeenCalledWith\": [Function throwingMatcher], \"toHaveBeenLastCalledWith\": [Function throwingMatcher], \"toHaveBeenNthCalledWith\": [Function throwingMatcher], \"toHaveLastReturnedWith\": [Function throwingMatcher], \"toHaveLength\": [Function throwingMatcher], \"toHaveNthReturnedWith\": [Function throwingMatcher], \"toHaveProperty\": [Function throwingMatcher], \"toHaveReturned\": [Function throwingMatcher], \"toHaveReturnedTimes\": [Function throwingMatcher], \"toHaveReturnedWith\": [Function throwingMatcher], \"toMatch\": [Function throwingMatcher], \"toMatchObject\": [Function throwingMatcher], \"toReturn\": [Function throwingMatcher], \"toReturnTimes\": [Function throwingMatcher], \"toReturnWith\": [Function throwingMatcher], \"toStrictEqual\": [Function throwingMatcher], \"toThrow\": [Function throwingMatcher], \"toThrowError\": [Function throwingMatcher]}, \"nthCalledWith\": [Function throwingMatcher], \"nthReturnedWith\": [Function throwingMatcher], \"rejects\": {\"lastCalledWith\": [Function anonymous], \"lastReturnedWith\": [Function anonymous], \"not\": [Object], \"nthCalledWith\": [Function anonymous], \"nthReturnedWith\": [Function anonymous], \"toBe\": [Function anonymous], \"toBeCalled\": [Function anonymous], \"toBeCalledTimes\": [Function anonymous], \"toBeCalledWith\": [Function anonymous], \"toBeCloseTo\": [Function anonymous], \"toBeDefined\": [Function anonymous], \"toBeFalsy\": [Function anonymous], \"toBeGreaterThan\": [Function anonymous], \"toBeGreaterThanOrEqual\": [Function anonymous], \"toBeInstanceOf\": [Function anonymous], \"toBeLessThan\": [Function anonymous], \"toBeLessThanOrEqual\": [Function anonymous], \"toBeNaN\": [Function anonymous], \"toBeNull\": [Function anonymous], \"toBeTruthy\": [Function anonymous], \"toBeUndefined\": [Function anonymous], \"toContain\": [Function anonymous], \"toContainEqual\": [Function anonymous], \"toEqual\": [Function anonymous], \"toHaveBeenCalled\": [Function anonymous], \"toHaveBeenCalledTimes\": [Function anonymous], \"toHaveBeenCalledWith\": [Function anonymous], \"toHaveBeenLastCalledWith\": [Function anonymous], \"toHaveBeenNthCalledWith\": [Function anonymous], \"toHaveLastReturnedWith\": [Function anonymous], \"toHaveLength\": [Function anonymous], \"toHaveNthReturnedWith\": [Function anonymous], \"toHaveProperty\": [Function anonymous], \"toHaveReturned\": [Function anonymous], \"toHaveReturnedTimes\": [Function anonymous], \"toHaveReturnedWith\": [Function anonymous], \"toMatch\": [Function anonymous], \"toMatchObject\": [Function anonymous], \"toReturn\": [Function anonymous], \"toReturnTimes\": [Function anonymous], \"toReturnWith\": [Function anonymous], \"toStrictEqual\": [Function anonymous], \"toThrow\": [Function anonymous], \"toThrowError\": [Function anonymous]}, \"resolves\": {\"lastCalledWith\": [Function anonymous], \"lastReturnedWith\": [Function anonymous], \"not\": [Object], \"nthCalledWith\": [Function anonymous], \"nthReturnedWith\": [Function anonymous], \"toBe\": [Function anonymous], \"toBeCalled\": [Function anonymous], \"toBeCalledTimes\": [Function anonymous], \"toBeCalledWith\": [Function anonymous], \"toBeCloseTo\": [Function anonymous], \"toBeDefined\": [Function anonymous], \"toBeFalsy\": [Function anonymous], \"toBeGreaterThan\": [Function anonymous], \"toBeGreaterThanOrEqual\": [Function anonymous], \"toBeInstanceOf\": [Function anonymous], \"toBeLessThan\": [Function anonymous], \"toBeLessThanOrEqual\": [Function anonymous], \"toBeNaN\": [Function anonymous], \"toBeNull\": [Function anonymous], \"toBeTruthy\": [Function anonymous], \"toBeUndefined\": [Function anonymous], \"toContain\": [Function anonymous], \"toContainEqual\": [Function anonymous], \"toEqual\": [Function anonymous], \"toHaveBeenCalled\": [Function anonymous], \"toHaveBeenCalledTimes\": [Function anonymous], \"toHaveBeenCalledWith\": [Function anonymous], \"toHaveBeenLastCalledWith\": [Function anonymous], \"toHaveBeenNthCalledWith\": [Function anonymous], \"toHaveLastReturnedWith\": [Function anonymous], \"toHaveLength\": [Function anonymous], \"toHaveNthReturnedWith\": [Function anonymous], \"toHaveProperty\": [Function anonymous], \"toHaveReturned\": [Function anonymous], \"toHaveReturnedTimes\": [Function anonymous], \"toHaveReturnedWith\": [Function anonymous], \"toMatch\": [Function anonymous], \"toMatchObject\": [Function anonymous], \"toReturn\": [Function anonymous], \"toReturnTimes\": [Function anonymous], \"toReturnWith\": [Function anonymous], \"toStrictEqual\": [Function anonymous], \"toThrow\": [Function anonymous], \"toThrowError\": [Function anonymous]}, \"toBe\": [Function throwingMatcher], \"toBeCalled\": [Function throwingMatcher], \"toBeCalledTimes\": [Function throwingMatcher], \"toBeCalledWith\": [Function throwingMatcher], \"toBeCloseTo\": [Function throwingMatcher], \"toBeDefined\": [Function throwingMatcher], \"toBeFalsy\": [Function throwingMatcher], \"toBeGreaterThan\": [Function throwingMatcher], \"toBeGreaterThanOrEqual\": [Function throwingMatcher], \"toBeInstanceOf\": [Function throwingMatcher], \"toBeLessThan\": [Function throwingMatcher], \"toBeLessThanOrEqual\": [Function throwingMatcher], \"toBeNaN\": [Function throwingMatcher], \"toBeNull\": [Function throwingMatcher], \"toBeTruthy\": [Function throwingMatcher], \"toBeUndefined\": [Function throwingMatcher], \"toContain\": [Function throwingMatcher], \"toContainEqual\": [Function throwingMatcher], \"toEqual\": [Function throwingMatcher], \"toHaveBeenCalled\": [Function throwingMatcher], \"toHaveBeenCalledTimes\": [Function throwingMatcher], \"toHaveBeenCalledWith\": [Function throwingMatcher], \"toHaveBeenLastCalledWith\": [Function throwingMatcher], \"toHaveBeenNthCalledWith\": [Function throwingMatcher], \"toHaveLastReturnedWith\": [Function throwingMatcher], \"toHaveLength\": [Function throwingMatcher], \"toHaveNthReturnedWith\": [Function throwingMatcher], \"toHaveProperty\": [Function throwingMatcher], \"toHaveReturned\": [Function throwingMatcher], \"toHaveReturnedTimes\": [Function throwingMatcher], \"toHaveReturnedWith\": [Function throwingMatcher], \"toMatch\": [Function throwingMatcher], \"toMatchObject\": [Function throwingMatcher], \"toReturn\": [Function throwingMatcher], \"toReturnTimes\": [Function throwingMatcher], \"toReturnWith\": [Function throwingMatcher], \"toStrictEqual\": [Function throwingMatcher], \"toThrow\": [Function throwingMatcher], \"toThrowError\": [Function throwingMatcher]}\n    at module.exports (evalmachine.<anonymous>:12:26)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1249926563/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-16T23:07:35Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24031705230",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760",
                "id": 1340346503,
                "node_id": "I_kwDOCNXKfM5P5BCH",
                "number": 4760,
                "title": "[Bug?]: Shrelock Playground gets stuck at \"checking the repo\" state with errors in Console",
                "user": {
                    "login": "trivikr",
                    "id": 16024985,
                    "node_id": "MDQ6VXNlcjE2MDI0OTg1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16024985?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/trivikr",
                    "html_url": "https://github.com/trivikr",
                    "followers_url": "https://api.github.com/users/trivikr/followers",
                    "following_url": "https://api.github.com/users/trivikr/following{/other_user}",
                    "gists_url": "https://api.github.com/users/trivikr/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/trivikr/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/trivikr/subscriptions",
                    "organizations_url": "https://api.github.com/users/trivikr/orgs",
                    "repos_url": "https://api.github.com/users/trivikr/repos",
                    "events_url": "https://api.github.com/users/trivikr/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/trivikr/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    },
                    {
                        "id": 2124593803,
                        "node_id": "MDU6TGFiZWwyMTI0NTkzODAz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/upholded",
                        "name": "upholded",
                        "color": "35d668",
                        "default": false,
                        "description": "Real issues without formal reproduction"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-08-16T13:19:17Z",
                "updated_at": "2022-09-15T15:30:14Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nShrelock Playground gets stuck at \"checking the repo\" state with errors in Console\r\n\r\n### To reproduce\r\n\r\nVisit Sherlock Playground at https://viko0.sse.codesandbox.io/\r\nNotice that several fetch and 404 errors are thrown when page loads.\r\n\r\nAdd an example code for repro, and press run:\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  \"name\": \"test-yarn-version\",\r\n  \"packageManager\": \"yarn@1.12.19\"\r\n});\r\n\r\nawait expect(yarn(`--version`)).resolves.toBe(\"1.12.19\");\r\n```\r\n\r\nNotice that CORS error is thrown in Console:\r\n```console\r\nAccess to fetch at 'https://viko0.sse.codesandbox.io/api/check-repo' from origin 'https://yarnpkg.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\r\n```\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n<img width=\"1512\" alt=\"Sherlock-playground-CORS-error\" src=\"https://user-images.githubusercontent.com/16024985/184889566-7fac7b88-9482-4bd0-8f9a-4ad79eaeb60a.png\">\r\n\r\n\r\n</details>\r\n\r\n### Environment\r\n\r\n```shell\r\n  System:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n  Browsers:\r\n    Brave Browser: 104.1.42.88\r\n    Safari: 15.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/reactions",
                    "total_count": 2,
                    "+1": 2,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248265956",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760#issuecomment-1248265956",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "id": 1248265956,
                "node_id": "IC_kwDOCNXKfM5KZwbk",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-15T15:30:14Z",
                "updated_at": "2022-09-15T15:30:14Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBe(expected) // Object.is equality\n\nExpected: \"1.12.19\"\nReceived: \"4.0.0-rc.18.dev\n\"\n    at Object.toBe (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:202:20)\n    at module.exports (evalmachine.<anonymous>:7:42)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248265956/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-15T15:30:15Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24029702330",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760",
                "id": 1340346503,
                "node_id": "I_kwDOCNXKfM5P5BCH",
                "number": 4760,
                "title": "[Bug?]: Shrelock Playground gets stuck at \"checking the repo\" state with errors in Console",
                "user": {
                    "login": "trivikr",
                    "id": 16024985,
                    "node_id": "MDQ6VXNlcjE2MDI0OTg1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16024985?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/trivikr",
                    "html_url": "https://github.com/trivikr",
                    "followers_url": "https://api.github.com/users/trivikr/followers",
                    "following_url": "https://api.github.com/users/trivikr/following{/other_user}",
                    "gists_url": "https://api.github.com/users/trivikr/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/trivikr/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/trivikr/subscriptions",
                    "organizations_url": "https://api.github.com/users/trivikr/orgs",
                    "repos_url": "https://api.github.com/users/trivikr/repos",
                    "events_url": "https://api.github.com/users/trivikr/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/trivikr/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-08-16T13:19:17Z",
                "updated_at": "2022-09-15T14:12:08Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nShrelock Playground gets stuck at \"checking the repo\" state with errors in Console\r\n\r\n### To reproduce\r\n\r\nVisit Sherlock Playground at https://viko0.sse.codesandbox.io/\r\nNotice that several fetch and 404 errors are thrown when page loads.\r\n\r\nAdd an example code for repro, and press run:\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  \"name\": \"test-yarn-version\",\r\n  \"packageManager\": \"yarn@1.12.19\"\r\n});\r\n\r\nawait expect(yarn(`--version`)).resolves.toBe(\"1.12.19\");\r\n```\r\n\r\nNotice that CORS error is thrown in Console:\r\n```console\r\nAccess to fetch at 'https://viko0.sse.codesandbox.io/api/check-repo' from origin 'https://yarnpkg.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\r\n```\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n<img width=\"1512\" alt=\"Sherlock-playground-CORS-error\" src=\"https://user-images.githubusercontent.com/16024985/184889566-7fac7b88-9482-4bd0-8f9a-4ad79eaeb60a.png\">\r\n\r\n\r\n</details>\r\n\r\n### Environment\r\n\r\n```shell\r\n  System:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n  Browsers:\r\n    Brave Browser: 104.1.42.88\r\n    Safari: 15.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/reactions",
                    "total_count": 2,
                    "+1": 2,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248159176",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760#issuecomment-1248159176",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "id": 1248159176,
                "node_id": "IC_kwDOCNXKfM5KZWXI",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-15T14:12:08Z",
                "updated_at": "2022-09-15T14:12:08Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248159176/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-15T14:12:08Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24014967758",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4750",
                "id": 1339559287,
                "node_id": "I_kwDOCNXKfM5P2A13",
                "number": 4750,
                "title": "[Bug?]: install cache didn't save on cacheFolder",
                "user": {
                    "login": "bluelovers",
                    "id": 167966,
                    "node_id": "MDQ6VXNlcjE2Nzk2Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/167966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bluelovers",
                    "html_url": "https://github.com/bluelovers",
                    "followers_url": "https://api.github.com/users/bluelovers/followers",
                    "following_url": "https://api.github.com/users/bluelovers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bluelovers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bluelovers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bluelovers/subscriptions",
                    "organizations_url": "https://api.github.com/users/bluelovers/orgs",
                    "repos_url": "https://api.github.com/users/bluelovers/repos",
                    "events_url": "https://api.github.com/users/bluelovers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bluelovers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-15T21:58:00Z",
                "updated_at": "2022-09-14T23:04:48Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\ninstall cache didn't save on cacheFolder\r\n\r\n### To reproduce\r\n\r\n1. run yarn install\r\n\r\ncached file should save in `T:\\cache\\yarn-cache`\r\nbut it save at `C:\\Users\\User\\AppData\\Local\\Yarn\\Berry\\cache`\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nyarn-3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n~/.yarnrc.yml\r\n```\r\nnpmRegistryServer: \"https://registry.npmjs.org/\"\r\ncacheFolder: \"T:\\\\cache\\\\yarn-cache\"\r\nenableColors: true\r\nnodeLinker: node-modules\r\n\r\nplugins:\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-workspace-tools\"\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-interactive-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-interactive-tools\"\r\n\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184725032-c55ff5d5-1f98-4c2c-a895-16513a55f8d1.png)\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184726697-34a11ffd-8305-4e92-9f75-2b4793846f4a.png)\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1247386820",
                "html_url": "https://github.com/yarnpkg/berry/issues/4750#issuecomment-1247386820",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750",
                "id": 1247386820,
                "node_id": "IC_kwDOCNXKfM5KWZzE",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-14T23:04:48Z",
                "updated_at": "2022-09-14T23:04:48Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1247386820/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-14T23:04:48Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24004977147",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4730",
                "id": 1334626317,
                "node_id": "I_kwDOCNXKfM5PjMgN",
                "number": 4730,
                "title": "[Bug?]: Alias packages cannot be fetched from registry",
                "user": {
                    "login": "Tom-O-Chan",
                    "id": 44817925,
                    "node_id": "MDQ6VXNlcjQ0ODE3OTI1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44817925?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Tom-O-Chan",
                    "html_url": "https://github.com/Tom-O-Chan",
                    "followers_url": "https://api.github.com/users/Tom-O-Chan/followers",
                    "following_url": "https://api.github.com/users/Tom-O-Chan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Tom-O-Chan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Tom-O-Chan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Tom-O-Chan/subscriptions",
                    "organizations_url": "https://api.github.com/users/Tom-O-Chan/orgs",
                    "repos_url": "https://api.github.com/users/Tom-O-Chan/repos",
                    "events_url": "https://api.github.com/users/Tom-O-Chan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Tom-O-Chan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-10T13:25:57Z",
                "updated_at": "2022-09-14T14:12:39Z",
                "closed_at": "2022-09-14T14:12:39Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to add a package using an alias, the following error occurs:\r\n```\r\n% yarn add custom@react    \r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0016: \u2502 custom@npm:react: Registry failed to return tag \"react\"\r\n\u27a4 YN0000: \u2514 Completed in 0s 283ms\r\n\u27a4 YN0000: Failed with errors in 0s 284ms\r\n```\r\n\r\nAccording to the [Protocols page](https://yarnpkg.com/features/protocols#table), this should be allowed\r\n\r\n### To reproduce\r\n\r\nRun `yarn add custom@react`\r\n\r\n```repro\r\nyarn add custom@react;\r\n```\r\n\r\n(Tried using the sandbox, but kept getting 502: Bad Gateway)\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\nBinaries:\r\n    Node: 14.18.3 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/node\r\n    Yarn: 3.2.1 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v14.18.3/bin/npm\r\nnpmPackages:\r\n    jest: ^28.1.2 => 28.1.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-09-14T14:12:40Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24003568155",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4749",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4749",
                "id": 1338979203,
                "node_id": "I_kwDOCNXKfM5PzzOD",
                "number": 4749,
                "title": "[Bug?]: prefersUnplugged should take precedence over pkg.conditions",
                "user": {
                    "login": "jonaskuske",
                    "id": 30421456,
                    "node_id": "MDQ6VXNlcjMwNDIxNDU2",
                    "avatar_url": "https://avatars.githubusercontent.com/u/30421456?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jonaskuske",
                    "html_url": "https://github.com/jonaskuske",
                    "followers_url": "https://api.github.com/users/jonaskuske/followers",
                    "following_url": "https://api.github.com/users/jonaskuske/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jonaskuske/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jonaskuske/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jonaskuske/subscriptions",
                    "organizations_url": "https://api.github.com/users/jonaskuske/orgs",
                    "repos_url": "https://api.github.com/users/jonaskuske/repos",
                    "events_url": "https://api.github.com/users/jonaskuske/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jonaskuske/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-08-15T13:06:00Z",
                "updated_at": "2022-09-14T13:19:30Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nIn this comment, esbuild was recommended to add `prefersUnplugged: false` to its optional platform-specific deps so they don't get extracted: https://github.com/yarnpkg/berry/issues/3317#issuecomment-925410441. And indeed, all esbuild variants include the `preferUnplugged` key: https://unpkg.com/browse/esbuild-linux-arm@0.15.3/package.json\r\n\r\nUnfortunately the `prefersUnplugged` key is ignored and all of the optional deps are extracted anyway, because the `pkg.conditions !== null` check takes precedence over `preferUnplugged`: https://github.com/yarnpkg/berry/blob/cf67f3a15052cf809cefcc0df58937874ad3c34d/packages/plugin-pnp/sources/PnpLinker.ts#L434-L438\r\n\r\nThese checks should be in reverse order. By reversing the two checks, everything works: `esbuild` is unplugged but its optional dependencies are not. When running esbuild, it copies the correct platform-specific binary into its writable, unplugged dir and executes it.\r\n\r\nAnd if you change the location where esbuild stores the platform-specific binary (as I proposed in this PR: https://github.com/evanw/esbuild/pull/2457), it even works with `enableScripts: false` and nothing unplugged.\n\n### To reproduce\n\n```bash\r\nmkdir repro && cd $_\r\nyarn init -2 -y\r\nyarn add esbuild\r\n# should be empty but prints opt dep:\r\nls .yarn/unplugged | grep -P 'esbuild-(?!(npm))'\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-8650U CPU @ 1.90GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-96532741/node\r\n    Yarn: 3.2.2 - /tmp/xfs-96532741/yarn\r\n    npm: 8.5.0 - /mnt/wslg/runtime-dir/fnm_multishells/15691_1660563665547/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1246755063",
                "html_url": "https://github.com/yarnpkg/berry/issues/4749#issuecomment-1246755063",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749",
                "id": 1246755063,
                "node_id": "IC_kwDOCNXKfM5KT_j3",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-14T13:19:30Z",
                "updated_at": "2022-09-14T13:19:30Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1246755063/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-14T13:19:30Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23960985473",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4719",
                "id": 1332154666,
                "node_id": "I_kwDOCNXKfM5PZxEq",
                "number": 4719,
                "title": "[Bug?]:  Yarn PnP and NextJS does not work with next-transpile-modules",
                "user": {
                    "login": "yaronvhop",
                    "id": 76743257,
                    "node_id": "MDQ6VXNlcjc2NzQzMjU3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/76743257?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yaronvhop",
                    "html_url": "https://github.com/yaronvhop",
                    "followers_url": "https://api.github.com/users/yaronvhop/followers",
                    "following_url": "https://api.github.com/users/yaronvhop/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yaronvhop/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yaronvhop/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yaronvhop/subscriptions",
                    "organizations_url": "https://api.github.com/users/yaronvhop/orgs",
                    "repos_url": "https://api.github.com/users/yaronvhop/repos",
                    "events_url": "https://api.github.com/users/yaronvhop/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yaronvhop/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-08T17:09:38Z",
                "updated_at": "2022-09-12T19:05:28Z",
                "closed_at": "2022-09-12T19:05:28Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ yes ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nHey,\r\nI am having issues with using NextJS with Yarn PNP. \r\nIt seems someone had the exact issue I had: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199\r\n\r\nI put more details in the issue with the comment: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199#issuecomment-1208377418\r\n\r\nIt seems NextJS spawn worker nodes, which causes the transpilation process to compare modules with different virtual paths \r\n\r\n/Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-6b51d9b693/1/packages/test-bb/index.ts /Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-eb81ca8611/1/packages/test-bb\r\n\r\nAnd not get transpiled. \r\n\r\nThanks!\r\n\r\n### To reproduce\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error\r\n\r\nNeed to run this:\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error/blob/master/packages/test-c/package.json#L6\r\n\r\ngoto http://127.0.0.1:3000/\r\n\r\nObserve module failing to transpile\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n OS: Mac 12.4\r\n CPU: M1 ARM x64\r\nNode: 16.16.0\r\nYarn: 3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-09-12T19:05:28Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23917805167",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4730",
                "id": 1334626317,
                "node_id": "I_kwDOCNXKfM5PjMgN",
                "number": 4730,
                "title": "[Bug?]: Alias packages cannot be fetched from registry",
                "user": {
                    "login": "Tom-O-Chan",
                    "id": 44817925,
                    "node_id": "MDQ6VXNlcjQ0ODE3OTI1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44817925?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Tom-O-Chan",
                    "html_url": "https://github.com/Tom-O-Chan",
                    "followers_url": "https://api.github.com/users/Tom-O-Chan/followers",
                    "following_url": "https://api.github.com/users/Tom-O-Chan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Tom-O-Chan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Tom-O-Chan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Tom-O-Chan/subscriptions",
                    "organizations_url": "https://api.github.com/users/Tom-O-Chan/orgs",
                    "repos_url": "https://api.github.com/users/Tom-O-Chan/repos",
                    "events_url": "https://api.github.com/users/Tom-O-Chan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Tom-O-Chan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-10T13:25:57Z",
                "updated_at": "2022-09-09T14:10:18Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to add a package using an alias, the following error occurs:\r\n```\r\n% yarn add custom@react    \r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0016: \u2502 custom@npm:react: Registry failed to return tag \"react\"\r\n\u27a4 YN0000: \u2514 Completed in 0s 283ms\r\n\u27a4 YN0000: Failed with errors in 0s 284ms\r\n```\r\n\r\nAccording to the [Protocols page](https://yarnpkg.com/features/protocols#table), this should be allowed\r\n\r\n### To reproduce\r\n\r\nRun `yarn add custom@react`\r\n\r\n```repro\r\nyarn add custom@react;\r\n```\r\n\r\n(Tried using the sandbox, but kept getting 502: Bad Gateway)\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\nBinaries:\r\n    Node: 14.18.3 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/node\r\n    Yarn: 3.2.1 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v14.18.3/bin/npm\r\nnpmPackages:\r\n    jest: ^28.1.2 => 28.1.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1242024200",
                "html_url": "https://github.com/yarnpkg/berry/issues/4730#issuecomment-1242024200",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730",
                "id": 1242024200,
                "node_id": "IC_kwDOCNXKfM5KB8kI",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-09T14:10:18Z",
                "updated_at": "2022-09-09T14:10:18Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1242024200/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-09T14:10:19Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23875954922",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4719",
                "id": 1332154666,
                "node_id": "I_kwDOCNXKfM5PZxEq",
                "number": 4719,
                "title": "[Bug?]:  Yarn PnP and NextJS does not work with next-transpile-modules",
                "user": {
                    "login": "yaronvhop",
                    "id": 76743257,
                    "node_id": "MDQ6VXNlcjc2NzQzMjU3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/76743257?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yaronvhop",
                    "html_url": "https://github.com/yaronvhop",
                    "followers_url": "https://api.github.com/users/yaronvhop/followers",
                    "following_url": "https://api.github.com/users/yaronvhop/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yaronvhop/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yaronvhop/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yaronvhop/subscriptions",
                    "organizations_url": "https://api.github.com/users/yaronvhop/orgs",
                    "repos_url": "https://api.github.com/users/yaronvhop/repos",
                    "events_url": "https://api.github.com/users/yaronvhop/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yaronvhop/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-08T17:09:38Z",
                "updated_at": "2022-09-07T19:04:44Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ yes ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nHey,\r\nI am having issues with using NextJS with Yarn PNP. \r\nIt seems someone had the exact issue I had: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199\r\n\r\nI put more details in the issue with the comment: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199#issuecomment-1208377418\r\n\r\nIt seems NextJS spawn worker nodes, which causes the transpilation process to compare modules with different virtual paths \r\n\r\n/Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-6b51d9b693/1/packages/test-bb/index.ts /Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-eb81ca8611/1/packages/test-bb\r\n\r\nAnd not get transpiled. \r\n\r\nThanks!\r\n\r\n### To reproduce\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error\r\n\r\nNeed to run this:\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error/blob/master/packages/test-c/package.json#L6\r\n\r\ngoto http://127.0.0.1:3000/\r\n\r\nObserve module failing to transpile\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n OS: Mac 12.4\r\n CPU: M1 ARM x64\r\nNode: 16.16.0\r\nYarn: 3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1239769477",
                "html_url": "https://github.com/yarnpkg/berry/issues/4719#issuecomment-1239769477",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719",
                "id": 1239769477,
                "node_id": "IC_kwDOCNXKfM5J5WGF",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-07T19:04:44Z",
                "updated_at": "2022-09-07T19:04:44Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1239769477/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-07T19:04:44Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23853645331",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4825",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4825",
                "id": 1363779757,
                "node_id": "I_kwDOCNXKfM5RSaCt",
                "number": 4825,
                "title": "[Bug?]: Attempting to add package with specific dist tag pattern(s) throws resolver error",
                "user": {
                    "login": "favna",
                    "id": 4019718,
                    "node_id": "MDQ6VXNlcjQwMTk3MTg=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4019718?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/favna",
                    "html_url": "https://github.com/favna",
                    "followers_url": "https://api.github.com/users/favna/followers",
                    "following_url": "https://api.github.com/users/favna/following{/other_user}",
                    "gists_url": "https://api.github.com/users/favna/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/favna/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/favna/subscriptions",
                    "organizations_url": "https://api.github.com/users/favna/orgs",
                    "repos_url": "https://api.github.com/users/favna/repos",
                    "events_url": "https://api.github.com/users/favna/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/favna/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-06T20:28:56Z",
                "updated_at": "2022-09-06T20:31:01Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nRecently it has come to my attention that if a package's dist-tag has a specific format, I.e. the regex format of `/v\\d{2}-[a-z]{1,}/` that yarn throws an error:\r\n\r\n```\r\n\u276f yarn add discord.js@v13-lts\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: discord.js@v13-lts isn't supported by any available resolver\r\n    at Bd.getResolverByDescriptor (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:391:1664)\r\n    at Bd.bindDescriptor (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:391:1053)\r\n    at ee (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:6954)\r\n    at async Promise.allSettled (index 0)\r\n    at async ho (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:390:10446)\r\n    at async /Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:8292\r\n    at async Je.startProgressPromise (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:390:48066)\r\n    at async ze.resolveEverything (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:6285)\r\n    at async /Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:442:2132\r\n    at async Je.startSectionPromise (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:409:3303)\r\n\u27a4 YN0000: \u2514 Completed\r\n\u27a4 YN0000: Failed with errors in 0s 17ms\r\n```\r\n\r\nLikewise the format of `/v\\d{2}/` also doesn't work:\r\n```\r\n\u276f yarn add @favware/skip-dependency@v13\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: @favware/skip-dependency@npm:v13: No candidates found\r\n    at ce (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:7864)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async Promise.allSettled (index 0)\r\n    at async ho (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:390:10446)\r\n\u27a4 YN0000: \u2514 Completed in 2s 593ms\r\n\u27a4 YN0000: Failed with errors in 2s 595ms\r\n```\r\n\r\nBoth of these dist-tags install just fine with Yarn v1, NPM and PNPM.\n\n### To reproduce\n\n```js repro\r\nconst installPromise = packageJsonAndInstall({\r\n  dependencies: {\r\n    [`discord.js`]: `v13-lts`,\r\n  },\r\n});\r\n\r\nawait expect(installPromise)\r\n  .resolves.toBeTruthy();\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M1\r\n  Binaries:\r\n    Node: 18.8.0 - /private/var/folders/jy/w45_1th97698mzgm_nsfl35w0000gn/T/xfs-de02679f/node\r\n    Yarn: 3.2.3 - /private/var/folders/jy/w45_1th97698mzgm_nsfl35w0000gn/T/xfs-de02679f/yarn\r\n    npm: 8.18.0 - ~/.volta/tools/image/node/18.8.0/bin/npm\n```\n\n\n### Additional context\n\nBesides the Sherlock reproduction the barest minimal way to reproduce the issue is by running:\r\n```sh\r\nyarn set version 3.2.3 && yarn add discord.js@v13-lts\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238619798",
                "html_url": "https://github.com/yarnpkg/berry/issues/4825#issuecomment-1238619798",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825",
                "id": 1238619798,
                "node_id": "IC_kwDOCNXKfM5J09aW",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-06T20:31:01Z",
                "updated_at": "2022-09-06T20:31:01Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js install\n\n\u27a4 YN0000: \u250c Resolution step\n::group::Resolution step\n\u27a4 YN0001: \u2502 Error: discord.js@v13-lts isn't supported by any available resolver\n    at MultiResolver.getResolverByDescriptor (/github/workspace/packages/yarnpkg-core/sources/MultiResolver.ts:73:13)\n    at MultiResolver.bindDescriptor (/github/workspace/packages/yarnpkg-core/sources/MultiResolver.ts:31:27)\n    at Project.preparePackage (/github/workspace/packages/yarnpkg-core/sources/Project.ts:674:30)\n    at startPackageResolution (/github/workspace/packages/yarnpkg-core/sources/Project.ts:760:21)\n::endgroup::\n\u27a4 YN0000: \u2514 Completed\n\u27a4 YN0000: Failed with errors in 0s 96ms\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:8:7)\n    at /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:19\n    at executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:22)\n    at executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:18)\n    at ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:76)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238619798/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-06T20:31:01Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23846226231",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824",
                "id": 1363352463,
                "node_id": "I_kwDOCNXKfM5RQxuP",
                "number": 4824,
                "title": "[Bug?]: peerdependency version being ignored?",
                "user": {
                    "login": "lucas-zimerman",
                    "id": 8229322,
                    "node_id": "MDQ6VXNlcjgyMjkzMjI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8229322?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lucas-zimerman",
                    "html_url": "https://github.com/lucas-zimerman",
                    "followers_url": "https://api.github.com/users/lucas-zimerman/followers",
                    "following_url": "https://api.github.com/users/lucas-zimerman/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lucas-zimerman/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lucas-zimerman/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lucas-zimerman/subscriptions",
                    "organizations_url": "https://api.github.com/users/lucas-zimerman/orgs",
                    "repos_url": "https://api.github.com/users/lucas-zimerman/repos",
                    "events_url": "https://api.github.com/users/lucas-zimerman/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lucas-zimerman/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-06T14:11:04Z",
                "updated_at": "2022-09-06T14:13:15Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am adding this as a bug since the behavior is different from npm.\r\nIn short, running the bellow command has different behaviors, npm adds @sentry/angular using the version defined on the peerDependency of @sentry/capacitor@0.9.0 where yarn ignores that version number and uses the latest version of the package.\r\n\r\n\r\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"packageManager\": \"yarn@3.2.3\",\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.12.1\",\r\n    \"@sentry/capacitor\": \"0.9.0\",\r\n  }\r\n}\r\n```\r\n\r\nnpm install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.8.1\",\r\n    \"@sentry/capacitor\": \"^0.9.0\"\r\n  }\r\n}\r\n```\r\n\r\nsentry angular is defined as a peer dependency here:\r\nhttps://github.com/getsentry/sentry-capacitor/blob/0.9.0/package.json#L40\r\n\r\nIf not a bug, it would be great to know how `yarn` could behave the same as `npm` in this case where users type for example `yarn add @sentry/capacitor @sentry/angular` where @sentry/capacitor has a peer dependency  version lower than the latest release of @sentry/angular.\n\n### To reproduce\n\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n\r\nno need to add additional code, the build will break because the types are incompatible with the latest version of @sentry/angular\r\n\r\n```js repro\r\n// Sherlock reproduction. For instance:\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    [`@sentry/capacitor`]: `0.9.0`,\r\n    [`@sentry/angular`]: ``,\r\n  },\r\n});\r\n```\r\n\n\n### Environment\n\n```shell\nSame was reproduced by other users on different machines.\r\n\r\n  System:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 18.7.0 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\node.CMD\r\n    Yarn: 3.2.3 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\yarn.CMD\r\n    npm: 8.19.1 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238210593",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824#issuecomment-1238210593",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "id": 1238210593,
                "node_id": "IC_kwDOCNXKfM5JzZgh",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-06T14:13:15Z",
                "updated_at": "2022-09-06T14:13:15Z",
                "author_association": "COLLABORATOR",
                "body": "We couldn't reproduce your issue (all the assertions passed on master).",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238210593/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-06T14:13:16Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23843221268",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10938815602,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "e175da2d0345ba362440f26cb0d3764e7b5a2f51",
            "before": "b6b8bb987ba737a9f5e5d687abfc50e812b9b485",
            "commits": [
                {
                    "sha": "28689a833fe41046ac709d09dd88a5a39b0d4efd",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.18` |\n| `@yarnpkg/core` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.18` |\n| `@yarnpkg/extensions` | `1.2.0-rc.5` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.18` |\n| `@yarnpkg/pnp` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.18` |\n| `@yarnpkg/sdks` | `3.0.0-rc.18` |\n| `@yarnpkg/fslib` | `3.0.0-rc.18` |\n| `@yarnpkg/libui` | `3.0.0-rc.18` |\n| `@yarnpkg/libzip` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.18` |\n| `vscode-zipfs` | `2.6.0-rc.7` |\n| `@yarnpkg/shell` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.18` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.18` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.18` |\n| `@yarnpkg/builder` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.18` |\n| `@yarnpkg/nm` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.18` |\n| `@yarnpkg/doctor` | `4.0.0-rc.18` |\n| `@yarnpkg/parsers` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.18` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/28689a833fe41046ac709d09dd88a5a39b0d4efd"
                },
                {
                    "sha": "e175da2d0345ba362440f26cb0d3764e7b5a2f51",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/e175da2d0345ba362440f26cb0d3764e7b5a2f51"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-06T12:08:15Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23840545675",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10937491004,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "4b66a530012ea07e453ea131d18afd806eaece4e",
            "before": "25abf76f121cb6449a5599e2838bfe333e68d6d9",
            "commits": [
                {
                    "sha": "74502147d85851d9746f40601dba6882778ee62a",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.17` |\n| `@yarnpkg/core` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.17` |\n| `@yarnpkg/extensions` | `1.2.0-rc.4` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.17` |\n| `@yarnpkg/pnp` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.17` |\n| `@yarnpkg/sdks` | `3.0.0-rc.17` |\n| `@yarnpkg/fslib` | `3.0.0-rc.17` |\n| `@yarnpkg/libui` | `3.0.0-rc.17` |\n| `@yarnpkg/libzip` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.17` |\n| `vscode-zipfs` | `2.6.0-rc.6` |\n| `@yarnpkg/shell` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.17` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.17` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.17` |\n| `@yarnpkg/builder` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.17` |\n| `@yarnpkg/nm` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.17` |\n| `@yarnpkg/doctor` | `4.0.0-rc.17` |\n| `@yarnpkg/parsers` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.17` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/74502147d85851d9746f40601dba6882778ee62a"
                },
                {
                    "sha": "4b66a530012ea07e453ea131d18afd806eaece4e",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/4b66a530012ea07e453ea131d18afd806eaece4e"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-06T09:51:31Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23839999006",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10937224221,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "0192dfd9197c09e301c236b8dd930e21ccf14d10",
            "before": "1ba23a6dd236969572468afeb309a227c814a324",
            "commits": [
                {
                    "sha": "fd9e3644ab70f2bd12a117982e3d64c624f322fc",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.16` |\n| `@yarnpkg/core` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.16` |\n| `@yarnpkg/extensions` | `1.2.0-rc.3` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.16` |\n| `@yarnpkg/pnp` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.16` |\n| `@yarnpkg/sdks` | `3.0.0-rc.16` |\n| `@yarnpkg/fslib` | `3.0.0-rc.16` |\n| `@yarnpkg/libui` | `3.0.0-rc.16` |\n| `@yarnpkg/libzip` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.16` |\n| `vscode-zipfs` | `2.6.0-rc.5` |\n| `@yarnpkg/shell` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.16` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.16` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.16` |\n| `@yarnpkg/builder` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.16` |\n| `@yarnpkg/nm` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.16` |\n| `@yarnpkg/doctor` | `4.0.0-rc.16` |\n| `@yarnpkg/parsers` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.16` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/fd9e3644ab70f2bd12a117982e3d64c624f322fc"
                },
                {
                    "sha": "0192dfd9197c09e301c236b8dd930e21ccf14d10",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/0192dfd9197c09e301c236b8dd930e21ccf14d10"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-06T09:26:56Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23832773263",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4670",
                "id": 1318166906,
                "node_id": "I_kwDOCNXKfM5OkaF6",
                "number": 4670,
                "title": "[Bug?]: yarn workspaces pnp vs node-modules linker",
                "user": {
                    "login": "alex-enchi",
                    "id": 24417201,
                    "node_id": "MDQ6VXNlcjI0NDE3MjAx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24417201?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alex-enchi",
                    "html_url": "https://github.com/alex-enchi",
                    "followers_url": "https://api.github.com/users/alex-enchi/followers",
                    "following_url": "https://api.github.com/users/alex-enchi/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alex-enchi/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alex-enchi/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alex-enchi/subscriptions",
                    "organizations_url": "https://api.github.com/users/alex-enchi/orgs",
                    "repos_url": "https://api.github.com/users/alex-enchi/repos",
                    "events_url": "https://api.github.com/users/alex-enchi/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alex-enchi/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-07-26T12:25:15Z",
                "updated_at": "2022-09-06T00:21:29Z",
                "closed_at": "2022-09-06T00:21:29Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen using workspaces with `pnp` linker for freshly boostrapped applications some imports do not work. But work normally with `node-modules` linker\r\n\r\nIt seems that builders can't find some linked dependencies.\r\n\r\nGetting errors like\r\n> `[eslint] Failed to load config \"react-app\" to extend from.` \r\n\r\nand\r\n ```[WARNING] Cannot find base config file \"@vue/tsconfig/tsconfig.web.json\" [tsconfig.json]\r\n\u27a4 YN0000:\r\n\u27a4 YN0000:     tsconfig.json:2:13:\r\n\u27a4 YN0000:       2 \u2502   \"extends\": \"@vue/tsconfig/tsconfig.web.json\",\r\n\u27a4 YN0000:\r\n```\r\n\r\n### To reproduce\r\n\r\nSee readme in [sample repository](https://github.com/alex-enchi/yarn-workspace-pnp-bug)\r\n-----\r\n1. clone repository\r\n2. remove .yarnc.yml (yarn can't read that file and make setup properly)\r\n3. run yarn set version stable\r\n4. run yarn plugin import workspace-tools\r\n5. yarn to install dependencies\r\n6. yarn build to try and build <- that step fails\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 13.0\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/node\r\n    Yarn: 3.2.2 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/yarn\r\n    npm: 8.12.2 - ~/Library/Caches/fnm_multishells/40664_1658829214578/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nWhen generating more complicated setups with more dependencies builds are also failing with different web pack peer dependencies as well.\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-09-06T00:21:29Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23807814979",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4711",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4711",
                "id": 1329337417,
                "node_id": "I_kwDOCNXKfM5PPBRJ",
                "number": 4711,
                "title": "[Bug?]: yarn patch generated unparsable patch: URL",
                "user": {
                    "login": "lachlanhunt",
                    "id": 681464,
                    "node_id": "MDQ6VXNlcjY4MTQ2NA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/681464?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lachlanhunt",
                    "html_url": "https://github.com/lachlanhunt",
                    "followers_url": "https://api.github.com/users/lachlanhunt/followers",
                    "following_url": "https://api.github.com/users/lachlanhunt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lachlanhunt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lachlanhunt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lachlanhunt/subscriptions",
                    "organizations_url": "https://api.github.com/users/lachlanhunt/orgs",
                    "repos_url": "https://api.github.com/users/lachlanhunt/repos",
                    "events_url": "https://api.github.com/users/lachlanhunt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lachlanhunt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-08-05T01:33:10Z",
                "updated_at": "2022-09-04T10:04:36Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nMy company uses an internal package registry where all npm packages are fetched from. This is configured in ~/.yarnrc.yaml (company name replaced with `example`)\r\n\r\n```yaml\r\nnpmRegistries:\r\n  \"https://packages.example.com/artifactory/api/npm/npm-remote\":\r\n    npmAlwaysAuth: false\r\nnpmScopes:\r\n  example:\r\n    npmRegistryServer: \"https://packages.example.com/artifactory/api/npm/example-npm\"\r\n    npmPublishRegistry: \"https://packages.example.com/artifactory/api/npm/example-npm\"\r\n```\r\n\r\nThe result of this is that the resolution for the package in yarn.lock looks like this:\r\n\r\n```yaml\r\n  resolution: \"@example/eslint-plugin-example@npm:4.0.0::__archiveUrl=https%3A%2F%2Fpackages.example.com%2Fapi%2Fnpm%2Fexample-npm%2F%40example%2Feslint-plugin-example%2F-%2F%40example%2Feslint-plugin-example-4.0.0.tgz\"\r\n```\r\n\r\nWhen I tried to patch this packing using:\r\n\r\n```\r\n$ yarn patch @example/eslint-plugin-example\r\n# make edits\r\n$ yarn patch-commit -s /private/var/folders/path/to/code/user\r\n...\r\n\r\nThis generated a patch URL in package.json that looked like this:\r\n\r\n```json\r\n{\r\n  ...\r\n  \"resolutions\": {\r\n    \"@example/eslint-plugin-example@4.0.0\": \"patch:@example/eslint-plugin-example@npm:4.0.0::__archiveUrl=https%3A%2F%2Fpackages.example.com%2Fapi%2Fnpm%2Fexample-npm%2F%40example%2Feslint-plugin-example%2F-%2F%40example%2Feslint-plugin-example-4.0.0.tgz#.yarn/patches/@example-eslint-plugin-example-npm-4.0.0-bab1aa1587.patch\"\r\n  }\r\n\r\n}\r\n```\r\n\r\n(Then I fixed the version range in that resolution as described in https://github.com/yarnpkg/berry/issues/4231#issuecomment-1072847435 )\r\n\r\nFinally, running `yarn` to apply the patch gives this error:\r\n\r\n```sh\r\n$ yarn\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: Patch locators must explicitly define their source\r\n    at xue (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:733:658)\r\n    at dE (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:733:978)\r\n    at iO.bindDescriptor (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:736:2747)\r\n    at wd.bindDescriptor (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:391:1082)\r\n    at wd.bindDescriptor (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:391:1082)\r\n    at reduceDependency (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:390:29055)\r\n    at tA.reduceHook (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:392:3584)\r\n    at ee (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:439:6759)\r\n\u27a4 YN0000: \u2514 Completed\r\n\u27a4 YN0000: Failed with errors in 0s 23ms\r\n```\r\n\r\nI was able to work around this issue by modifying the `patch:` URL like this:\r\n\r\n```json\r\n{\r\n  ...\r\n  \"resolutions\": {\r\n    \"@example/eslint-plugin-example@^4.0.0\": \"patch:@example/eslint-plugin-example@npm:4.0.0#.yarn/patches/@example-eslint-plugin-example-npm-4.0.0-bab1aa1587.patch\"\r\n  }\r\n}\r\n```\r\n\r\nIt appears the presence of `::__archiveUrl=https...` breaks the parsing of the patch URL in yarn.\n\n### To reproduce\n\n(as explained above)\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 12.5\r\n  CPU: (10) arm64 Apple M1 Pro\r\nBinaries:\r\n  Node: 16.16.0 - /private/var/folders/78/vv5cyf6570xcqbsy0r2nfyfw0000gn/T/xfs-99d9804c/node\r\n  Yarn: 3.2.2 - /private/var/folders/78/vv5cyf6570xcqbsy0r2nfyfw0000gn/T/xfs-99d9804c/yarn\r\n  npm: 8.11.0 - ~/Library/Caches/fnm_multishells/21303_1659328957074/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1236302845",
                "html_url": "https://github.com/yarnpkg/berry/issues/4711#issuecomment-1236302845",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711",
                "id": 1236302845,
                "node_id": "IC_kwDOCNXKfM5JsHv9",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-04T10:04:36Z",
                "updated_at": "2022-09-04T10:04:36Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1236302845/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-04T10:04:36Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23754143445",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4670",
                "id": 1318166906,
                "node_id": "I_kwDOCNXKfM5OkaF6",
                "number": 4670,
                "title": "[Bug?]: yarn workspaces pnp vs node-modules linker",
                "user": {
                    "login": "alex-enchi",
                    "id": 24417201,
                    "node_id": "MDQ6VXNlcjI0NDE3MjAx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24417201?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alex-enchi",
                    "html_url": "https://github.com/alex-enchi",
                    "followers_url": "https://api.github.com/users/alex-enchi/followers",
                    "following_url": "https://api.github.com/users/alex-enchi/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alex-enchi/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alex-enchi/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alex-enchi/subscriptions",
                    "organizations_url": "https://api.github.com/users/alex-enchi/orgs",
                    "repos_url": "https://api.github.com/users/alex-enchi/repos",
                    "events_url": "https://api.github.com/users/alex-enchi/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alex-enchi/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-07-26T12:25:15Z",
                "updated_at": "2022-09-01T00:19:42Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen using workspaces with `pnp` linker for freshly boostrapped applications some imports do not work. But work normally with `node-modules` linker\r\n\r\nIt seems that builders can't find some linked dependencies.\r\n\r\nGetting errors like\r\n> `[eslint] Failed to load config \"react-app\" to extend from.` \r\n\r\nand\r\n ```[WARNING] Cannot find base config file \"@vue/tsconfig/tsconfig.web.json\" [tsconfig.json]\r\n\u27a4 YN0000:\r\n\u27a4 YN0000:     tsconfig.json:2:13:\r\n\u27a4 YN0000:       2 \u2502   \"extends\": \"@vue/tsconfig/tsconfig.web.json\",\r\n\u27a4 YN0000:\r\n```\r\n\r\n### To reproduce\r\n\r\nSee readme in [sample repository](https://github.com/alex-enchi/yarn-workspace-pnp-bug)\r\n-----\r\n1. clone repository\r\n2. remove .yarnc.yml (yarn can't read that file and make setup properly)\r\n3. run yarn set version stable\r\n4. run yarn plugin import workspace-tools\r\n5. yarn to install dependencies\r\n6. yarn build to try and build <- that step fails\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 13.0\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/node\r\n    Yarn: 3.2.2 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/yarn\r\n    npm: 8.12.2 - ~/Library/Caches/fnm_multishells/40664_1658829214578/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nWhen generating more complicated setups with more dependencies builds are also failing with different web pack peer dependencies as well.\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1233582337",
                "html_url": "https://github.com/yarnpkg/berry/issues/4670#issuecomment-1233582337",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670",
                "id": 1233582337,
                "node_id": "IC_kwDOCNXKfM5JhvkB",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-01T00:19:42Z",
                "updated_at": "2022-09-01T00:19:42Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1233582337/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-01T00:19:43Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23728345526",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4678",
                "id": 1318432688,
                "node_id": "I_kwDOCNXKfM5Ola-w",
                "number": 4678,
                "title": "Better installation instructions",
                "user": {
                    "login": "geoidesic",
                    "id": 4637995,
                    "node_id": "MDQ6VXNlcjQ2Mzc5OTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4637995?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/geoidesic",
                    "html_url": "https://github.com/geoidesic",
                    "followers_url": "https://api.github.com/users/geoidesic/followers",
                    "following_url": "https://api.github.com/users/geoidesic/following{/other_user}",
                    "gists_url": "https://api.github.com/users/geoidesic/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/geoidesic/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/geoidesic/subscriptions",
                    "organizations_url": "https://api.github.com/users/geoidesic/orgs",
                    "repos_url": "https://api.github.com/users/geoidesic/repos",
                    "events_url": "https://api.github.com/users/geoidesic/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/geoidesic/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349891,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODkx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/enhancement",
                        "name": "enhancement",
                        "color": "92a4e5",
                        "default": true,
                        "description": "New feature or request"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-26T15:47:16Z",
                "updated_at": "2022-08-30T22:05:12Z",
                "closed_at": "2022-08-30T22:05:12Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "<!--\r\n  Important: These issues are for **concrete and actionable proposals**. If you just have\r\n  a general problem that you would like to brainstorm, open a Discussion instead. We want\r\n  our GitHub issues to be a strict project backlog.\r\n-->\r\n\r\n- [ ] I'd be willing to implement this feature ([contributing guide](https://yarnpkg.com/advanced/contributing))\r\n- [ ] This feature is important to have in this repository; a contrib plugin wouldn't do\r\n\r\n**Describe the user story**\r\n\r\n\"As a developer I want to be able to read the installation instructions and to actually understand them.\" :-)\r\n\r\nCurrently I read them and I go, \"Huh?\". It bangs on about something called `corepack` but doesn't explain how to actually install yarn. It talks about how to initialise a project once yarn is installed... but doesn't explain how to install yarn. Doing `corepack enable` does not magically make the `yarn` binary available (I tried it). It also talks about managing different versions of yarn but doesn't explain how to do that either.\r\n\r\nAm I missing something? Or is the documentation confusing?\r\n\r\n**Describe the solution you'd like**\r\n\r\nClear and concise installation instructions here: https://yarnpkg.com/getting-started/install\r\n\r\n**Describe the drawbacks of your solution**\r\n\r\nNone.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nCryng ;'(\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-30T22:05:13Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23722014072",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4672",
                "id": 1318363924,
                "node_id": "I_kwDOCNXKfM5OlKMU",
                "number": 4672,
                "title": "[Bug?]: yarn installation failed due to script-shell settings",
                "user": {
                    "login": "timongh",
                    "id": 46739861,
                    "node_id": "MDQ6VXNlcjQ2NzM5ODYx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/46739861?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timongh",
                    "html_url": "https://github.com/timongh",
                    "followers_url": "https://api.github.com/users/timongh/followers",
                    "following_url": "https://api.github.com/users/timongh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timongh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timongh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timongh/subscriptions",
                    "organizations_url": "https://api.github.com/users/timongh/orgs",
                    "repos_url": "https://api.github.com/users/timongh/repos",
                    "events_url": "https://api.github.com/users/timongh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timongh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-26T14:54:28Z",
                "updated_at": "2022-08-30T16:04:52Z",
                "closed_at": "2022-08-30T16:04:52Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI installed yarn on my Windows with the following command, but it failed.\r\n\r\n```shell\r\nnpm install -g yarn\r\n```\r\n\r\nLooking at the error message, I found that this was probably because I had **`script-shell=pwsh` in my configuration file**, which would make npm exec execute commands in PowerShell instead of the default cmd. **When I removed it, it installed successfully.**\r\n\r\nPerhaps this bug can be fixed by overriding the config file with some command line option.\n\n### To reproduce\n\nsee \"Describe the bug\"\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n  Binaries:\r\n    Node: 16.16.0 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\node.CMD\r\n    Yarn: 3.2.2 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\fnm_multishells\\23264_1658843196956\\npm.CMD\n```\n\n\n### Additional context\n\n<details>\r\n<summary>shell</summary>\r\n\r\n```plain\r\nPS D:\\test_folder> npm install -g yarn\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm ERR! code 1\r\nnpm ERR! path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\nnpm ERR! command failed\r\nnpm ERR! command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\nnpm ERR! :: The term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\nnpm ERR! Out-File: Could not find a part of the path 'D:\\dev\\null'.\r\nnpm ERR! true: The term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>debug log</summary>\r\n\r\n```plain\r\n0 verbose cli C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node.exe C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node_modules\\npm\\bin\\npm-cli.js\r\n1 info using npm@8.11.0\r\n2 info using node@v16.16.0\r\n3 timing npm:load:whichnode Completed in 1ms\r\n4 timing config:load:defaults Completed in 2ms\r\n5 timing config:load:file:D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\npmrc Completed in 1ms\r\n6 timing config:load:builtin Completed in 1ms\r\n7 warn config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\n8 timing config:load:cli Completed in 2ms\r\n9 timing config:load:env Completed in 1ms\r\n10 timing config:load:project Completed in 2ms\r\n11 timing config:load:file:C:\\Users\\me\\.npmrc Completed in 1ms\r\n12 timing config:load:user Completed in 1ms\r\n13 timing config:load:file:D:\\npm_folder\\npm\\npmrc Completed in 1ms\r\n14 timing config:load:global Completed in 1ms\r\n15 timing config:load:validate Completed in 1ms\r\n16 timing config:load:credentials Completed in 1ms\r\n17 timing config:load:setEnvs Completed in 1ms\r\n18 timing config:load Completed in 13ms\r\n19 timing npm:load:configload Completed in 13ms\r\n20 timing npm:load:mkdirpcache Completed in 1ms\r\n21 timing npm:load:mkdirplogs Completed in 0ms\r\n22 verbose title npm install yarn\r\n23 verbose argv \"install\" \"--global\" \"yarn\"\r\n24 timing npm:load:setTitle Completed in 1ms\r\n25 timing config:load:flatten Completed in 2ms\r\n26 timing npm:load:display Completed in 7ms\r\n27 verbose logfile logs-max:10 dir:D:\\npm_folder\\npm\\cache\\_logs\r\n28 verbose logfile D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n29 timing npm:load:logFile Completed in 5ms\r\n30 timing npm:load:timers Completed in 0ms\r\n31 timing npm:load:configScope Completed in 0ms\r\n32 timing npm:load Completed in 29ms\r\n33 timing arborist:ctor Completed in 2ms\r\n34 silly logfile done cleaning log files\r\n35 timing idealTree:init Completed in 29ms\r\n36 timing idealTree:userRequests Completed in 13ms\r\n37 silly idealTree buildDeps\r\n38 silly fetch manifest yarn@*\r\n39 http fetch GET 200 https://registry.npmmirror.com/yarn 638ms (cache revalidated)\r\n40 silly placeDep ROOT yarn@1.22.19 OK for:  want: *\r\n41 timing idealTree:#root Completed in 658ms\r\n42 timing idealTree:node_modules/yarn Completed in 0ms\r\n43 timing idealTree:buildDeps Completed in 659ms\r\n44 timing idealTree:fixDepFlags Completed in 0ms\r\n45 timing idealTree Completed in 705ms\r\n46 timing reify:loadTrees Completed in 708ms\r\n47 timing reify:diffTrees Completed in 2ms\r\n48 silly reify moves {}\r\n49 timing reify:retireShallow Completed in 21ms\r\n50 timing reify:createSparse Completed in 50ms\r\n51 timing reify:loadBundles Completed in 0ms\r\n52 silly audit bulk request { yarn: [ '1.22.19' ] }\r\n53 timing reifyNode:node_modules/yarn Completed in 241ms\r\n54 timing reify:unpack Completed in 242ms\r\n55 timing reify:unretire Completed in 0ms\r\n56 timing build:queue Completed in 13ms\r\n57 info run yarn@1.22.19 preinstall node_modules/yarn :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n58 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/advisories/bulk 387ms (cache skip)\r\n59 silly audit bulk request failed <h1>404 Not Found</h1>\r\n60 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/audits/quick 323ms (cache skip)\r\n61 verbose audit error HttpErrorGeneral: 404 Not Found - POST https://registry.npmmirror.com/-/npm/v1/security/audits/quick\r\n61 verbose audit error     at D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\npm-registry-fetch\\lib\\check-response.js:93:15\r\n61 verbose audit error     at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n61 verbose audit error     at async Map.[getReport] (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:333:21)\r\n61 verbose audit error     at async Map.run (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:106:19) {\r\n61 verbose audit error   headers: [Object: null prototype] {\r\n61 verbose audit error     server: [ 'Tengine' ],\r\n61 verbose audit error     'content-type': [ 'text/html; charset=utf-8' ],\r\n61 verbose audit error     'content-length': [ '41' ],\r\n61 verbose audit error     connection: [ 'keep-alive' ],\r\n61 verbose audit error     'strict-transport-security': [ 'max-age=5184000' ],\r\n61 verbose audit error     date: [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     vary: [ 'Origin' ],\r\n61 verbose audit error     'x-frame-options': [ 'SAMEORIGIN' ],\r\n61 verbose audit error     'x-xss-protection': [ '1; mode=block' ],\r\n61 verbose audit error     'x-content-type-options': [ 'nosniff' ],\r\n61 verbose audit error     'x-download-options': [ 'noopen' ],\r\n61 verbose audit error     'x-readtime': [ '1.023' ],\r\n61 verbose audit error     'content-encoding': [ 'gzip' ],\r\n61 verbose audit error     'ali-swift-global-savetime': [ '1658842406' ],\r\n61 verbose audit error     via: [\r\n61 verbose audit error       'cache74.l2cn3036[13,13,404-1280,M], cache79.l2cn3036[13,0], kunlun8.cn1416[28,27,404-1280,M], kunlun5.cn1416[31,0]'\r\n61 verbose audit error     ],\r\n61 verbose audit error     'x-cache': [ 'MISS TCP_MISS dirn:-2:-2' ],\r\n61 verbose audit error     'x-swift-savetime': [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     'x-swift-cachetime': [ '1' ],\r\n61 verbose audit error     'x-swift-error': [ 'orig response 4XX error' ],\r\n61 verbose audit error     'timing-allow-origin': [ '*' ],\r\n61 verbose audit error     eagleid: [ 'df6f181916588424061965275e' ],\r\n61 verbose audit error     'x-fetch-attempts': [ '1' ],\r\n61 verbose audit error     'x-local-cache-status': [ 'skip' ]\r\n61 verbose audit error   },\r\n61 verbose audit error   statusCode: 404,\r\n61 verbose audit error   code: 'E404',\r\n61 verbose audit error   method: 'POST',\r\n61 verbose audit error   uri: 'https://registry.npmmirror.com/-/npm/v1/security/audits/quick',\r\n61 verbose audit error   body: <Buffer 3c 68 31 3e 34 30 34 20 4e 6f 74 20 46 6f 75 6e 64 3c 2f 68 31 3e>,\r\n61 verbose audit error   pkgid: undefined\r\n61 verbose audit error }\r\n62 silly audit error <h1>404 Not Found</h1>\r\n63 timing auditReport:getReport Completed in 726ms\r\n64 silly audit report null\r\n65 timing reify:audit Completed in 727ms\r\n66 info run yarn@1.22.19 preinstall { code: 1, signal: null }\r\n67 timing reify:rollback:createSparse Completed in 13ms\r\n68 timing reify:rollback:retireShallow Completed in 1ms\r\n69 timing command:install Completed in 2192ms\r\n70 verbose stack Error: command failed\r\n70 verbose stack     at ChildProcess.<anonymous> (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\promise-spawn\\lib\\index.js:63:27)\r\n70 verbose stack     at ChildProcess.emit (node:events:527:28)\r\n70 verbose stack     at maybeClose (node:internal/child_process:1092:16)\r\n70 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:302:5)\r\n71 verbose pkgid yarn@1.22.19\r\n72 verbose cwd D:\\test_folder\r\n73 verbose Windows_NT 10.0.19043\r\n74 verbose node v16.16.0\r\n75 verbose npm  v8.11.0\r\n76 error code 1\r\n77 error path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\n78 error command failed\r\n79 error command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n80 error \u001b[91m:: \u001b[91mThe term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n80 error \u001b[91mOut-File: \u001b[91mCould not find a part of the path 'D:\\dev\\null'.\u001b[0m\r\n80 error \u001b[91mtrue: \u001b[91mThe term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n81 verbose exit 1\r\n82 timing npm Completed in 3441ms\r\n83 verbose unfinished npm timer reify 1658842402660\r\n84 verbose unfinished npm timer reify:build 1658842403808\r\n85 verbose unfinished npm timer build 1658842403808\r\n86 verbose unfinished npm timer build:deps 1658842403808\r\n87 verbose unfinished npm timer build:run:preinstall 1658842403821\r\n88 verbose unfinished npm timer build:run:preinstall:node_modules/yarn 1658842403821\r\n89 verbose code 1\r\n90 error A complete log of this run can be found in:\r\n90 error     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-30T16:04:52Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23698997062",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4661",
                "id": 1316963629,
                "node_id": "I_kwDOCNXKfM5Of0Ut",
                "number": 4661,
                "title": "[Bug?]: yarn says unauthenticated even when npmAuthIdent or npmAuthToken is set",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-25T14:56:56Z",
                "updated_at": "2022-08-29T17:07:58Z",
                "closed_at": "2022-08-29T17:07:58Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nyarn says unauthenticated even when `npmAuthIdent` or `npmAuthToken` is set. At the very least if I've done something wrong I think the error and documentation should be improved, it's not particularly useful.\r\n\r\nhere's my logs, the line is second to last\r\n```\r\n[2022-07-25T13:36:10.574Z] > @cof/e1-http@0.1.0 publish:yarn\r\n[2022-07-25T13:36:10.574Z] > yarn workspaces foreach --no-private --exclude @cof/e1-http --exclude @cof/e1-test-server npm publish\r\n[2022-07-25T13:36:10.574Z] \r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 31ms\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/index.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/secrets-client.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/integration/secrets-client.it.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/unit/secrets-client.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 22ms\r\n```\r\n\r\n### To reproduce\r\n\r\npublish a package to a private server that needs npm credentials like this\r\n\r\n```\r\nregistry.artifactory.our.company.com:username=myuser\r\nregistry.artifactory.our.company.com:username::_password=SomeTokenThatContainsFullAlphaBetNoEquals\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\n11:08:38    System:\r\n11:08:38      OS: Linux 5.10 CentOS Linux 7 (Core)\r\n11:08:38      CPU: (16) x64 Intel(R) Xeon(R) Platinum 8124M CPU @ 3.00GHz\r\n11:08:38    Binaries:\r\n11:08:38      Node: 16.16.0 - /tmp/xfs-e6afd580/node\r\n11:08:38      Yarn: 3.2.1 - /tmp/xfs-e6afd580/yarn\r\n11:08:38      npm: 8.11.0 - ~/.nvm/versions/node/v16.16.0/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n```\r\n[2022-07-25T13:36:06.929Z] Now using node v16.16.0 (npm v8.11.0)\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.440Z] > @cof/e1-http@0.1.0 prepublish:yarn\r\n[2022-07-25T13:36:07.440Z] > yarn install --immutable && yarn :credentials && yarn config\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.963Z] \u27a4 YN0000: \u250c Resolution step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Fetch step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0013: \u2502 635 packages were already cached\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed in 0s 205ms\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Link step\r\n[2022-07-25T13:36:08.987Z] \u27a4 YN0000: \u2502 ESM support for PnP uses the experimental loader API and is therefore experimental\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0007: \u2502 @cof/e1-http@workspace:. must be built because it never has been before or the last one failed\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR fatal: not a git repository (or any parent up to mount point /home)\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2514 Completed in 0s 921ms\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: Done with warnings in 1s 394ms\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: caFilePath                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/cache'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheKeyOverride              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetBaseRefs             [ 'master', 'origin/master', ... 4 more items ]\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetIgnorePatterns       []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: checksumBehavior              'throw'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cloneConcurrency              2\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: compressionLevel              'mixed'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: constraintsPath               '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/constraints.pro'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultLanguageName           'node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultProtocol               'npm:'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultSemverRangePrefix      '^'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableColors                  false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableGlobalCache             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableHyperlinks              false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableCache          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableInstalls       true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineBuilds            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineHunks             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMessageNames            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMirror                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableNetwork                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableProgressBars            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableScripts                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSettings          true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSsl               false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTelemetry               true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTimers                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTransparentWorkspaces   true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: globalFolder                  '/home/git/.yarn/berry'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpProxy                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpRetry                     3\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpTimeout                   60000\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsCertFilePath             null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsKeyFilePath              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsProxy                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignoreCwd                     false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignorePath                    false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: immutablePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initEditorConfig              Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initFields                    Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initScope                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: installStatePath              '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/install-state.gz'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lastUpdateCheck               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lockfileFilename              'yarn.lock'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: logFilters                    []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkConcurrency            50\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkSettings               Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmHoistingLimits              'none'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmMode                        'classic'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmSelfReferences              true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nodeLinker                    'pnp'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAlwaysAuth                 false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuditRegistry              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthIdent                  '********'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthToken                  null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishAccess              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishRegistry            null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistries                 Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistryServer             'https://artifactory.cloud.our.company.com443/artifactory/api/npm/npm-internalfacing/'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmScopes                     Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: packageExtensions             Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: patchFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/patches'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpDataPath                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.pnp.data.json'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableEsmLoader            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableInlining             true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpFallbackMode               'dependencies-only'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpIgnorePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpMode                       'strict'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpShebang                    '#!/usr/bin/env node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpUnpluggedFolder            '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/unplugged'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferAggregateCacheInfo      true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferInteractive             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferTruncatedLines          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: progressBarStyle              undefined\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: rcFilename                    '.yarnrc.yml'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: supportedArchitectures        Map(3) { 'os' => [ 'current' ], 'cpu' => [ 'current' ], 'libc' => [ 'current' ] }\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryInterval             7\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryUserId               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: unsafeHttpWhitelist           []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: virtualFolder                 '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/__virtual__'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: yarnPath                      '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/releases/yarn-3.2.1.cjs'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: Done in 0s 7ms\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-29T17:07:59Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23669015939",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4686",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4686",
                "id": 1320327094,
                "node_id": "I_kwDOCNXKfM5Ospe2",
                "number": 4686,
                "title": "[Bug?]: Cannot run `require` from inside VSCode extension",
                "user": {
                    "login": "zachkirsch",
                    "id": 8902272,
                    "node_id": "MDQ6VXNlcjg5MDIyNzI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8902272?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/zachkirsch",
                    "html_url": "https://github.com/zachkirsch",
                    "followers_url": "https://api.github.com/users/zachkirsch/followers",
                    "following_url": "https://api.github.com/users/zachkirsch/following{/other_user}",
                    "gists_url": "https://api.github.com/users/zachkirsch/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/zachkirsch/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/zachkirsch/subscriptions",
                    "organizations_url": "https://api.github.com/users/zachkirsch/orgs",
                    "repos_url": "https://api.github.com/users/zachkirsch/repos",
                    "events_url": "https://api.github.com/users/zachkirsch/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/zachkirsch/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-28T02:59:24Z",
                "updated_at": "2022-08-27T03:47:35Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen using yarn pnp, Cmd+Click doesn't work in VSCode for imported scss files from external deps, e.g.\r\n```scss\r\n@import \"~@blueprintjs/core/lib/scss/variables\";\r\n\r\n...\r\n```\r\n\r\nThis is because [microsoft/vscode-css-languageservice](https://github.com/microsoft/vscode-css-languageservice) hardcodes a `node_modules` path here: https://github.com/microsoft/vscode-css-languageservice/blob/045b4764e36648a29cb3970e6733b35a0085600d/src/services/cssNavigation.ts#L347\r\n\r\nI tried to fix this by changing the path resolution to use `require.resolve`, but I get a `MODULE_NOT_FOUND` error. I think this is expected, because VSCode is likely not running this code with the pnp loader.\r\n\r\nI'd like to fix this, either on the VSCode side or the yarn side (or both!), but I'm not sure how to proceed. Any tips?\r\n\r\nNo repro provided (since the hard-coded `node_modules` is apparent). Let me know if you need more info though!\r\n\r\n### To reproduce\r\n\r\nn/a\r\n\r\n### Environment\r\n\r\n```shell\r\nn/a\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1229114685",
                "html_url": "https://github.com/yarnpkg/berry/issues/4686#issuecomment-1229114685",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686",
                "id": 1229114685,
                "node_id": "IC_kwDOCNXKfM5JQs09",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-27T03:47:35Z",
                "updated_at": "2022-08-27T03:47:35Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1229114685/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-27T03:47:36Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23659193201",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4683",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4683",
                "id": 1319587633,
                "node_id": "I_kwDOCNXKfM5Op08x",
                "number": 4683,
                "title": "[Bug?]: workspace rename has error message that could be improved",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-27T13:43:02Z",
                "updated_at": "2022-08-26T14:04:36Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nbad error message, an ideal error message would tell me which package.json (or workspace) had this dependency.\r\n\r\n```\r\n\u276f yarn install\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: @cof/e1-test-server@workspace:*: Workspace not found (@cof/e1-test-server@workspace:*)\r\n    at ze.getWorkspaceByDescriptor (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:442:3273)\r\n    at Ed.getCandidates (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:395:29907)\r\n    at Bd.getCandidates (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:396:1281)\r\n    at Bd.getCandidates (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:396:1281)\r\n    at /Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:442:7764\r\n    at Rg (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:395:11098)\r\n    at le (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:442:7744)\r\n\u27a4 YN0000: \u2514 Completed in 0s 348ms\r\n\u27a4 YN0000: Failed with errors in 0s 391ms\r\n```\n\n### To reproduce\n\ncreate monorepo with workspace, rename package name without updating it in other modules, e.g. in my case I renamed `@cof/e1-test-server` to `@cof/e1-fake-vault-server` in it's workspace `package.json`  and I had another workspace `package.json` depending on it.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 11.6.6\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-093a0b93/node\r\n    Yarn: 3.2.1 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-093a0b93/yarn\r\n    npm: 8.6.0 - ~/.asdf/plugins/nodejs/shims/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228531947",
                "html_url": "https://github.com/yarnpkg/berry/issues/4683#issuecomment-1228531947",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683",
                "id": 1228531947,
                "node_id": "IC_kwDOCNXKfM5JOejr",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-26T14:04:36Z",
                "updated_at": "2022-08-26T14:04:36Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228531947/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-26T14:04:37Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23651496315",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4674",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4674",
                "id": 1318392293,
                "node_id": "I_kwDOCNXKfM5OlRHl",
                "number": 4674,
                "title": "[Bug?]: redundant subcommand `exec` in `yarn help`",
                "user": {
                    "login": "timongh",
                    "id": 46739861,
                    "node_id": "MDQ6VXNlcjQ2NzM5ODYx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/46739861?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timongh",
                    "html_url": "https://github.com/timongh",
                    "followers_url": "https://api.github.com/users/timongh/followers",
                    "following_url": "https://api.github.com/users/timongh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timongh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timongh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timongh/subscriptions",
                    "organizations_url": "https://api.github.com/users/timongh/orgs",
                    "repos_url": "https://api.github.com/users/timongh/repos",
                    "events_url": "https://api.github.com/users/timongh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timongh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-26T15:16:12Z",
                "updated_at": "2022-08-26T07:09:01Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nIf you run `yarn help` in any directory that is not a yarn berry project, you will see a subcommand `exec`. But executing `yarn help exec` does not give you any useful information. And I can't find information about this subcommand on the Yarn 1 [website](https://classic.yarnpkg.com/en/docs/cli) either.\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n  Binaries:\r\n    Node: 16.16.0 - C:\\Users\\me\\AppData\\Local\\Temp\\xfs-dc3eceea\\node.CMD\r\n    Yarn: 3.2.2 - C:\\Users\\me\\AppData\\Local\\Temp\\xfs-dc3eceea\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228135144",
                "html_url": "https://github.com/yarnpkg/berry/issues/4674#issuecomment-1228135144",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674",
                "id": 1228135144,
                "node_id": "IC_kwDOCNXKfM5JM9ro",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-26T07:09:01Z",
                "updated_at": "2022-08-26T07:09:01Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228135144/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-26T07:09:02Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23645862368",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4678",
                "id": 1318432688,
                "node_id": "I_kwDOCNXKfM5Ola-w",
                "number": 4678,
                "title": "Better installation instructions",
                "user": {
                    "login": "geoidesic",
                    "id": 4637995,
                    "node_id": "MDQ6VXNlcjQ2Mzc5OTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4637995?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/geoidesic",
                    "html_url": "https://github.com/geoidesic",
                    "followers_url": "https://api.github.com/users/geoidesic/followers",
                    "following_url": "https://api.github.com/users/geoidesic/following{/other_user}",
                    "gists_url": "https://api.github.com/users/geoidesic/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/geoidesic/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/geoidesic/subscriptions",
                    "organizations_url": "https://api.github.com/users/geoidesic/orgs",
                    "repos_url": "https://api.github.com/users/geoidesic/repos",
                    "events_url": "https://api.github.com/users/geoidesic/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/geoidesic/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349891,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODkx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/enhancement",
                        "name": "enhancement",
                        "color": "92a4e5",
                        "default": true,
                        "description": "New feature or request"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-26T15:47:16Z",
                "updated_at": "2022-08-25T22:05:00Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "<!--\r\n  Important: These issues are for **concrete and actionable proposals**. If you just have\r\n  a general problem that you would like to brainstorm, open a Discussion instead. We want\r\n  our GitHub issues to be a strict project backlog.\r\n-->\r\n\r\n- [ ] I'd be willing to implement this feature ([contributing guide](https://yarnpkg.com/advanced/contributing))\r\n- [ ] This feature is important to have in this repository; a contrib plugin wouldn't do\r\n\r\n**Describe the user story**\r\n\r\n\"As a developer I want to be able to read the installation instructions and to actually understand them.\" :-)\r\n\r\nCurrently I read them and I go, \"Huh?\". It bangs on about something called `corepack` but doesn't explain how to actually install yarn. It talks about how to initialise a project once yarn is installed... but doesn't explain how to install yarn. Doing `corepack enable` does not magically make the `yarn` binary available (I tried it). It also talks about managing different versions of yarn but doesn't explain how to do that either.\r\n\r\nAm I missing something? Or is the documentation confusing?\r\n\r\n**Describe the solution you'd like**\r\n\r\nClear and concise installation instructions here: https://yarnpkg.com/getting-started/install\r\n\r\n**Describe the drawbacks of your solution**\r\n\r\nNone.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nCryng ;'(\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227806192",
                "html_url": "https://github.com/yarnpkg/berry/issues/4678#issuecomment-1227806192",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678",
                "id": 1227806192,
                "node_id": "IC_kwDOCNXKfM5JLtXw",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-25T22:05:00Z",
                "updated_at": "2022-08-25T22:05:00Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nIt seems like this issue as been marked as probably resolved, or missing important information blocking its progression. As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227806192/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-25T22:05:00Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23639878927",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4653",
                "id": 1313436896,
                "node_id": "I_kwDOCNXKfM5OSXTg",
                "number": 4653,
                "title": "[Bug?]: yarn does not taken into account peerDependenciesMeta.optional",
                "user": {
                    "login": "blephy",
                    "id": 24233935,
                    "node_id": "MDQ6VXNlcjI0MjMzOTM1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24233935?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/blephy",
                    "html_url": "https://github.com/blephy",
                    "followers_url": "https://api.github.com/users/blephy/followers",
                    "following_url": "https://api.github.com/users/blephy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/blephy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/blephy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/blephy/subscriptions",
                    "organizations_url": "https://api.github.com/users/blephy/orgs",
                    "repos_url": "https://api.github.com/users/blephy/repos",
                    "events_url": "https://api.github.com/users/blephy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/blephy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-21T15:25:41Z",
                "updated_at": "2022-08-25T16:04:50Z",
                "closed_at": "2022-08-25T16:04:50Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nImagine a library named `lib-a`, published on a registry. This library have this manifest : \r\n\r\n```jsonc\r\n{\r\n  // ...\r\n\"peerDependencies\": {\r\n    \"eslint-plugin-react\": \"2.0.0\"\r\n  },\r\n  \"peerDependenciesMeta\": {\r\n    \"eslint-plugin-react\": {\r\n      \"optional\": true\r\n    }\r\n  },\r\n  // ...\r\n}\r\n```\r\n\r\nWhen a package install `lib-a` without providing `eslint-plugin-react`, yarn produce a warning message \r\n\r\n```bash\r\n\u27a4 YN0002: \u2502 toto@workspace:. doesn't provide eslint-plugin-react (p61f53), requested by lib-a\r\n```\r\n\r\nyarn berry 3.2.1\r\n\r\n### To reproduce\r\n\r\nThis is not a complicated step to check :)\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\n  Binaries:\r\n    Node: 14.19.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/node\r\n    Yarn: 3.2.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/yarn\r\n    npm: 6.14.16 - ~/.nvm/versions/node/v14.19.1/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-25T16:04:50Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23639877785",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4673",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4673",
                "id": 1318383458,
                "node_id": "I_kwDOCNXKfM5OlO9i",
                "number": 4673,
                "title": "[Bug?]: YARN_CHECKSUM_BEHAVIOR=reset  does not work",
                "user": {
                    "login": "goloveychuk",
                    "id": 2370419,
                    "node_id": "MDQ6VXNlcjIzNzA0MTk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2370419?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/goloveychuk",
                    "html_url": "https://github.com/goloveychuk",
                    "followers_url": "https://api.github.com/users/goloveychuk/followers",
                    "following_url": "https://api.github.com/users/goloveychuk/following{/other_user}",
                    "gists_url": "https://api.github.com/users/goloveychuk/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/goloveychuk/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/goloveychuk/subscriptions",
                    "organizations_url": "https://api.github.com/users/goloveychuk/orgs",
                    "repos_url": "https://api.github.com/users/goloveychuk/repos",
                    "events_url": "https://api.github.com/users/goloveychuk/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/goloveychuk/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-26T15:09:18Z",
                "updated_at": "2022-08-25T16:04:47Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nDocs declaring three available options for `YARN_CHECKSUM_BEHAVIOR`, one of them is reset. \r\nBut it does not work, I also don't see an implementation. \r\nhttps://github.dev/yarnpkg/berry/blob/4a097fa80c0fc42e3d5eb51c597bf7304e981111/packages/yarnpkg-core/sources/Cache.ts#L208\r\n\r\nI think this option is important for two cases.\r\n1) local devex, when developer change a zip archive (which vscode extension allows), eventually dev would want to clear changes and replace it with remote archive.\r\n2) much more important: ci usage. \r\nI'm not sure how, but I've got a failed build because of checksum mismatch on CI. Cache path is shared, maybe it's because of yarn version change or compression level or smth else. \r\nFrom my perspective, for Ci usage, all `update`, `ignore` and `throw` options are not sophisticated. \r\nThrow is bad for CI usage, no way to fix it, first two options does not replace \"broken\" file. \r\nI think CI should use yarn.lock as source of truth, and replace \"broken\" archives.\r\n\r\nAlso, I think, `checksumBehavior` in yarnrc should be 'reset' as default if `IsCi===true`\r\n\r\nI can create a PR, if solutions is ok.\r\n\n\n### To reproduce\n\n1) yarn install with pnp enabled\r\n2) change zip archive\r\n3) `YARN_CHECKSUM_BEHAVIOR=reset yarn` should remove broken files and replace them with from remote.\r\n\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.2\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 14.17.6 - /private/var/folders/_c/5f907xz5253bhss7ytr8m8zh0000gn/T/xfs-0d97552e/node\r\n    Yarn: 4.0.0-rc.14.git.20220721.hash-4a097fa - /private/var/folders/_c/5f907xz5253bhss7ytr8m8zh0000gn/T/xfs-0d97552e/yarn\r\n    npm: 6.14.15 - /var/folders/_c/5f907xz5253bhss7ytr8m8zh0000gn/T/fnm_multishells/57279_1658844880383/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227473378",
                "html_url": "https://github.com/yarnpkg/berry/issues/4673#issuecomment-1227473378",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673",
                "id": 1227473378,
                "node_id": "IC_kwDOCNXKfM5JKcHi",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-25T16:04:47Z",
                "updated_at": "2022-08-25T16:04:47Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227473378/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-25T16:04:47Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23638578671",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4672",
                "id": 1318363924,
                "node_id": "I_kwDOCNXKfM5OlKMU",
                "number": 4672,
                "title": "[Bug?]: yarn installation failed due to script-shell settings",
                "user": {
                    "login": "timongh",
                    "id": 46739861,
                    "node_id": "MDQ6VXNlcjQ2NzM5ODYx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/46739861?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timongh",
                    "html_url": "https://github.com/timongh",
                    "followers_url": "https://api.github.com/users/timongh/followers",
                    "following_url": "https://api.github.com/users/timongh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timongh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timongh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timongh/subscriptions",
                    "organizations_url": "https://api.github.com/users/timongh/orgs",
                    "repos_url": "https://api.github.com/users/timongh/repos",
                    "events_url": "https://api.github.com/users/timongh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timongh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-26T14:54:28Z",
                "updated_at": "2022-08-25T15:06:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI installed yarn on my Windows with the following command, but it failed.\r\n\r\n```shell\r\nnpm install -g yarn\r\n```\r\n\r\nLooking at the error message, I found that this was probably because I had **`script-shell=pwsh` in my configuration file**, which would make npm exec execute commands in PowerShell instead of the default cmd. **When I removed it, it installed successfully.**\r\n\r\nPerhaps this bug can be fixed by overriding the config file with some command line option.\n\n### To reproduce\n\nsee \"Describe the bug\"\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n  Binaries:\r\n    Node: 16.16.0 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\node.CMD\r\n    Yarn: 3.2.2 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\fnm_multishells\\23264_1658843196956\\npm.CMD\n```\n\n\n### Additional context\n\n<details>\r\n<summary>shell</summary>\r\n\r\n```plain\r\nPS D:\\test_folder> npm install -g yarn\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm ERR! code 1\r\nnpm ERR! path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\nnpm ERR! command failed\r\nnpm ERR! command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\nnpm ERR! :: The term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\nnpm ERR! Out-File: Could not find a part of the path 'D:\\dev\\null'.\r\nnpm ERR! true: The term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>debug log</summary>\r\n\r\n```plain\r\n0 verbose cli C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node.exe C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node_modules\\npm\\bin\\npm-cli.js\r\n1 info using npm@8.11.0\r\n2 info using node@v16.16.0\r\n3 timing npm:load:whichnode Completed in 1ms\r\n4 timing config:load:defaults Completed in 2ms\r\n5 timing config:load:file:D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\npmrc Completed in 1ms\r\n6 timing config:load:builtin Completed in 1ms\r\n7 warn config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\n8 timing config:load:cli Completed in 2ms\r\n9 timing config:load:env Completed in 1ms\r\n10 timing config:load:project Completed in 2ms\r\n11 timing config:load:file:C:\\Users\\me\\.npmrc Completed in 1ms\r\n12 timing config:load:user Completed in 1ms\r\n13 timing config:load:file:D:\\npm_folder\\npm\\npmrc Completed in 1ms\r\n14 timing config:load:global Completed in 1ms\r\n15 timing config:load:validate Completed in 1ms\r\n16 timing config:load:credentials Completed in 1ms\r\n17 timing config:load:setEnvs Completed in 1ms\r\n18 timing config:load Completed in 13ms\r\n19 timing npm:load:configload Completed in 13ms\r\n20 timing npm:load:mkdirpcache Completed in 1ms\r\n21 timing npm:load:mkdirplogs Completed in 0ms\r\n22 verbose title npm install yarn\r\n23 verbose argv \"install\" \"--global\" \"yarn\"\r\n24 timing npm:load:setTitle Completed in 1ms\r\n25 timing config:load:flatten Completed in 2ms\r\n26 timing npm:load:display Completed in 7ms\r\n27 verbose logfile logs-max:10 dir:D:\\npm_folder\\npm\\cache\\_logs\r\n28 verbose logfile D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n29 timing npm:load:logFile Completed in 5ms\r\n30 timing npm:load:timers Completed in 0ms\r\n31 timing npm:load:configScope Completed in 0ms\r\n32 timing npm:load Completed in 29ms\r\n33 timing arborist:ctor Completed in 2ms\r\n34 silly logfile done cleaning log files\r\n35 timing idealTree:init Completed in 29ms\r\n36 timing idealTree:userRequests Completed in 13ms\r\n37 silly idealTree buildDeps\r\n38 silly fetch manifest yarn@*\r\n39 http fetch GET 200 https://registry.npmmirror.com/yarn 638ms (cache revalidated)\r\n40 silly placeDep ROOT yarn@1.22.19 OK for:  want: *\r\n41 timing idealTree:#root Completed in 658ms\r\n42 timing idealTree:node_modules/yarn Completed in 0ms\r\n43 timing idealTree:buildDeps Completed in 659ms\r\n44 timing idealTree:fixDepFlags Completed in 0ms\r\n45 timing idealTree Completed in 705ms\r\n46 timing reify:loadTrees Completed in 708ms\r\n47 timing reify:diffTrees Completed in 2ms\r\n48 silly reify moves {}\r\n49 timing reify:retireShallow Completed in 21ms\r\n50 timing reify:createSparse Completed in 50ms\r\n51 timing reify:loadBundles Completed in 0ms\r\n52 silly audit bulk request { yarn: [ '1.22.19' ] }\r\n53 timing reifyNode:node_modules/yarn Completed in 241ms\r\n54 timing reify:unpack Completed in 242ms\r\n55 timing reify:unretire Completed in 0ms\r\n56 timing build:queue Completed in 13ms\r\n57 info run yarn@1.22.19 preinstall node_modules/yarn :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n58 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/advisories/bulk 387ms (cache skip)\r\n59 silly audit bulk request failed <h1>404 Not Found</h1>\r\n60 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/audits/quick 323ms (cache skip)\r\n61 verbose audit error HttpErrorGeneral: 404 Not Found - POST https://registry.npmmirror.com/-/npm/v1/security/audits/quick\r\n61 verbose audit error     at D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\npm-registry-fetch\\lib\\check-response.js:93:15\r\n61 verbose audit error     at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n61 verbose audit error     at async Map.[getReport] (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:333:21)\r\n61 verbose audit error     at async Map.run (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:106:19) {\r\n61 verbose audit error   headers: [Object: null prototype] {\r\n61 verbose audit error     server: [ 'Tengine' ],\r\n61 verbose audit error     'content-type': [ 'text/html; charset=utf-8' ],\r\n61 verbose audit error     'content-length': [ '41' ],\r\n61 verbose audit error     connection: [ 'keep-alive' ],\r\n61 verbose audit error     'strict-transport-security': [ 'max-age=5184000' ],\r\n61 verbose audit error     date: [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     vary: [ 'Origin' ],\r\n61 verbose audit error     'x-frame-options': [ 'SAMEORIGIN' ],\r\n61 verbose audit error     'x-xss-protection': [ '1; mode=block' ],\r\n61 verbose audit error     'x-content-type-options': [ 'nosniff' ],\r\n61 verbose audit error     'x-download-options': [ 'noopen' ],\r\n61 verbose audit error     'x-readtime': [ '1.023' ],\r\n61 verbose audit error     'content-encoding': [ 'gzip' ],\r\n61 verbose audit error     'ali-swift-global-savetime': [ '1658842406' ],\r\n61 verbose audit error     via: [\r\n61 verbose audit error       'cache74.l2cn3036[13,13,404-1280,M], cache79.l2cn3036[13,0], kunlun8.cn1416[28,27,404-1280,M], kunlun5.cn1416[31,0]'\r\n61 verbose audit error     ],\r\n61 verbose audit error     'x-cache': [ 'MISS TCP_MISS dirn:-2:-2' ],\r\n61 verbose audit error     'x-swift-savetime': [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     'x-swift-cachetime': [ '1' ],\r\n61 verbose audit error     'x-swift-error': [ 'orig response 4XX error' ],\r\n61 verbose audit error     'timing-allow-origin': [ '*' ],\r\n61 verbose audit error     eagleid: [ 'df6f181916588424061965275e' ],\r\n61 verbose audit error     'x-fetch-attempts': [ '1' ],\r\n61 verbose audit error     'x-local-cache-status': [ 'skip' ]\r\n61 verbose audit error   },\r\n61 verbose audit error   statusCode: 404,\r\n61 verbose audit error   code: 'E404',\r\n61 verbose audit error   method: 'POST',\r\n61 verbose audit error   uri: 'https://registry.npmmirror.com/-/npm/v1/security/audits/quick',\r\n61 verbose audit error   body: <Buffer 3c 68 31 3e 34 30 34 20 4e 6f 74 20 46 6f 75 6e 64 3c 2f 68 31 3e>,\r\n61 verbose audit error   pkgid: undefined\r\n61 verbose audit error }\r\n62 silly audit error <h1>404 Not Found</h1>\r\n63 timing auditReport:getReport Completed in 726ms\r\n64 silly audit report null\r\n65 timing reify:audit Completed in 727ms\r\n66 info run yarn@1.22.19 preinstall { code: 1, signal: null }\r\n67 timing reify:rollback:createSparse Completed in 13ms\r\n68 timing reify:rollback:retireShallow Completed in 1ms\r\n69 timing command:install Completed in 2192ms\r\n70 verbose stack Error: command failed\r\n70 verbose stack     at ChildProcess.<anonymous> (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\promise-spawn\\lib\\index.js:63:27)\r\n70 verbose stack     at ChildProcess.emit (node:events:527:28)\r\n70 verbose stack     at maybeClose (node:internal/child_process:1092:16)\r\n70 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:302:5)\r\n71 verbose pkgid yarn@1.22.19\r\n72 verbose cwd D:\\test_folder\r\n73 verbose Windows_NT 10.0.19043\r\n74 verbose node v16.16.0\r\n75 verbose npm  v8.11.0\r\n76 error code 1\r\n77 error path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\n78 error command failed\r\n79 error command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n80 error \u001b[91m:: \u001b[91mThe term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n80 error \u001b[91mOut-File: \u001b[91mCould not find a part of the path 'D:\\dev\\null'.\u001b[0m\r\n80 error \u001b[91mtrue: \u001b[91mThe term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n81 verbose exit 1\r\n82 timing npm Completed in 3441ms\r\n83 verbose unfinished npm timer reify 1658842402660\r\n84 verbose unfinished npm timer reify:build 1658842403808\r\n85 verbose unfinished npm timer build 1658842403808\r\n86 verbose unfinished npm timer build:deps 1658842403808\r\n87 verbose unfinished npm timer build:run:preinstall 1658842403821\r\n88 verbose unfinished npm timer build:run:preinstall:node_modules/yarn 1658842403821\r\n89 verbose code 1\r\n90 error A complete log of this run can be found in:\r\n90 error     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227386729",
                "html_url": "https://github.com/yarnpkg/berry/issues/4672#issuecomment-1227386729",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672",
                "id": 1227386729,
                "node_id": "IC_kwDOCNXKfM5JKG9p",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-25T15:06:04Z",
                "updated_at": "2022-08-25T15:06:04Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227386729/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-25T15:06:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23630726691",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4652",
                "id": 1312878267,
                "node_id": "I_kwDOCNXKfM5OQO67",
                "number": 4652,
                "title": "[Bug?]: Required package missing from disk when using pnp with canary yarn",
                "user": {
                    "login": "simPod",
                    "id": 327717,
                    "node_id": "MDQ6VXNlcjMyNzcxNw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/327717?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/simPod",
                    "html_url": "https://github.com/simPod",
                    "followers_url": "https://api.github.com/users/simPod/followers",
                    "following_url": "https://api.github.com/users/simPod/following{/other_user}",
                    "gists_url": "https://api.github.com/users/simPod/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/simPod/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/simPod/subscriptions",
                    "organizations_url": "https://api.github.com/users/simPod/orgs",
                    "repos_url": "https://api.github.com/users/simPod/repos",
                    "events_url": "https://api.github.com/users/simPod/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/simPod/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-21T08:28:46Z",
                "updated_at": "2022-08-25T09:05:39Z",
                "closed_at": "2022-08-25T09:05:39Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI tried running canary (4.0.0-rc.13)\r\n\r\nand getting \r\n\r\n```\r\n/builds/projects/project1/124325/.pnp.cjs:31452\r\n  return Object.defineProperties(new Error(message), {\r\n                                 ^\r\nError: Required package missing from disk. If you keep your packages inside your repository then restarting the Node process may be enough. Otherwise, try to run an install first.\r\nMissing package: prettier@npm:2.7.1\r\n\r\nExpected package location: /root/.yarn/berry/cache/prettier-npm-2.7.1-d1f40f5e1a-9.zip/node_modules/prettier/\r\n    at makeError (/builds/projects/project1/124325/.pnp.cjs:31452:34)\r\n    at resolveUnqualified (/builds/projects/project1/124325/.pnp.cjs:32441:17)\r\n    at resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32464:14)\r\n    at Object.resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32520:26)\r\n    at resolve$1 (file:///builds/projects/project1/124325/.pnp.loader.mjs:221:25)\r\n    at ESMLoader.resolve (node:internal/modules/esm/loader:604:30)\r\n    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:318:18)\r\n    at ESMLoader.import (node:internal/modules/esm/loader:[40](https://gitlab.domain.sth/path/project1/-/jobs/1349330#L40)4:22)\r\n    at node:internal/modules/run_main:54:28\r\n    at loadESM (node:internal/process/esm_loader:85:11)\r\n```\r\n\r\nwhen trying to run any binary via yarn\r\n\r\n### To reproduce\r\n\r\n<details>\r\n\r\nI fail to reproduce it locally on\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 18.0.0 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/node\r\n    Yarn: 4.0.0-rc.13 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/yarn\r\n    npm: 8.6.0 - /opt/homebrew/bin/npm\r\n```\r\n\r\n</details>\r\n\r\nThis is the command sequence I'm trying\r\n```\r\n\tyarn cache clean --all\r\n\tyarn install --immutable\r\n\tyarn bin // this outputs binaries like prettier properly\r\n```\r\n\r\nbut then trying to run\r\n\r\n```sh\r\nyarn run prettier --list-different \"**/*.{graphql,json,md,yml,yaml}\"\r\n```\r\n\r\ngives the error above\r\n\r\n### Environment\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 17.9.0 - /tmp/xfs-1be9c540/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-1be9c540/yarn\r\n    npm: 8.5.5 - ~/.nvm/versions/node/v17.9.0/bin/npm\r\n```\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 18.6.0 - /tmp/xfs-a0a6cc2b/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-a0a6cc2b/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v18.6.0/bin/npm\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-25T09:05:40Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23617354151",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10821661184,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "c89a789e8ccea19594ec087deb8dcbca03178998",
            "before": "e0d8a1b280e83e3e9a79a029f352b3c7688698be",
            "commits": [
                {
                    "sha": "4e3fde430ffce69a62abd87a8676ed0d829baabb",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 40 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.15` |\n| `@yarnpkg/core` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.15` |\n| `@yarnpkg/extensions` | `1.2.0-rc.2` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.15` |\n| `@yarnpkg/pnp` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.15` |\n| `@yarnpkg/sdks` | `3.0.0-rc.15` |\n| `@yarnpkg/fslib` | `3.0.0-rc.15` |\n| `@yarnpkg/libui` | `3.0.0-rc.15` |\n| `@yarnpkg/libzip` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.15` |\n| `vscode-zipfs` | `2.6.0-rc.4` |\n| `@yarnpkg/shell` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.15` |\n| `@yarnpkg/esbuild-plugin-pnp` | `3.0.0-rc.15` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.15` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.15` |\n| `@yarnpkg/builder` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.15` |\n| `@yarnpkg/nm` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.15` |\n| `@yarnpkg/doctor` | `4.0.0-rc.15` |\n| `@yarnpkg/parsers` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.15` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/4e3fde430ffce69a62abd87a8676ed0d829baabb"
                },
                {
                    "sha": "c89a789e8ccea19594ec087deb8dcbca03178998",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/c89a789e8ccea19594ec087deb8dcbca03178998"
                }
            ]
        },
        "public": true,
        "created_at": "2022-08-24T17:03:13Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23616210955",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4661",
                "id": 1316963629,
                "node_id": "I_kwDOCNXKfM5Of0Ut",
                "number": 4661,
                "title": "[Bug?]: yarn says unauthenticated even when npmAuthIdent or npmAuthToken is set",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-25T14:56:56Z",
                "updated_at": "2022-08-24T16:04:58Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nyarn says unauthenticated even when `npmAuthIdent` or `npmAuthToken` is set. At the very least if I've done something wrong I think the error and documentation should be improved, it's not particularly useful.\r\n\r\nhere's my logs, the line is second to last\r\n```\r\n[2022-07-25T13:36:10.574Z] > @cof/e1-http@0.1.0 publish:yarn\r\n[2022-07-25T13:36:10.574Z] > yarn workspaces foreach --no-private --exclude @cof/e1-http --exclude @cof/e1-test-server npm publish\r\n[2022-07-25T13:36:10.574Z] \r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 31ms\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/index.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/secrets-client.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/integration/secrets-client.it.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/unit/secrets-client.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 22ms\r\n```\r\n\r\n### To reproduce\r\n\r\npublish a package to a private server that needs npm credentials like this\r\n\r\n```\r\nregistry.artifactory.our.company.com:username=myuser\r\nregistry.artifactory.our.company.com:username::_password=SomeTokenThatContainsFullAlphaBetNoEquals\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\n11:08:38    System:\r\n11:08:38      OS: Linux 5.10 CentOS Linux 7 (Core)\r\n11:08:38      CPU: (16) x64 Intel(R) Xeon(R) Platinum 8124M CPU @ 3.00GHz\r\n11:08:38    Binaries:\r\n11:08:38      Node: 16.16.0 - /tmp/xfs-e6afd580/node\r\n11:08:38      Yarn: 3.2.1 - /tmp/xfs-e6afd580/yarn\r\n11:08:38      npm: 8.11.0 - ~/.nvm/versions/node/v16.16.0/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n```\r\n[2022-07-25T13:36:06.929Z] Now using node v16.16.0 (npm v8.11.0)\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.440Z] > @cof/e1-http@0.1.0 prepublish:yarn\r\n[2022-07-25T13:36:07.440Z] > yarn install --immutable && yarn :credentials && yarn config\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.963Z] \u27a4 YN0000: \u250c Resolution step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Fetch step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0013: \u2502 635 packages were already cached\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed in 0s 205ms\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Link step\r\n[2022-07-25T13:36:08.987Z] \u27a4 YN0000: \u2502 ESM support for PnP uses the experimental loader API and is therefore experimental\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0007: \u2502 @cof/e1-http@workspace:. must be built because it never has been before or the last one failed\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR fatal: not a git repository (or any parent up to mount point /home)\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2514 Completed in 0s 921ms\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: Done with warnings in 1s 394ms\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: caFilePath                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/cache'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheKeyOverride              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetBaseRefs             [ 'master', 'origin/master', ... 4 more items ]\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetIgnorePatterns       []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: checksumBehavior              'throw'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cloneConcurrency              2\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: compressionLevel              'mixed'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: constraintsPath               '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/constraints.pro'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultLanguageName           'node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultProtocol               'npm:'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultSemverRangePrefix      '^'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableColors                  false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableGlobalCache             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableHyperlinks              false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableCache          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableInstalls       true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineBuilds            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineHunks             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMessageNames            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMirror                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableNetwork                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableProgressBars            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableScripts                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSettings          true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSsl               false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTelemetry               true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTimers                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTransparentWorkspaces   true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: globalFolder                  '/home/git/.yarn/berry'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpProxy                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpRetry                     3\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpTimeout                   60000\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsCertFilePath             null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsKeyFilePath              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsProxy                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignoreCwd                     false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignorePath                    false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: immutablePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initEditorConfig              Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initFields                    Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initScope                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: installStatePath              '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/install-state.gz'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lastUpdateCheck               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lockfileFilename              'yarn.lock'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: logFilters                    []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkConcurrency            50\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkSettings               Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmHoistingLimits              'none'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmMode                        'classic'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmSelfReferences              true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nodeLinker                    'pnp'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAlwaysAuth                 false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuditRegistry              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthIdent                  '********'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthToken                  null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishAccess              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishRegistry            null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistries                 Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistryServer             'https://artifactory.cloud.our.company.com443/artifactory/api/npm/npm-internalfacing/'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmScopes                     Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: packageExtensions             Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: patchFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/patches'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpDataPath                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.pnp.data.json'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableEsmLoader            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableInlining             true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpFallbackMode               'dependencies-only'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpIgnorePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpMode                       'strict'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpShebang                    '#!/usr/bin/env node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpUnpluggedFolder            '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/unplugged'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferAggregateCacheInfo      true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferInteractive             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferTruncatedLines          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: progressBarStyle              undefined\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: rcFilename                    '.yarnrc.yml'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: supportedArchitectures        Map(3) { 'os' => [ 'current' ], 'cpu' => [ 'current' ], 'libc' => [ 'current' ] }\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryInterval             7\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryUserId               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: unsafeHttpWhitelist           []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: virtualFolder                 '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/__virtual__'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: yarnPath                      '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/releases/yarn-3.2.1.cjs'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: Done in 0s 7ms\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1225928901",
                "html_url": "https://github.com/yarnpkg/berry/issues/4661#issuecomment-1225928901",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661",
                "id": 1225928901,
                "node_id": "IC_kwDOCNXKfM5JEjDF",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-24T16:04:57Z",
                "updated_at": "2022-08-24T16:04:57Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1225928901/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-24T16:04:58Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23572224100",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4658",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4658",
                "id": 1315732431,
                "node_id": "I_kwDOCNXKfM5ObHvP",
                "number": 4658,
                "title": "[Bug?]: Yarn doesn't use Node found first in PATH",
                "user": {
                    "login": "RobbieMcKinstry",
                    "id": 4955075,
                    "node_id": "MDQ6VXNlcjQ5NTUwNzU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4955075?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/RobbieMcKinstry",
                    "html_url": "https://github.com/RobbieMcKinstry",
                    "followers_url": "https://api.github.com/users/RobbieMcKinstry/followers",
                    "following_url": "https://api.github.com/users/RobbieMcKinstry/following{/other_user}",
                    "gists_url": "https://api.github.com/users/RobbieMcKinstry/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/RobbieMcKinstry/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/RobbieMcKinstry/subscriptions",
                    "organizations_url": "https://api.github.com/users/RobbieMcKinstry/orgs",
                    "repos_url": "https://api.github.com/users/RobbieMcKinstry/repos",
                    "events_url": "https://api.github.com/users/RobbieMcKinstry/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/RobbieMcKinstry/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-23T19:42:17Z",
                "updated_at": "2022-08-22T20:04:41Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`yarn node` is using a surprising version of Node. I'm not sure where or when this version was even installed, but it certainly defies my expectations about which version is active. I also can't find a way to change the version used by Yarn, or any documentation of how the executable is selected.\r\n\r\n```bash\r\n$ yarn --version\r\n3.2.2\r\n$ yarn node --version\r\nv16.13.0\r\n$ node --version\r\nv18.6.0\r\n$ which node\r\n/Users/robbiemckinstry/.volta/bin/node\r\n$ /Users/robbiemckinstry/.volta/bin/node --version\r\nv18.6.0\r\n$ yarn config | grep 'node'\r\n\u27a4 YN0000: defaultLanguageName           'node'\r\n\u27a4 YN0000: nodeLinker                    'pnp'\r\n\u27a4 YN0000: pnpShebang                    '#!/usr/bin/env node'\r\n$ /usr/bin/env node --version\r\nv18.6.0\r\n$ stat /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-2b580fed/node\r\nstat: /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-e4f51516/node: stat: No such file or directory\r\n```\r\n\r\n### To reproduce\r\n\r\n```bash repro\r\n# Install Node with Volta.\r\n$ curl https://get.volta.sh | bash\r\n$ volta install node@18.6.0\r\n$ node --version\r\n# Install Yarn \r\n$ corepack enable\r\n$ corepack prepare yarn@3.2.2 --activate\r\n# Add Engine version to package.json\r\n$ cat package.json\r\n{\r\n  \"name\": \"tailwindui-saas\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"dev\": \"next dev\",\r\n    \"build\": \"next build\",\r\n    \"start\": \"next start\",\r\n    \"lint\": \"next lint\"\r\n  },\r\n  \"browserslist\": \"defaults, not ie <= 11\",\r\n  \"dependencies\": {\r\n    \"@headlessui/react\": \"^1.6.5\",\r\n    \"@tailwindcss/forms\": \"^0.5.2\",\r\n    \"autoprefixer\": \"^10.4.7\",\r\n    \"clsx\": \"^1.2.0\",\r\n    \"focus-visible\": \"^5.2.0\",\r\n    \"next\": \"12.2.0\",\r\n    \"postcss\": \"^8.4.14\",\r\n    \"postcss-focus-visible\": \"^6.0.4\",\r\n    \"react\": \"18.2.0\",\r\n    \"react-dom\": \"18.2.0\",\r\n    \"tailwindcss\": \"^3.1.4\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"eslint\": \"8.19.0\",\r\n    \"eslint-config-next\": \"12.2.0\",\r\n    \"prettier\": \"^2.7.1\",\r\n    \"prettier-plugin-tailwindcss\": \"^0.1.11\"\r\n  },\r\n  \"engines\": {\r\n    \"node\": \"18.6.0\",\r\n    \"yarn\": \"3.2.2\"\r\n  },\r\n  \"volta\": {\r\n    \"node\": \"18.6.0\"\r\n  }\r\n}\r\n# Inspect Yarn Version\r\n$ yarn node --version\r\nv16.13.0\r\n$ node --version\r\nv18.6.0\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.13.0 - /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-2b580fed/node\r\n    Yarn: 3.2.2 - /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-2b580fed/yarn\r\n    npm: 8.6.0 - ~/.volta/tools/image/npm/8.6.0/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThis issue is tangentially related to https://github.com/yarnpkg/berry/issues/1177\r\nI would expect `yarn node` to use the node version provided in the `engine.node` field of `package.json`, or to throw a warning if the version it's using does not match. ",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1222894339",
                "html_url": "https://github.com/yarnpkg/berry/issues/4658#issuecomment-1222894339",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658",
                "id": 1222894339,
                "node_id": "IC_kwDOCNXKfM5I4-MD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-22T20:04:41Z",
                "updated_at": "2022-08-22T20:04:41Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1222894339/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-22T20:04:42Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23552154327",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4657",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4657",
                "id": 1315483371,
                "node_id": "I_kwDOCNXKfM5OaK7r",
                "number": 4657,
                "title": "[Bug?]: missing description YN0033",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-22T23:15:57Z",
                "updated_at": "2022-08-22T00:20:58Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nmissing help description\n\n### To reproduce\n\n```\r\n\u276f yarn explain YN0033\r\n\u2501\u2501\u2501 YN0033 - AUTHENTICATION_NOT_FOUND \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\r\n\r\nThis error code does not have a description.\r\n\r\nYou can help us by editing this page on GitHub \ud83d\ude42:\r\nhttps://github.com/yarnpkg/berry/blob/master/packages/gatsby/content/advanced/error-codes.md\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 11.6.6\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-4dfebc17/node\r\n    Yarn: 3.2.1 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-4dfebc17/yarn\r\n    npm: 8.6.0 - ~/.asdf/plugins/nodejs/shims/npm\r\n```\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221655192",
                "html_url": "https://github.com/yarnpkg/berry/issues/4657#issuecomment-1221655192",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657",
                "id": 1221655192,
                "node_id": "IC_kwDOCNXKfM5I0PqY",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-22T00:20:58Z",
                "updated_at": "2022-08-22T00:20:58Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221655192/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-22T00:20:58Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23542451359",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4653",
                "id": 1313436896,
                "node_id": "I_kwDOCNXKfM5OSXTg",
                "number": 4653,
                "title": "[Bug?]: yarn does not taken into account peerDependenciesMeta.optional",
                "user": {
                    "login": "blephy",
                    "id": 24233935,
                    "node_id": "MDQ6VXNlcjI0MjMzOTM1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24233935?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/blephy",
                    "html_url": "https://github.com/blephy",
                    "followers_url": "https://api.github.com/users/blephy/followers",
                    "following_url": "https://api.github.com/users/blephy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/blephy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/blephy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/blephy/subscriptions",
                    "organizations_url": "https://api.github.com/users/blephy/orgs",
                    "repos_url": "https://api.github.com/users/blephy/repos",
                    "events_url": "https://api.github.com/users/blephy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/blephy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-21T15:25:41Z",
                "updated_at": "2022-08-20T16:04:44Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nImagine a library named `lib-a`, published on a registry. This library have this manifest : \r\n\r\n```jsonc\r\n{\r\n  // ...\r\n\"peerDependencies\": {\r\n    \"eslint-plugin-react\": \"2.0.0\"\r\n  },\r\n  \"peerDependenciesMeta\": {\r\n    \"eslint-plugin-react\": {\r\n      \"optional\": true\r\n    }\r\n  },\r\n  // ...\r\n}\r\n```\r\n\r\nWhen a package install `lib-a` without providing `eslint-plugin-react`, yarn produce a warning message \r\n\r\n```bash\r\n\u27a4 YN0002: \u2502 toto@workspace:. doesn't provide eslint-plugin-react (p61f53), requested by lib-a\r\n```\r\n\r\nyarn berry 3.2.1\r\n\r\n### To reproduce\r\n\r\nThis is not a complicated step to check :)\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\n  Binaries:\r\n    Node: 14.19.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/node\r\n    Yarn: 3.2.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/yarn\r\n    npm: 6.14.16 - ~/.nvm/versions/node/v14.19.1/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221355896",
                "html_url": "https://github.com/yarnpkg/berry/issues/4653#issuecomment-1221355896",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653",
                "id": 1221355896,
                "node_id": "IC_kwDOCNXKfM5IzGl4",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-20T16:04:44Z",
                "updated_at": "2022-08-20T16:04:44Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221355896/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-20T16:04:44Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23540186993",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4652",
                "id": 1312878267,
                "node_id": "I_kwDOCNXKfM5OQO67",
                "number": 4652,
                "title": "[Bug?]: Required package missing from disk when using pnp with canary yarn",
                "user": {
                    "login": "simPod",
                    "id": 327717,
                    "node_id": "MDQ6VXNlcjMyNzcxNw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/327717?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/simPod",
                    "html_url": "https://github.com/simPod",
                    "followers_url": "https://api.github.com/users/simPod/followers",
                    "following_url": "https://api.github.com/users/simPod/following{/other_user}",
                    "gists_url": "https://api.github.com/users/simPod/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/simPod/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/simPod/subscriptions",
                    "organizations_url": "https://api.github.com/users/simPod/orgs",
                    "repos_url": "https://api.github.com/users/simPod/repos",
                    "events_url": "https://api.github.com/users/simPod/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/simPod/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-21T08:28:46Z",
                "updated_at": "2022-08-20T09:04:26Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI tried running canary (4.0.0-rc.13)\r\n\r\nand getting \r\n\r\n```\r\n/builds/projects/project1/124325/.pnp.cjs:31452\r\n  return Object.defineProperties(new Error(message), {\r\n                                 ^\r\nError: Required package missing from disk. If you keep your packages inside your repository then restarting the Node process may be enough. Otherwise, try to run an install first.\r\nMissing package: prettier@npm:2.7.1\r\n\r\nExpected package location: /root/.yarn/berry/cache/prettier-npm-2.7.1-d1f40f5e1a-9.zip/node_modules/prettier/\r\n    at makeError (/builds/projects/project1/124325/.pnp.cjs:31452:34)\r\n    at resolveUnqualified (/builds/projects/project1/124325/.pnp.cjs:32441:17)\r\n    at resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32464:14)\r\n    at Object.resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32520:26)\r\n    at resolve$1 (file:///builds/projects/project1/124325/.pnp.loader.mjs:221:25)\r\n    at ESMLoader.resolve (node:internal/modules/esm/loader:604:30)\r\n    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:318:18)\r\n    at ESMLoader.import (node:internal/modules/esm/loader:[40](https://gitlab.domain.sth/path/project1/-/jobs/1349330#L40)4:22)\r\n    at node:internal/modules/run_main:54:28\r\n    at loadESM (node:internal/process/esm_loader:85:11)\r\n```\r\n\r\nwhen trying to run any binary via yarn\r\n\r\n### To reproduce\r\n\r\n<details>\r\n\r\nI fail to reproduce it locally on\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 18.0.0 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/node\r\n    Yarn: 4.0.0-rc.13 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/yarn\r\n    npm: 8.6.0 - /opt/homebrew/bin/npm\r\n```\r\n\r\n</details>\r\n\r\nThis is the command sequence I'm trying\r\n```\r\n\tyarn cache clean --all\r\n\tyarn install --immutable\r\n\tyarn bin // this outputs binaries like prettier properly\r\n```\r\n\r\nbut then trying to run\r\n\r\n```sh\r\nyarn run prettier --list-different \"**/*.{graphql,json,md,yml,yaml}\"\r\n```\r\n\r\ngives the error above\r\n\r\n### Environment\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 17.9.0 - /tmp/xfs-1be9c540/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-1be9c540/yarn\r\n    npm: 8.5.5 - ~/.nvm/versions/node/v17.9.0/bin/npm\r\n```\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 18.6.0 - /tmp/xfs-a0a6cc2b/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-a0a6cc2b/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v18.6.0/bin/npm\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221262936",
                "html_url": "https://github.com/yarnpkg/berry/issues/4652#issuecomment-1221262936",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652",
                "id": 1221262936,
                "node_id": "IC_kwDOCNXKfM5Iyv5Y",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-20T09:04:26Z",
                "updated_at": "2022-08-20T09:04:26Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221262936/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-20T09:04:26Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23494701553",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4623",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4623",
                "id": 1303939014,
                "node_id": "I_kwDOCNXKfM5NuIfG",
                "number": 4623,
                "title": "[Bug?]: Vulnerability introduced through `parse-path` transitive dependency",
                "user": {
                    "login": "mhassan1",
                    "id": 8029107,
                    "node_id": "MDQ6VXNlcjgwMjkxMDc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8029107?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mhassan1",
                    "html_url": "https://github.com/mhassan1",
                    "followers_url": "https://api.github.com/users/mhassan1/followers",
                    "following_url": "https://api.github.com/users/mhassan1/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mhassan1/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mhassan1/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mhassan1/subscriptions",
                    "organizations_url": "https://api.github.com/users/mhassan1/orgs",
                    "repos_url": "https://api.github.com/users/mhassan1/repos",
                    "events_url": "https://api.github.com/users/mhassan1/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mhassan1/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-07-13T20:58:32Z",
                "updated_at": "2022-08-17T23:05:00Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\n`parse-path@4` is vulnerable to [Authorization Bypass](https://security.snyk.io/vuln/SNYK-JS-PARSEPATH-2936439), and `@yarnpkg/plugin-git` has a [transitive dependency](https://snyk.io/test/npm/%40yarnpkg/plugin-git/3.0.0-rc.11) on it, via its dependency on `git-url-parse@11`. This can be resolved by upgrading to `git-url-parse@12`.\n\n### To reproduce\n\n```js repro\r\nconst { promises: { readFile } } = require('fs')\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    '@yarnpkg/plugin-git': '3.0.0-rc.12'\r\n  }\r\n})\r\nexpect(await readFile('yarn.lock', 'utf8')).not.toContain('parse-path@npm:4')\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 12.4\r\n  CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\nBinaries:\r\n  Node: 16.14.2 - /private/var/folders/82/cn2lb31s5hd572v7x5wkc1vc0000gq/T/xfs-89ab454f/node\r\n  Yarn: 4.0.0-rc.7-dev - /private/var/folders/82/cn2lb31s5hd572v7x5wkc1vc0000gq/T/xfs-89ab454f/yarn\r\n  npm: 8.9.0 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218598317",
                "html_url": "https://github.com/yarnpkg/berry/issues/4623#issuecomment-1218598317",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623",
                "id": 1218598317,
                "node_id": "IC_kwDOCNXKfM5IolWt",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-17T23:04:59Z",
                "updated_at": "2022-08-17T23:04:59Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218598317/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-17T23:05:00Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23493255175",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4580",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4580",
                "id": 1284707853,
                "node_id": "I_kwDOCNXKfM5MkxYN",
                "number": 4580,
                "title": "[Bug?]: `yarn upgrade-interactive` incorrectly parses aliased packages",
                "user": {
                    "login": "kkirsche",
                    "id": 947110,
                    "node_id": "MDQ6VXNlcjk0NzExMA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/947110?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/kkirsche",
                    "html_url": "https://github.com/kkirsche",
                    "followers_url": "https://api.github.com/users/kkirsche/followers",
                    "following_url": "https://api.github.com/users/kkirsche/following{/other_user}",
                    "gists_url": "https://api.github.com/users/kkirsche/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/kkirsche/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/kkirsche/subscriptions",
                    "organizations_url": "https://api.github.com/users/kkirsche/orgs",
                    "repos_url": "https://api.github.com/users/kkirsche/repos",
                    "events_url": "https://api.github.com/users/kkirsche/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/kkirsche/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-06-25T20:34:17Z",
                "updated_at": "2022-08-17T21:04:46Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\n`yarn upgrade-interactive` incorrectly parses aliased packages\n\n### To reproduce\n\nSorry, I don't know how to do an interactive plugin reproduction via Sherlock, so I put together a git repo with the minimal code:\r\n\r\nhttps://github.com/kkirsche/yarn-issue-repro\r\n\r\nThis includes an image of the actual output\r\n\r\nTo reproduce:\r\n```\r\ngit clone https://github.com/kkirsche/yarn-issue-repro.git\r\ncd yarn-issue-repro\r\nyarn install\r\nyarn upgrade-interactive\r\n```\r\n\r\nThis is using the following package.json:\r\n\r\n```js\r\n{\r\n  \"dependencies\": {\r\n    \"buffer\": \"npm:buffer-browserify@^0.2.5\"\r\n  },\r\n  \"packageManager\": \"yarn@3.2.1\"\r\n}\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/62/793fz95j5856gz_3gz6yrlv80000gq/T/xfs-99a9dab4/node\r\n    Yarn: 3.2.1 - /private/var/folders/62/793fz95j5856gz_3gz6yrlv80000gq/T/xfs-99a9dab4/yarn\r\n    npm: 8.13.1 - ~/.asdf/plugins/nodejs/shims/npm\n```\n\n\n### Additional context\n\n![CleanShot 2022-06-25 at 16 30 27@2x](https://user-images.githubusercontent.com/947110/175789722-9537a2ab-d29b-4ef9-a106-976ae5c8111b.png)\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218489225",
                "html_url": "https://github.com/yarnpkg/berry/issues/4580#issuecomment-1218489225",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580",
                "id": 1218489225,
                "node_id": "IC_kwDOCNXKfM5IoKuJ",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-17T21:04:46Z",
                "updated_at": "2022-08-17T21:04:46Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218489225/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-17T21:04:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23489424087",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4622",
                "id": 1302633000,
                "node_id": "I_kwDOCNXKfM5NpJoo",
                "number": 4622,
                "title": "[Bug?]: `yarn workspaces list` shows folder names, not workspace names",
                "user": {
                    "login": "jbzcooper",
                    "id": 5839966,
                    "node_id": "MDQ6VXNlcjU4Mzk5NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5839966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jbzcooper",
                    "html_url": "https://github.com/jbzcooper",
                    "followers_url": "https://api.github.com/users/jbzcooper/followers",
                    "following_url": "https://api.github.com/users/jbzcooper/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jbzcooper/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jbzcooper/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jbzcooper/subscriptions",
                    "organizations_url": "https://api.github.com/users/jbzcooper/orgs",
                    "repos_url": "https://api.github.com/users/jbzcooper/repos",
                    "events_url": "https://api.github.com/users/jbzcooper/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jbzcooper/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-12T21:18:45Z",
                "updated_at": "2022-08-17T17:09:59Z",
                "closed_at": "2022-08-17T17:09:59Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nGiven a yarn workspace setup where the package names are different from the folder's they are in\r\nWhen a user enters the `yarn workspaces list` command\r\nThen we expect the workspace names to be returned.\r\n\r\nActual result: the folder names are returned.\n\n### To reproduce\n\n1. Create a new yarn project following these instructions https://classic.yarnpkg.com/lang/en/docs/workspaces/\r\n2. In the `workspace-a` folder, modify the `name` property of the package.json file to: \"a-workspace\"\r\n3. At the command prompt enter: `yarn workspaces list`\r\n\r\nExpected result:\r\na-workspace\r\nworkspace-b\r\n\r\nActual result:\r\nworkspace-a\r\nworkspace b\n\n### Environment\n\n```shell\nSystem:\r\n1. Zorin OS 16 (5.13.0-52-generic 20.04.1-Ubuntu)\r\n2. Windows 10.0.19044\r\nBinaries:\r\nmachine: /home/xxx/.nvm/versions/node/v16.13.0/bin/yarn version 1.22.15\r\nproject: <proj folder>/.yarn/yarn-3.2.1.cjs\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-17T17:09:59Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23410681260",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4622",
                "id": 1302633000,
                "node_id": "I_kwDOCNXKfM5NpJoo",
                "number": 4622,
                "title": "[Bug?]: `yarn workspaces list` shows folder names, not workspace names",
                "user": {
                    "login": "jbzcooper",
                    "id": 5839966,
                    "node_id": "MDQ6VXNlcjU4Mzk5NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5839966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jbzcooper",
                    "html_url": "https://github.com/jbzcooper",
                    "followers_url": "https://api.github.com/users/jbzcooper/followers",
                    "following_url": "https://api.github.com/users/jbzcooper/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jbzcooper/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jbzcooper/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jbzcooper/subscriptions",
                    "organizations_url": "https://api.github.com/users/jbzcooper/orgs",
                    "repos_url": "https://api.github.com/users/jbzcooper/repos",
                    "events_url": "https://api.github.com/users/jbzcooper/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jbzcooper/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-12T21:18:45Z",
                "updated_at": "2022-08-12T17:09:25Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nGiven a yarn workspace setup where the package names are different from the folder's they are in\r\nWhen a user enters the `yarn workspaces list` command\r\nThen we expect the workspace names to be returned.\r\n\r\nActual result: the folder names are returned.\n\n### To reproduce\n\n1. Create a new yarn project following these instructions https://classic.yarnpkg.com/lang/en/docs/workspaces/\r\n2. In the `workspace-a` folder, modify the `name` property of the package.json file to: \"a-workspace\"\r\n3. At the command prompt enter: `yarn workspaces list`\r\n\r\nExpected result:\r\na-workspace\r\nworkspace-b\r\n\r\nActual result:\r\nworkspace-a\r\nworkspace b\n\n### Environment\n\n```shell\nSystem:\r\n1. Zorin OS 16 (5.13.0-52-generic 20.04.1-Ubuntu)\r\n2. Windows 10.0.19044\r\nBinaries:\r\nmachine: /home/xxx/.nvm/versions/node/v16.13.0/bin/yarn version 1.22.15\r\nproject: <proj folder>/.yarn/yarn-3.2.1.cjs\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1213335261",
                "html_url": "https://github.com/yarnpkg/berry/issues/4622#issuecomment-1213335261",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622",
                "id": 1213335261,
                "node_id": "IC_kwDOCNXKfM5IUgbd",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-12T17:09:25Z",
                "updated_at": "2022-08-12T17:09:25Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1213335261/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-12T17:09:25Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23409658431",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4613",
                "id": 1299141818,
                "node_id": "I_kwDOCNXKfM5Nb1S6",
                "number": 4613,
                "title": "[Bug?]: .pnp.cjs priority issue",
                "user": {
                    "login": "qkrdmstlr3",
                    "id": 26402298,
                    "node_id": "MDQ6VXNlcjI2NDAyMjk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/26402298?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/qkrdmstlr3",
                    "html_url": "https://github.com/qkrdmstlr3",
                    "followers_url": "https://api.github.com/users/qkrdmstlr3/followers",
                    "following_url": "https://api.github.com/users/qkrdmstlr3/following{/other_user}",
                    "gists_url": "https://api.github.com/users/qkrdmstlr3/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/qkrdmstlr3/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/qkrdmstlr3/subscriptions",
                    "organizations_url": "https://api.github.com/users/qkrdmstlr3/orgs",
                    "repos_url": "https://api.github.com/users/qkrdmstlr3/repos",
                    "events_url": "https://api.github.com/users/qkrdmstlr3/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/qkrdmstlr3/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-08T15:07:00Z",
                "updated_at": "2022-08-12T16:05:05Z",
                "closed_at": "2022-08-12T16:05:05Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nHello. this is my first issue to opensource!\r\nThis is the folder structure that reproduces the problem situation.\r\n```\r\nhome\r\n\u3134 .yarn\r\n\u3134 folder_1\r\n    \u3134 .yarn\r\n    \u3134 folder_2\r\n        \u3134 index.ts\r\n        \u3134 package.json\r\n    \u3134 .pnp.cjs\r\n    \u3134 .pnp.loader.mjs\r\n    \u3134 .yarnrc.yml\r\n    \u3134 packagejson\r\n\u3134 .pnp.cjs\r\n```\r\nThe `folder_1` is managed as a monorepo and zero install using `pnp`.\r\nI ran the `yarn build` command in folder 2 (index.ts called installed library with `yarn`).\r\nThen following error was occured(home directory name is shell).\r\n<img width=\"472\" alt=\"\u1109\u1173\u110f\u1173\u1105\u1175\u11ab\u1109\u1163\u11ba 2022-07-08 \u110b\u1169\u1112\u116e 11 43 24\" src=\"https://user-images.githubusercontent.com/26402298/178015060-ef3615c1-ab46-48d2-86c0-39cc9377a092.png\">\r\nI didn't know what the error was at first.\r\nBut later I realized that `home/.pnp.cjs` was called and not `home/folder_1/.pnp.cjs`.\r\nBecause library which is used in index.ts is installed in `home/folder_1/.yarn/.cache`, .pnp.cjs couldn't find zip file in `home/.yarn/.cache`\r\nIt seems to run `.pnp.cjs`, which is located at the top, going back up from where I ran `yarn build`.\r\nI think that unconditionally executing the .pnp.cjs call above the parent can be a problem, what do you think?\r\n**If there is no problem, I think the error message should be more detailed.**\r\nThanks for listening to my opinion! Have a good day!\n\n### To reproduce\n\nProject is monorepo\r\nThere is .pnp.cjs outside of monorepo\r\nInstall the library with zero install from the monorepo and run it with the `yarn command`.\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 11.2.3\r\n  CPU: 2.3 GHz 8core Intel Core i9\r\nBinaries:\r\n  Yarn: 3.2.1\r\n  Node: 18.4.0\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-12T16:05:06Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23389104223",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4548",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4548",
                "id": 1271353715,
                "node_id": "I_kwDOCNXKfM5Lx1Fz",
                "number": 4548,
                "title": "[Bug?]: `yarn version` fails on CI (GitHub Actions)",
                "user": {
                    "login": "marcofugaro",
                    "id": 7217420,
                    "node_id": "MDQ6VXNlcjcyMTc0MjA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7217420?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/marcofugaro",
                    "html_url": "https://github.com/marcofugaro",
                    "followers_url": "https://api.github.com/users/marcofugaro/followers",
                    "following_url": "https://api.github.com/users/marcofugaro/following{/other_user}",
                    "gists_url": "https://api.github.com/users/marcofugaro/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/marcofugaro/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/marcofugaro/subscriptions",
                    "organizations_url": "https://api.github.com/users/marcofugaro/orgs",
                    "repos_url": "https://api.github.com/users/marcofugaro/repos",
                    "events_url": "https://api.github.com/users/marcofugaro/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/marcofugaro/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-06-14T20:52:08Z",
                "updated_at": "2022-08-11T16:04:45Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am trying to use the [yarn version](https://yarnpkg.com/cli/version) command on GitHub Actions.\r\n\r\nHowever it does not seem to work, this is the error:\r\n\r\n<img width=\"684\" alt=\"image\" src=\"https://user-images.githubusercontent.com/7217420/173685193-c9a54a0f-576b-4c08-a0e7-a2a6db16b1f8.png\">\r\n\r\n```\r\nNo ancestor could be found between any of HEAD and master, origin/master, upstream/master, main, origin/main, upstream/main\r\n```\r\n\r\nI am using the standard `actions/checkout@v2` to checkout the repo on GitHub Actions.\r\nThe branch where I trigger the action is the `dev` branch. So a custom one. Why `yarn version` only needs master/main branch?\n\n### To reproduce\n\n```yaml\r\non:\r\n  push:\r\n\r\njobs:\r\n  update-version:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - name: Check out repo\r\n        uses: actions/checkout@v2\r\n\r\n      - name: Set the version of package.json\r\n        run: yarn version 2.0.0\r\n```\n\n### Environment\n\n```shell\nGithub Actions\n```\n\n\n### Additional context\n\nI am using this to make a bot that auto-updates the package.json version wired to our internal semantic release system.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1212189797",
                "html_url": "https://github.com/yarnpkg/berry/issues/4548#issuecomment-1212189797",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548",
                "id": 1212189797,
                "node_id": "IC_kwDOCNXKfM5IQIxl",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-11T16:04:45Z",
                "updated_at": "2022-08-11T16:04:45Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1212189797/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-11T16:04:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23386373629",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4611",
                "id": 1297013896,
                "node_id": "I_kwDOCNXKfM5NTtyI",
                "number": 4611,
                "title": "[Bug]: yarn workspaces focus doesn't work with pnpm linker ",
                "user": {
                    "login": "entropitor",
                    "id": 896093,
                    "node_id": "MDQ6VXNlcjg5NjA5Mw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/896093?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/entropitor",
                    "html_url": "https://github.com/entropitor",
                    "followers_url": "https://api.github.com/users/entropitor/followers",
                    "following_url": "https://api.github.com/users/entropitor/following{/other_user}",
                    "gists_url": "https://api.github.com/users/entropitor/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/entropitor/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/entropitor/subscriptions",
                    "organizations_url": "https://api.github.com/users/entropitor/orgs",
                    "repos_url": "https://api.github.com/users/entropitor/repos",
                    "events_url": "https://api.github.com/users/entropitor/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/entropitor/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-07-07T08:21:50Z",
                "updated_at": "2022-08-11T14:04:34Z",
                "closed_at": "2022-08-11T14:04:34Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen you install using `yarn workspaces focus` and `pnpm` as nodeLinker, the packages you focussed are not in `node_modules` in the root. \n\n### To reproduce\n\nSet-up a mono-repo and install using `yarn workspaces focus` and inspect `node_modules` at the root, it's empty.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Alpine Linux\r\n    CPU: (5) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 12.22.0 - /tmp/xfs-ade9017b/node\r\n    Yarn: 3.2.1 - /tmp/xfs-ade9017b/yarn\r\n    npm: 6.14.11 - /usr/local/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-11T14:04:35Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23355583970",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4607",
                "id": 1295234810,
                "node_id": "I_kwDOCNXKfM5NM7b6",
                "number": 4607,
                "title": "[Bug?]: Adding devDependencies cause other dependencies to be duplicated in PnP mode",
                "user": {
                    "login": "smeng9",
                    "id": 38666763,
                    "node_id": "MDQ6VXNlcjM4NjY2NzYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/38666763?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/smeng9",
                    "html_url": "https://github.com/smeng9",
                    "followers_url": "https://api.github.com/users/smeng9/followers",
                    "following_url": "https://api.github.com/users/smeng9/following{/other_user}",
                    "gists_url": "https://api.github.com/users/smeng9/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/smeng9/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/smeng9/subscriptions",
                    "organizations_url": "https://api.github.com/users/smeng9/orgs",
                    "repos_url": "https://api.github.com/users/smeng9/repos",
                    "events_url": "https://api.github.com/users/smeng9/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/smeng9/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-06T06:18:32Z",
                "updated_at": "2022-08-10T07:04:42Z",
                "closed_at": "2022-08-10T07:04:42Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen adding @babel/core as devDependencies (I have some other scripts depend on this) to the repo here https://github.com/smeng9/vite-dup-package/tree/no-warning , it causes @emotion/react to be duplicated package and produce warnings https://github.com/smeng9/vite-dup-package/tree/main .\r\n\r\n![duplicate](https://user-images.githubusercontent.com/38666763/177479152-6c5ea998-69a2-4307-8deb-7957994eaacd.PNG)\r\n\r\nThe yarn.lock file does not have any duplicate package, but pnp.cjs file has duplicate package, which should not happen. The issue only happens in PnP mode, non-pnp mode using nodeLinker: node-modules does not have the issue.\r\n\r\n### To reproduce\r\n\r\nTo reproduce, clone https://github.com/smeng9/vite-dup-package and checkout branch `no-warning`\r\n\r\nPerform `$ yarn` to install of dependencies using PnP mode. Check generated yarn.lock file and there should be no duplicate @emotion/react packages as they all resolve to same version. Check generated pnp.cjs file, the virtual dependencies for @emotion/react all have the same hash. (you can see no warnings when starting project with `$ yarn dev` then open browser console)\r\n\r\nThen try to install `$ yarn add -D @babel/core` and check generated yarn.lock file and there should be no duplicate @emotion/react package. Check generated pnp.cjs file, the virtual dependencies for @emotion/react have different hashes. Similar as https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L589 and https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L613 . There will be warnings as shown in above image when `$ yarn dev` and open browser console\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Xeon(R) CPU E3-1240 v3 @ 3.40GHz\r\n  Binaries:\r\n    Node: 18.3.0 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\node.CMD\r\n    Yarn: 3.2.1 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\yarn.CMD\r\n    npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-10T07:04:42Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23328877520",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4602",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4602",
                "id": 1293668754,
                "node_id": "I_kwDOCNXKfM5NG9GS",
                "number": 4602,
                "title": "[Bug?]: 3rd Party Packages Fail to Augment Other 3rd Party Typescript Packages When Using Workspaces",
                "user": {
                    "login": "Alex-Yakubovsky",
                    "id": 4634869,
                    "node_id": "MDQ6VXNlcjQ2MzQ4Njk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4634869?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Alex-Yakubovsky",
                    "html_url": "https://github.com/Alex-Yakubovsky",
                    "followers_url": "https://api.github.com/users/Alex-Yakubovsky/followers",
                    "following_url": "https://api.github.com/users/Alex-Yakubovsky/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Alex-Yakubovsky/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Alex-Yakubovsky/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Alex-Yakubovsky/subscriptions",
                    "organizations_url": "https://api.github.com/users/Alex-Yakubovsky/orgs",
                    "repos_url": "https://api.github.com/users/Alex-Yakubovsky/repos",
                    "events_url": "https://api.github.com/users/Alex-Yakubovsky/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Alex-Yakubovsky/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-05T01:04:12Z",
                "updated_at": "2022-08-09T01:37:50Z",
                "closed_at": "2022-08-09T01:37:50Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nTypescript allows modules to [augment](https://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation) other Typescript modules. This works as expected when using Berry v3 (with PnP) without workspaces, but interfaces are not merged when using workspaces.\n\n### To reproduce\n\nhttps://yarnpkg.com/playground is giving me a 502 so I'm including a link to a minimal repo instead (hope that's okay): https://github.com/Alex-Yakubovsky/yarn-bug-repo\r\n\r\nInside the repo there are two examples; `happy-path` and `bad-path`. They contain the exact same code, but `bad-path` uses a workspace and `happy-path` does not. In both examples, I use `fastify` and `@fastify/static` as the only two dependencies (no knowledge of `fastify` is needed).  `@fastify/static` augments `fastify`'s `FastifyReply` here: https://github.com/fastify/fastify-static/blob/master/index.d.ts#L8-L17. The expectation is that a fastify instance should now have a `sendFile` method that typescript can pick up on.\r\n\r\nIn `happy-path`, typescript picks up of the `sendFile` method. You can verify by running:\r\n\r\n```bash\r\ncd happy-path\r\nyarn install\r\nyarn tsc --noEmit\r\n```\r\n\r\nIn the `bad-path`, typescript does not pick up on the `sendFile` method. You can verify by running:\r\n\r\n```bash\r\ncd bad-path\r\nyarn install\r\nyarn workspace app-1 tsc --noEmit\r\n```\r\n\r\nand you'll get:\r\n\r\n```\r\napp.ts:10:15 - error TS2339: Property 'sendFile' does not exist on type 'FastifyReply<http.Server, http.IncomingMessage, http.ServerResponse, RouteGenericInterface, unknown, FastifySchema, FastifyTypeProviderDefault, unknown>'.\r\n\r\n10         reply.sendFile('...')\r\n                 ~~~~~~~~\r\n```\r\n\r\nThe code itself is identical.\r\n\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.2.1\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.14.2 - /private/var/folders/4b/04__k99n7_7g7v7lbmlm8bdm0000gn/T/xfs-b6922feb/node\r\n    Yarn: 3.2.1 - /private/var/folders/4b/04__k99n7_7g7v7lbmlm8bdm0000gn/T/xfs-b6922feb/yarn\r\n    npm: 8.9.0 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-09T01:37:50Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23303048676",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4613",
                "id": 1299141818,
                "node_id": "I_kwDOCNXKfM5Nb1S6",
                "number": 4613,
                "title": "[Bug?]: .pnp.cjs priority issue",
                "user": {
                    "login": "qkrdmstlr3",
                    "id": 26402298,
                    "node_id": "MDQ6VXNlcjI2NDAyMjk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/26402298?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/qkrdmstlr3",
                    "html_url": "https://github.com/qkrdmstlr3",
                    "followers_url": "https://api.github.com/users/qkrdmstlr3/followers",
                    "following_url": "https://api.github.com/users/qkrdmstlr3/following{/other_user}",
                    "gists_url": "https://api.github.com/users/qkrdmstlr3/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/qkrdmstlr3/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/qkrdmstlr3/subscriptions",
                    "organizations_url": "https://api.github.com/users/qkrdmstlr3/orgs",
                    "repos_url": "https://api.github.com/users/qkrdmstlr3/repos",
                    "events_url": "https://api.github.com/users/qkrdmstlr3/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/qkrdmstlr3/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-08T15:07:00Z",
                "updated_at": "2022-08-07T16:04:44Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nHello. this is my first issue to opensource!\r\nThis is the folder structure that reproduces the problem situation.\r\n```\r\nhome\r\n\u3134 .yarn\r\n\u3134 folder_1\r\n    \u3134 .yarn\r\n    \u3134 folder_2\r\n        \u3134 index.ts\r\n        \u3134 package.json\r\n    \u3134 .pnp.cjs\r\n    \u3134 .pnp.loader.mjs\r\n    \u3134 .yarnrc.yml\r\n    \u3134 packagejson\r\n\u3134 .pnp.cjs\r\n```\r\nThe `folder_1` is managed as a monorepo and zero install using `pnp`.\r\nI ran the `yarn build` command in folder 2 (index.ts called installed library with `yarn`).\r\nThen following error was occured(home directory name is shell).\r\n<img width=\"472\" alt=\"\u1109\u1173\u110f\u1173\u1105\u1175\u11ab\u1109\u1163\u11ba 2022-07-08 \u110b\u1169\u1112\u116e 11 43 24\" src=\"https://user-images.githubusercontent.com/26402298/178015060-ef3615c1-ab46-48d2-86c0-39cc9377a092.png\">\r\nI didn't know what the error was at first.\r\nBut later I realized that `home/.pnp.cjs` was called and not `home/folder_1/.pnp.cjs`.\r\nBecause library which is used in index.ts is installed in `home/folder_1/.yarn/.cache`, .pnp.cjs couldn't find zip file in `home/.yarn/.cache`\r\nIt seems to run `.pnp.cjs`, which is located at the top, going back up from where I ran `yarn build`.\r\nI think that unconditionally executing the .pnp.cjs call above the parent can be a problem, what do you think?\r\n**If there is no problem, I think the error message should be more detailed.**\r\nThanks for listening to my opinion! Have a good day!\n\n### To reproduce\n\nProject is monorepo\r\nThere is .pnp.cjs outside of monorepo\r\nInstall the library with zero install from the monorepo and run it with the `yarn command`.\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 11.2.3\r\n  CPU: 2.3 GHz 8core Intel Core i9\r\nBinaries:\r\n  Yarn: 3.2.1\r\n  Node: 18.4.0\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207438224",
                "html_url": "https://github.com/yarnpkg/berry/issues/4613#issuecomment-1207438224",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613",
                "id": 1207438224,
                "node_id": "IC_kwDOCNXKfM5H-AuQ",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-07T16:04:44Z",
                "updated_at": "2022-08-07T16:04:44Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207438224/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-07T16:04:44Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23295546824",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4611",
                "id": 1297013896,
                "node_id": "I_kwDOCNXKfM5NTtyI",
                "number": 4611,
                "title": "[Bug]: yarn workspaces focus doesn't work with pnpm linker ",
                "user": {
                    "login": "entropitor",
                    "id": 896093,
                    "node_id": "MDQ6VXNlcjg5NjA5Mw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/896093?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/entropitor",
                    "html_url": "https://github.com/entropitor",
                    "followers_url": "https://api.github.com/users/entropitor/followers",
                    "following_url": "https://api.github.com/users/entropitor/following{/other_user}",
                    "gists_url": "https://api.github.com/users/entropitor/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/entropitor/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/entropitor/subscriptions",
                    "organizations_url": "https://api.github.com/users/entropitor/orgs",
                    "repos_url": "https://api.github.com/users/entropitor/repos",
                    "events_url": "https://api.github.com/users/entropitor/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/entropitor/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-07-07T08:21:50Z",
                "updated_at": "2022-08-06T14:04:29Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen you install using `yarn workspaces focus` and `pnpm` as nodeLinker, the packages you focussed are not in `node_modules` in the root. \n\n### To reproduce\n\nSet-up a mono-repo and install using `yarn workspaces focus` and inspect `node_modules` at the root, it's empty.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Alpine Linux\r\n    CPU: (5) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 12.22.0 - /tmp/xfs-ade9017b/node\r\n    Yarn: 3.2.1 - /tmp/xfs-ade9017b/yarn\r\n    npm: 6.14.11 - /usr/local/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207220530",
                "html_url": "https://github.com/yarnpkg/berry/issues/4611#issuecomment-1207220530",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611",
                "id": 1207220530,
                "node_id": "IC_kwDOCNXKfM5H9Lky",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-06T14:04:29Z",
                "updated_at": "2022-08-06T14:04:29Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207220530/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-06T14:04:30Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23275832244",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4607",
                "id": 1295234810,
                "node_id": "I_kwDOCNXKfM5NM7b6",
                "number": 4607,
                "title": "[Bug?]: Adding devDependencies cause other dependencies to be duplicated in PnP mode",
                "user": {
                    "login": "smeng9",
                    "id": 38666763,
                    "node_id": "MDQ6VXNlcjM4NjY2NzYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/38666763?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/smeng9",
                    "html_url": "https://github.com/smeng9",
                    "followers_url": "https://api.github.com/users/smeng9/followers",
                    "following_url": "https://api.github.com/users/smeng9/following{/other_user}",
                    "gists_url": "https://api.github.com/users/smeng9/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/smeng9/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/smeng9/subscriptions",
                    "organizations_url": "https://api.github.com/users/smeng9/orgs",
                    "repos_url": "https://api.github.com/users/smeng9/repos",
                    "events_url": "https://api.github.com/users/smeng9/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/smeng9/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-06T06:18:32Z",
                "updated_at": "2022-08-05T07:04:33Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen adding @babel/core as devDependencies (I have some other scripts depend on this) to the repo here https://github.com/smeng9/vite-dup-package/tree/no-warning , it causes @emotion/react to be duplicated package and produce warnings https://github.com/smeng9/vite-dup-package/tree/main .\r\n\r\n![duplicate](https://user-images.githubusercontent.com/38666763/177479152-6c5ea998-69a2-4307-8deb-7957994eaacd.PNG)\r\n\r\nThe yarn.lock file does not have any duplicate package, but pnp.cjs file has duplicate package, which should not happen. The issue only happens in PnP mode, non-pnp mode using nodeLinker: node-modules does not have the issue.\r\n\r\n### To reproduce\r\n\r\nTo reproduce, clone https://github.com/smeng9/vite-dup-package and checkout branch `no-warning`\r\n\r\nPerform `$ yarn` to install of dependencies using PnP mode. Check generated yarn.lock file and there should be no duplicate @emotion/react packages as they all resolve to same version. Check generated pnp.cjs file, the virtual dependencies for @emotion/react all have the same hash. (you can see no warnings when starting project with `$ yarn dev` then open browser console)\r\n\r\nThen try to install `$ yarn add -D @babel/core` and check generated yarn.lock file and there should be no duplicate @emotion/react package. Check generated pnp.cjs file, the virtual dependencies for @emotion/react have different hashes. Similar as https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L589 and https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L613 . There will be warnings as shown in above image when `$ yarn dev` and open browser console\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Xeon(R) CPU E3-1240 v3 @ 3.40GHz\r\n  Binaries:\r\n    Node: 18.3.0 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\node.CMD\r\n    Yarn: 3.2.1 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\yarn.CMD\r\n    npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116066",
                "html_url": "https://github.com/yarnpkg/berry/issues/4607#issuecomment-1206116066",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607",
                "id": 1206116066,
                "node_id": "IC_kwDOCNXKfM5H497i",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-05T07:04:33Z",
                "updated_at": "2022-08-05T07:04:33Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116066/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-05T07:04:34Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23275831611",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4608",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4608",
                "id": 1295255000,
                "node_id": "I_kwDOCNXKfM5NNAXY",
                "number": 4608,
                "title": "[Bug?]: Invalid option name (\"--production=false\")",
                "user": {
                    "login": "dtinth",
                    "id": 193136,
                    "node_id": "MDQ6VXNlcjE5MzEzNg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/193136?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dtinth",
                    "html_url": "https://github.com/dtinth",
                    "followers_url": "https://api.github.com/users/dtinth/followers",
                    "following_url": "https://api.github.com/users/dtinth/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dtinth/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dtinth/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dtinth/subscriptions",
                    "organizations_url": "https://api.github.com/users/dtinth/orgs",
                    "repos_url": "https://api.github.com/users/dtinth/repos",
                    "events_url": "https://api.github.com/users/dtinth/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dtinth/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-06T06:32:20Z",
                "updated_at": "2022-08-05T07:04:31Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nHeroku\u2019s Node.js buildpack is hardcoded to install packages using `yarn install --production=false`\r\n\r\nhttps://github.com/heroku/buildpacks-nodejs/blob/c6537360d8f4241d20118bacd04b0a43aea0bc6f/buildpacks/yarn/lib/build.sh#L82-L88\r\n\r\nIt works with Yarn Classic, but with Yarn Berry it fails.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\n// Heroku hardcodes \"--production=false\" in their buildpack.\r\n// https://github.com/heroku/buildpacks-nodejs/blob/c6537360d8f4241d20118bacd04b0a43aea0bc6f/buildpacks/yarn/lib/build.sh#L82-L88\r\nconst output = await yarn(`install`, `--production=false`);\r\nexpect(output).not.toContain(`Invalid option name`);\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.3\r\n    CPU: (8) x64 Apple M1\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/qk/bxhj0cs55vv8n4ghq8xh0k1h0000gn/T/xfs-189882af/node\r\n    Yarn: 3.2.1 - /private/var/folders/qk/bxhj0cs55vv8n4ghq8xh0k1h0000gn/T/xfs-189882af/yarn\r\n    npm: 8.11.0 - ~/.volta/tools/image/node/16.15.1/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThere is an issue open in Heroku\u2019s org since April:\r\n\r\n- https://github.com/heroku/buildpacks-nodejs/issues/246\r\n\r\nAlmost 3 months elapsed and no fix from Heroku side so far. Therefore I am filing this issue on Yarn side, hope that either party will be willing to work together to become more interoperable.\r\n\r\nThank you!",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116023",
                "html_url": "https://github.com/yarnpkg/berry/issues/4608#issuecomment-1206116023",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608",
                "id": 1206116023,
                "node_id": "IC_kwDOCNXKfM5H4963",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-05T07:04:31Z",
                "updated_at": "2022-08-05T07:04:31Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116023/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-05T07:04:31Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "25042628962",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4926",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4926",
                "id": 1393142538,
                "node_id": "I_kwDOCNXKfM5TCasK",
                "number": 4926,
                "title": "[Bug?]: `yarn workspace version apply` removes deferred versions for other packages",
                "user": {
                    "login": "NikkiDelRosso",
                    "id": 563879,
                    "node_id": "MDQ6VXNlcjU2Mzg3OQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/563879?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/NikkiDelRosso",
                    "html_url": "https://github.com/NikkiDelRosso",
                    "followers_url": "https://api.github.com/users/NikkiDelRosso/followers",
                    "following_url": "https://api.github.com/users/NikkiDelRosso/following{/other_user}",
                    "gists_url": "https://api.github.com/users/NikkiDelRosso/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/NikkiDelRosso/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/NikkiDelRosso/subscriptions",
                    "organizations_url": "https://api.github.com/users/NikkiDelRosso/orgs",
                    "repos_url": "https://api.github.com/users/NikkiDelRosso/repos",
                    "events_url": "https://api.github.com/users/NikkiDelRosso/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/NikkiDelRosso/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-10-01T00:22:01Z",
                "updated_at": "2022-11-04T23:04:57Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI have a workspace that has two packages which do not share a release cycle.\r\n\r\nI'm using deferred versioning on the packages with `yarn workspace <workspaceName> version <strategy> --deferred`, which creates `.yarn/versions/<hash>.yml` files defining the strategy just for my target workspace, as I would expect.\r\n\r\nWhen I run `yarn workspace <workspaceName> version apply`, the `package.json` file for the specified workspace is updated. As expected, the `package.json` for the other workspaces has not changed. However, the `.yarn/versions` files have removed the other deferred changes.\r\n\r\n### To reproduce\r\n\r\nI created a minimal repo using yarn berry with a workspace: https://github.com/NikkiDelRosso/yarn-workspace-version-deferred-issue\r\n\r\n1. Clone the repo above\r\n2. Run `yarn workspace package-b version apply`\r\n3. See that the `packages/package-b/package.json` version number has been bumped\r\n4. See that the `packages/package-a/package.json` version number has not changed (this is expected)\r\n5. See that the `package-a: patch` line in in `.yarn/versions/27f417a6.yml` has been removed\r\n6. Run `yarn workspace package-a version apply`\r\n7. Receive a message indicating that there is no version bump available for the workspace (even though it should have had been bumped for a patch)\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/kc/rkdxxgzx4q1b4cq6mpm343100000gn/T/xfs-80d59fb3/node\r\n    Yarn: 3.2.3 - /private/var/folders/kc/rkdxxgzx4q1b4cq6mpm343100000gn/T/xfs-80d59fb3/yarn\r\n    npm: 8.11.0 - ~/.nvm/versions/node/v16.15.1/bin/npm\r\n```\r\n\r\n\r\n<!-- ### Additional context\r\n\r\n\r\n<details><summary>Details: git diff showing relevant changed files after running `yarn workspace package-b version apply` on my example repo (click to expand)</summary>\r\n\r\n```diff\r\ndiff --git a/.yarn/versions/27f417a6.yml b/.yarn/versions/27f417a6.yml\r\nindex d565274..e69de29 100644\r\n--- a/.yarn/versions/27f417a6.yml\r\n+++ b/.yarn/versions/27f417a6.yml\r\n@@ -1,2 +0,0 @@\r\n-releases:\r\n-  package-a: patch\r\ndiff --git a/.yarn/versions/9fb57f43.yml b/.yarn/versions/9fb57f43.yml\r\nindex 8fb3158..e69de29 100644\r\n--- a/.yarn/versions/9fb57f43.yml\r\n+++ b/.yarn/versions/9fb57f43.yml\r\n@@ -1,2 +0,0 @@\r\n-releases:\r\n-  package-b: minor\r\ndiff --git a/package.json b/package.json\r\nindex 9a3d853..9a110a4 100644\r\n--- a/package.json\r\n+++ b/package.json\r\n@@ -1,5 +1,7 @@\r\n {\r\n   \"name\": \"yarn-workspace-version-deferred-issue\",\r\n   \"packageManager\": \"yarn@3.2.3\",\r\n-  \"workspaces\": [\"packages/*\"]\r\n+  \"workspaces\": [\r\n+    \"packages/*\"\r\n+  ]\r\n }\r\ndiff --git a/packages/package-a/package.json b/packages/package-a/package.json\r\nindex 162cd37..bb84166 100644\r\n--- a/packages/package-a/package.json\r\n+++ b/packages/package-a/package.json\r\n@@ -2,4 +2,3 @@\r\n   \"name\": \"package-a\",\r\n   \"version\": \"1.0.0\"\r\n }\r\n-\r\n```\r\n</details>-->",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1304325598",
                "html_url": "https://github.com/yarnpkg/berry/issues/4926#issuecomment-1304325598",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926",
                "id": 1304325598,
                "node_id": "IC_kwDOCNXKfM5Nvm3e",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-04T23:04:57Z",
                "updated_at": "2022-11-04T23:04:57Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1304325598/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-04T23:04:57Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "25018697265",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/5022",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/5022",
                "id": 1434416469,
                "node_id": "I_kwDOCNXKfM5Vf3VV",
                "number": 5022,
                "title": "[Bug?]: `yarn bin` reports wrong bin from `installConfig.hoistingLimits` workspace (`nodeLinker: node-modules`)",
                "user": {
                    "login": "bradleyayers",
                    "id": 105820,
                    "node_id": "MDQ6VXNlcjEwNTgyMA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/105820?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bradleyayers",
                    "html_url": "https://github.com/bradleyayers",
                    "followers_url": "https://api.github.com/users/bradleyayers/followers",
                    "following_url": "https://api.github.com/users/bradleyayers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bradleyayers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bradleyayers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bradleyayers/subscriptions",
                    "organizations_url": "https://api.github.com/users/bradleyayers/orgs",
                    "repos_url": "https://api.github.com/users/bradleyayers/repos",
                    "events_url": "https://api.github.com/users/bradleyayers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bradleyayers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-11-03T10:19:02Z",
                "updated_at": "2022-11-03T21:24:45Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI have a few workspaces, they're depending on `@graphql-codegen/cli` which contributes a `graphql-codegen` bin script.\r\n\r\nOne of the workspaces `zapier` has `installConfig.hoistingLimits` set to `workspaces`, the other workspaces don't have this set.\r\n\r\nWhen I run `yarn bin graphql-codegen` in one of the other workspaces it gives a path under the `zapier` workspace.\r\n\r\nInstead I would expect it to give the path **not** from that workspace.\r\n\r\nThe problem this causes is that different copies of other packages end up getting imported within the same node process (e.g. `graphql` is particularly fragile for this).\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nconst fs = require('fs').promises;\r\n\r\nawait fs.writeFile('.yarnrc.yml', 'nodeLinker: node-modules');\r\n\r\nawait packageJsonAndInstall({\r\n  \"name\": \"root\",\r\n  \"workspaces\": [\r\n    \"packages/*\"\r\n  ],\r\n  \"dependencies\": {\r\n    \"rimraf\": \"^2.0.0\"\r\n  },\r\n});\r\n\r\nawait fs.mkdir('packages/nohoist', { recursive: true });\r\nawait fs.writeFile(\"packages/nohoist/package.json\", `{\r\n  \"dependencies\": {\r\n    \"rimraf\": \"^2.0.0\"\r\n  },\r\n  \"name\": \"nohoist\",\r\n  \"installConfig\": {\r\n    \"hoistingLimits\": \"workspaces\"\r\n  }\r\n}`);\r\n\r\nawait yarn(`install`);\r\n\r\nconst rootRimrafPath = await yarn(`bin`, `rimraf`)\r\nconst nohoistRimrafPath = await yarn(`workspace`, `nohoist`, `bin`, `rimraf`);\r\n\r\nexpect(rootRimrafPath).not.toEqual(nohoistRimrafPath);\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.6\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/jq/3x3ddtjx3rb9nwy79zxfwnj00000gn/T/xfs-6ab2aa01/node\r\n    Yarn: 3.2.4 - /private/var/folders/jq/3x3ddtjx3rb9nwy79zxfwnj00000gn/T/xfs-6ab2aa01/yarn\r\n    npm: 8.3.1 - ~/.n/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302680868",
                "html_url": "https://github.com/yarnpkg/berry/issues/5022#issuecomment-1302680868",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022",
                "id": 1302680868,
                "node_id": "IC_kwDOCNXKfM5NpVUk",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-03T21:24:44Z",
                "updated_at": "2022-11-03T21:24:44Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).not.toEqual(expected) // deep equality\n\nExpected: not \"/tmp/tmp-17b66RdRpKcsgC/packages/nohoist/node_modules/rimraf/bin.js\n\"\n\n    at module.exports (evalmachine.<anonymous>:32:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302680868/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-03T21:24:45Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "25013834573",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4933",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4933",
                "id": 1396462869,
                "node_id": "I_kwDOCNXKfM5TPFUV",
                "number": 4933,
                "title": "[Feature] --visual-verbose",
                "user": {
                    "login": "pablitomilenio",
                    "id": 34131550,
                    "node_id": "MDQ6VXNlcjM0MTMxNTUw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/34131550?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/pablitomilenio",
                    "html_url": "https://github.com/pablitomilenio",
                    "followers_url": "https://api.github.com/users/pablitomilenio/followers",
                    "following_url": "https://api.github.com/users/pablitomilenio/following{/other_user}",
                    "gists_url": "https://api.github.com/users/pablitomilenio/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/pablitomilenio/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/pablitomilenio/subscriptions",
                    "organizations_url": "https://api.github.com/users/pablitomilenio/orgs",
                    "repos_url": "https://api.github.com/users/pablitomilenio/repos",
                    "events_url": "https://api.github.com/users/pablitomilenio/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/pablitomilenio/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349891,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODkx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/enhancement",
                        "name": "enhancement",
                        "color": "92a4e5",
                        "default": true,
                        "description": "New feature or request"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-10-04T15:22:07Z",
                "updated_at": "2022-11-03T17:08:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "Hello !\r\n\r\nInstead of the --verbose flag outputting a lot of text that breaks around in the terminal and even if it would be structured I wouldn't understand\r\n\r\nI WOULD LIKE: more verbose progress bars\r\n\r\nIdeally like a arc/circle diagram that is rather big and that fills up clockwise. This should be optimized for very slow connections (remember that large part of the world does have no or slow internet)\r\n\r\nSo this circle should move a lot and fill up with the dumbest tasks.\r\n\r\nOne heuristic of implementing this could be that for every line that would be displayed in verbose mode in the terminal, the circle arc should increase by 5%\r\n\r\nThere should be 2 things\r\n\r\nA global progress indicator as a bar\r\nA subtask-progress indicator as a circle or arc\r\n\r\nThis way the user would see the dumbest slowest progress and everybody would understand\r\n\r\nThat would truly be in improvement\r\n\r\nBecause now it is either\r\n\r\nWaiting 10 minutes in the darkness\r\nOR: having the screen full of garbage potentially slowing everything down\r\n\r\nThanks",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302418532",
                "html_url": "https://github.com/yarnpkg/berry/issues/4933#issuecomment-1302418532",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933",
                "id": 1302418532,
                "node_id": "IC_kwDOCNXKfM5NoVRk",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-03T17:08:04Z",
                "updated_at": "2022-11-03T17:08:04Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nIt seems like this issue as been marked as probably resolved, or missing important information blocking its progression. As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302418532/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-03T17:08:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24976266322",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-11-02T08:06:11Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\r\n\r\n### To reproduce\r\n\r\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\n# With Corepack disabled, we need to get Yarn from somewhere else\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\r\n\r\nwith the following package.json:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n\r\nAs you can see, the version used for `yarn pack` is different:\r\n- with Corepack _enabled_, it's using v1.22.15\r\n- with Corepack _disabled_, it's using v2+, I think?\r\n\r\nNote that I have a global Yarn install from Homebrew:\r\n```sh\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n```\r\n\r\nThe same happens when Yarn is installed through npm (as per the Dockerfile repro).\r\n\r\nAnother interesting finding: no matter if Corepack is enabled or disabled, the Yarn binary & version stays the same:\r\n```sh\r\n# From my home directory\r\n# Results are the same from within my project directory, except the version is 3.2.3 there\r\n$ corepack disable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n$ corepack enable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1299756163",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1299756163",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1299756163,
                "node_id": "IC_kwDOCNXKfM5NeLSD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-02T08:06:11Z",
                "updated_at": "2022-11-02T08:06:11Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1299756163/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-02T08:06:11Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24927848479",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4885",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4885",
                "id": 1382392636,
                "node_id": "I_kwDOCNXKfM5SZaM8",
                "number": 4885,
                "title": "[Bug?]:  `--since` flag produces different results for `yarn workspaces foreach` and `yarn workspaces list`",
                "user": {
                    "login": "alexedwardjones",
                    "id": 5364820,
                    "node_id": "MDQ6VXNlcjUzNjQ4MjA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5364820?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alexedwardjones",
                    "html_url": "https://github.com/alexedwardjones",
                    "followers_url": "https://api.github.com/users/alexedwardjones/followers",
                    "following_url": "https://api.github.com/users/alexedwardjones/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alexedwardjones/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alexedwardjones/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alexedwardjones/subscriptions",
                    "organizations_url": "https://api.github.com/users/alexedwardjones/orgs",
                    "repos_url": "https://api.github.com/users/alexedwardjones/repos",
                    "events_url": "https://api.github.com/users/alexedwardjones/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alexedwardjones/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-22T12:45:24Z",
                "updated_at": "2022-10-31T09:06:31Z",
                "closed_at": "2022-10-31T09:06:31Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Describe the bug\r\n\r\n**Summary**\r\n\r\nAdding the `--since` flag to `yarn workspaces foreach` is running all workspaces not just the subset that have changed or their dependencies..\r\n\r\n### To reproduce\r\n\r\n**Example**\r\nI have a project that looks like the following when I run `yarn workspaces list --json`.\r\n```\r\n{\"location\":\".\",\"name\":\"project\"}\r\n{\"location\":\"packages/db-utils\",\"name\":\"db-utils\"}\r\n{\"location\":\"packages/api-utils\",\"name\":\"api-utils\"}\r\n{\"location\":\"apps/service-one\",\"name\":\"service-one\"}\r\n{\"location\":\"apps/service-two,\"name\":\"service-two\"}\r\n{\"location\":\"apps/service-three,\"name\":\"service-three\"}\r\n{\"location\":\"apps/service-four,\"name\":\"service-four\"}\r\n```\r\n\r\n\u2705 If I change a file in `db-utils` and run `yarn workspaces list --json --since=origin/main` I get the following which is what I expect...\r\n```\r\n{\"location\":\".\",\"name\":\"project\"}\r\n{\"location\":\"packages/db-utils\",\"name\":\"db-utils\"}\r\n```\r\n\r\n\u2705 If I change a file in `db-utils` and run `yarn workspaces list --json --since=origin/main --recursive` I get the following which is what I expect because `service-one` and `service-two` have `db-utils` as a dependency...\r\n```\r\n{\"location\":\".\",\"name\":\"project\"}\r\n{\"location\":\"packages/db-utils\",\"name\":\"db-utils\"}\r\n{\"location\":\"apps/service-one\",\"name\":\"service-one\"}\r\n{\"location\":\"apps/service-two,\"name\":\"service-two\"}\r\n```\r\n\r\nHowever when I start applying those same arguments to `foreach` every workspace gets run.\r\n- `yarn workspaces foreach --since=origin/main run lint` - Runs all workspaces \u274c \r\n- `yarn workspaces foreach --since=origin/main --recursive run lint` - Runs all workspaces \u274c \r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.16.0 - /private/var/folders/6m/m5yvxnzx6z10cyk51929x0400000gp/T/xfs-934c9136/node\r\n    Yarn: 3.2.3 - /private/var/folders/6m/m5yvxnzx6z10cyk51929x0400000gp/T/xfs-934c9136/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/67237_1663157503102/bin/npm\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-31T09:06:32Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24900239099",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11485404718,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "c69bc8bd1c356261cc04f1f140d1ede88f1b25d7",
            "before": "635257a6ae65aef14b33416502f5e7ca8dd36651",
            "commits": [
                {
                    "sha": "fb8bd4fd9c91d02872ca52b9d6355bdf941a90dd",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.27` |\n| `@yarnpkg/core` | `4.0.0-rc.27` |\n| `@yarnpkg/parsers` | `3.0.0-rc.27` |\n| `@yarnpkg/shell` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.27` |\n| `@yarnpkg/extensions` | `2.0.0-rc.9` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.27` |\n| `@yarnpkg/pnp` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.27` |\n| `@yarnpkg/sdks` | `3.0.0-rc.27` |\n| `@yarnpkg/fslib` | `3.0.0-rc.27` |\n| `@yarnpkg/libui` | `3.0.0-rc.27` |\n| `@yarnpkg/libzip` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.27` |\n| `vscode-zipfs` | `2.6.0-rc.16` |\n| `@yarnpkg/nm` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.27` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.27` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.27` |\n| `@yarnpkg/builder` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.27` |\n| `@yarnpkg/doctor` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.27` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/fb8bd4fd9c91d02872ca52b9d6355bdf941a90dd"
                },
                {
                    "sha": "c69bc8bd1c356261cc04f1f140d1ede88f1b25d7",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/c69bc8bd1c356261cc04f1f140d1ede88f1b25d7"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-28T20:01:38Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24872299428",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908",
                "id": 1387063752,
                "node_id": "I_kwDOCNXKfM5SrOnI",
                "number": 4908,
                "title": "[Bug?]: --cwd does not work with relative paths",
                "user": {
                    "login": "Shayan-To",
                    "id": 12458563,
                    "node_id": "MDQ6VXNlcjEyNDU4NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12458563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shayan-To",
                    "html_url": "https://github.com/Shayan-To",
                    "followers_url": "https://api.github.com/users/Shayan-To/followers",
                    "following_url": "https://api.github.com/users/Shayan-To/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shayan-To/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shayan-To/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shayan-To/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shayan-To/orgs",
                    "repos_url": "https://api.github.com/users/Shayan-To/repos",
                    "events_url": "https://api.github.com/users/Shayan-To/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shayan-To/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-09-27T04:29:58Z",
                "updated_at": "2022-10-27T16:05:14Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen using `--cwd` with a relative path, yarn seems to resolve the relative path twice (or even more times when `.../subdir/subdir` actually is a directory!). So running `yarn --cwd subdir`, it tries to access `.../subdir/subdir` and then it gives an error that the path does not exist.\n\n### To reproduce\n\n```js repro\r\nconst { mkdir } = require(\"fs/promises\");\r\n\r\nawait mkdir(\"subdir\");\r\nawait expect(yarn(\"--cwd\", \"subdir\", \"init\")).resolves.not.toThrow();\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-3537U CPU @ 2.00GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-ebd4110f/node\r\n    Yarn: 3.2.0 - /tmp/xfs-ebd4110f/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1293754774",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908#issuecomment-1293754774",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "id": 1293754774,
                "node_id": "IC_kwDOCNXKfM5NHSGW",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-27T16:05:14Z",
                "updated_at": "2022-10-27T16:05:14Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1293754774/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-27T16:05:14Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24866170884",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4884",
                "id": 1382325860,
                "node_id": "I_kwDOCNXKfM5SZJ5k",
                "number": 4884,
                "title": "[Bug?]: yarn create doesn't work with httpsCaFilePath",
                "user": {
                    "login": "oceandrama",
                    "id": 23439079,
                    "node_id": "MDQ6VXNlcjIzNDM5MDc5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/23439079?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/oceandrama",
                    "html_url": "https://github.com/oceandrama",
                    "followers_url": "https://api.github.com/users/oceandrama/followers",
                    "following_url": "https://api.github.com/users/oceandrama/following{/other_user}",
                    "gists_url": "https://api.github.com/users/oceandrama/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/oceandrama/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/oceandrama/subscriptions",
                    "organizations_url": "https://api.github.com/users/oceandrama/orgs",
                    "repos_url": "https://api.github.com/users/oceandrama/repos",
                    "events_url": "https://api.github.com/users/oceandrama/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/oceandrama/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-22T11:56:25Z",
                "updated_at": "2022-10-27T12:08:19Z",
                "closed_at": "2022-10-27T12:08:19Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nIf you have `httpsCaFilePath` in your config, `yarn create` trying to resolve relative path to cert in temp folder:\r\n\r\n.yarnrc.yml:\r\n```\r\nhttpsCaFilePath: ./some-cert.crt\r\nnodeLinker: node-modules\r\nnpmRegistryServer: \"https://custom-registry.com\"\r\nyarnPath: .yarn/releases/yarn-4.0.0-rc.20.cjs\r\n```\r\n\r\n`yarn create playwright`:\r\n\r\n\u27a4 YN0027: create-playwright@unknown can't be resolved to a satisfying range\r\n\u27a4 YN0001: Error: ENOENT: no such file or directory, open 'C:\\Users\\username\\AppData\\Local\\Temp\\xfs-cee34bdc\\dlx-18200\\some-cert.crt'\n\n### To reproduce\n\nyarn config set httpsCaFilePath ./some-cert.crt\r\nyarn create playwright\n\n### Environment\n\n```shell\nSystem:\r\n  OS: Windows 10 10.0.19044\r\n  CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Memory: 7.76 GB / 15.40 GB\r\nBinaries:\r\n  Node: 16.16.0 - C:\\Program Files\\nodejs\\node.EXE\r\n  Yarn: 4.0.0-rc.20 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\r\n  npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-27T12:08:20Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24837613106",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4904",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4904",
                "id": 1385165727,
                "node_id": "I_kwDOCNXKfM5Sj_Of",
                "number": 4904,
                "title": "[Bug?]: Module not found: Error: Can't resolve 'x' in 'y' packageExtensions binaries [arm, android win32-x64, darwin, gnu, linux]",
                "user": {
                    "login": "gruckion",
                    "id": 4559650,
                    "node_id": "MDQ6VXNlcjQ1NTk2NTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4559650?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gruckion",
                    "html_url": "https://github.com/gruckion",
                    "followers_url": "https://api.github.com/users/gruckion/followers",
                    "following_url": "https://api.github.com/users/gruckion/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gruckion/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gruckion/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gruckion/subscriptions",
                    "organizations_url": "https://api.github.com/users/gruckion/orgs",
                    "repos_url": "https://api.github.com/users/gruckion/repos",
                    "events_url": "https://api.github.com/users/gruckion/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gruckion/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-09-25T21:08:22Z",
                "updated_at": "2022-10-26T10:04:46Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n[Mongodb](https://www.npmjs.com/package/mongodb) has dependencies that are not listed as peer dependencies. I tried to use `packageExtensions` to get around this but I am now getting dozens more errors from two libraries [Snappy](https://www.npmjs.com/package/snappy) and [@mongodb-js/zstd](https://www.npmjs.com/package/@mongodb-js/zstd).\r\n\r\n```\r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 89:28-70\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-arm-gnueabihf.node' in '/Users/sigex/workdir/backend/lambda/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n```\r\n\r\n```\r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:622-662\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-android-arm64' in '/Users/sigex/workdir/backend/lambda/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n```\r\n\r\nIt looks like it's trying to require all these different binaries for different machines.\r\n\r\nMy `packageExtensions` is below and it's managed to get most of the warnings to shut up.\r\n\r\n```yaml\r\npackageExtensions:\r\n  \"mongodb@*\":\r\n    dependencies:\r\n      bson-ext: \"*\"\r\n      kerberos: \"*\"\r\n      \"@mongodb-js/zstd\": \"*\"\r\n      aws4: \"*\"\r\n      mongodb-core: \"*\"\r\n      bson: \"*\"\r\n      node-gyp: \"*\"\r\n      \"mongodb-client-encryption\": \"*\"\r\n    peerDependenciesMeta:\r\n      \"@mongodb-js/zstd\":\r\n        optional: true\r\n      snappy:\r\n        optional: true\r\n      bson-ext:\r\n        optional: true\r\n      kerberos:\r\n        optional: true\r\n```\r\n\r\n### To reproduce\r\n\r\nI created a repo here, see branch `mongodb-broken-pnp`.\r\n\r\nhttps://github.com/gruckion/yarn-berry-serverless-workspaces/tree/mongodb-broken-pnp\r\n\r\nRun `yarn; yarn package` to reproduce the errors.\r\n\r\n```\r\n\u276f yarn package\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: Packaging lambdas-hello for stage testing (us-east-1)\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: Warning: in ../../.yarn/__virtual__/mongodb-virtual-904dd890e4/0/cache/mongodb-npm-4.10.0-99903c2c4a-4847fe69b6.zip/node_modules/mongodb/lib/utils.js 993:38-93\r\n\u27a4 YN0000:   Critical dependency: the request of a dependency is an expression\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 17:28-65\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.win32-x64-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 19:28-70\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-win32-x64-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 35:28-61\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.darwin-x64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 37:28-66\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-darwin-x64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 47:28-63\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.darwin-arm64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 65:28-64\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-x64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 67:28-69\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-linux-x64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 77:28-66\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-arm64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 79:28-71\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-linux-arm64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 89:28-70\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-arm-gnueabihf.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 91:28-75\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-linux-arm-gnueabihf' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:569-607\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.android-arm64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:622-662\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-android-arm64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:811-852\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.android-arm-eabi.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:867-910\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-android-arm-eabi' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1159-1198\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.win32-x64-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1213-1254\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-win32-x64-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1403-1443\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.win32-ia32-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1458-1500\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-win32-ia32-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1651-1692\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.win32-arm64-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1707-1750\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-win32-arm64-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1997-2032\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.darwin-x64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2047-2084\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-darwin-x64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2231-2268\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.darwin-arm64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2626-2662\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.freebsd-x64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2677-2715\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-freebsd-x64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2900-2939\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-x64-musl.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2954-2995\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-x64-musl' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3131-3169\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-x64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3184-3224\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-x64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3389-3430\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-arm64-musl.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3445-3488\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-arm64-musl' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3626-3666\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-arm64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3681-3723\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-arm64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3876-3920\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-arm-gnueabihf.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3935-3981\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-arm-gnueabihf' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000: Environment: darwin, node 16.13.2, framework 3.22.0 (local), plugin 6.2.2, SDK 4.3.2\r\n\u27a4 YN0000: Docs:        docs.serverless.com\r\n\u27a4 YN0000: Support:     forum.serverless.com\r\n\u27a4 YN0000: Bugs:        github.com/serverless/serverless/issues\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: Error:\r\n\u27a4 YN0000: Webpack compilation failed:\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: in ../../.yarn/unplugged/@mongodb-js-zstd-darwin-arm64-npm-1.0.0-df74982a20/node_modules/@mongodb-js/zstd-darwin-arm64/zstd.darwin-arm64.node 1:0\r\n\u27a4 YN0000:   Module parse failed: Unexpected character '\ufffd' (1:0)\r\n\u27a4 YN0000:   You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\r\n\u27a4 YN0000:   (Source code omitted for this binary file)\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/unplugged/@napi-rs-snappy-darwin-arm64-npm-7.1.2-605592bf69/node_modules/@napi-rs/snappy-darwin-arm64/snappy.darwin-arm64.node 1:0\r\n\u27a4 YN0000:   Module parse failed: Unexpected character '\ufffd' (1:0)\r\n\u27a4 YN0000:   You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\r\n\u27a4 YN0000:   (Source code omitted for this binary file)\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: 1 deprecation found: run 'serverless doctor' for more details\r\n\u27a4 YN0000: Done in 17s 69ms\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 13.0\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 16.13.2 - /private/var/folders/mv/dtw39jks6ml64s3pd1pnv_640000gn/T/xfs-7dfef409/node\r\n    Yarn: 3.2.3 - /private/var/folders/mv/dtw39jks6ml64s3pd1pnv_640000gn/T/xfs-7dfef409/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.2/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nMongodb has created 3 PRs to \"support PnP\", but have written no documentation. But this issue is not specific to them, it is more about how we handle libraries that have missing peer dependencies that happen to be binaries.\r\n\r\nhttps://github.com/mongodb/node-mongodb-native/pulls?q=pnp\r\n\r\nI also posted a comment on this PR as Mongodb and Mongodb'sissue section on Jira and on Snappy's library\r\n\r\nhttps://github.com/mongodb/node-mongodb-native/pull/2606\r\nhttps://jira.mongodb.org/browse/NODE-4659\r\nhttps://github.com/Brooooooklyn/snappy/issues/93\r\n\r\nI am also using `pnp-webpack-plugin`",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291798210",
                "html_url": "https://github.com/yarnpkg/berry/issues/4904#issuecomment-1291798210",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904",
                "id": 1291798210,
                "node_id": "IC_kwDOCNXKfM5M_0bC",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-26T10:04:46Z",
                "updated_at": "2022-10-26T10:04:46Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291798210/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-26T10:04:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24833760960",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4803",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4803",
                "id": 1356029300,
                "node_id": "I_kwDOCNXKfM5Q0110",
                "number": 4803,
                "title": "[Bug?]: Handling of package.json#exports is not working correctly with intermediate wildcard.",
                "user": {
                    "login": "gpickell",
                    "id": 5531747,
                    "node_id": "MDQ6VXNlcjU1MzE3NDc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5531747?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gpickell",
                    "html_url": "https://github.com/gpickell",
                    "followers_url": "https://api.github.com/users/gpickell/followers",
                    "following_url": "https://api.github.com/users/gpickell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gpickell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gpickell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gpickell/subscriptions",
                    "organizations_url": "https://api.github.com/users/gpickell/orgs",
                    "repos_url": "https://api.github.com/users/gpickell/repos",
                    "events_url": "https://api.github.com/users/gpickell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gpickell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1647295654,
                        "node_id": "MDU6TGFiZWwxNjQ3Mjk1NjU0",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/external%20bug",
                        "name": "external bug",
                        "color": "fcc7e5",
                        "default": false,
                        "description": "This issue highlights a bug in another project"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-08-30T16:33:42Z",
                "updated_at": "2022-10-26T07:06:27Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen using yarn with pnp linking, the handling of the * in a package.json#exports has a compatibility issue. Mainly, if the * appears in the middle, it fails, but this is supported with node out-of-the-box.\r\n\r\npackage.json:\r\n```\r\n  ...\r\n\r\n  \"exports\": {\r\n    \"./*/index\": \"./src/*.mjs\", // not honored when linking pnp-style but works otherwise\r\n    \"./*\": \"./src/*.mjs\" // works always\r\n  }\r\n\r\n  ...\r\n```\n\n### To reproduce\n\nSee: https://github.com/gpickell/yarn-bug-exports-handling\r\n\r\n```\r\nyarn\r\nyarn test # works\r\n# remove nodeLinker line from .yarnrc.yml\r\nyarn\r\nyarn test # fails\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (16) x64 AMD Ryzen 7 5800X 8-Core Processor\r\n  Binaries:\r\n    Node: 16.16.0 - ~\\AppData\\Local\\Temp\\xfs-a40a0340\\node.CMD\r\n    Yarn: 3.2.3 - ~\\AppData\\Local\\Temp\\xfs-a40a0340\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\nvs\\node\\16.16.0\\x64\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291592363",
                "html_url": "https://github.com/yarnpkg/berry/issues/4803#issuecomment-1291592363",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803",
                "id": 1291592363,
                "node_id": "IC_kwDOCNXKfM5M_CKr",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-26T07:06:27Z",
                "updated_at": "2022-10-26T07:06:27Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291592363/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-26T07:06:27Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24765030464",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4884",
                "id": 1382325860,
                "node_id": "I_kwDOCNXKfM5SZJ5k",
                "number": 4884,
                "title": "[Bug?]: yarn create doesn't work with httpsCaFilePath",
                "user": {
                    "login": "oceandrama",
                    "id": 23439079,
                    "node_id": "MDQ6VXNlcjIzNDM5MDc5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/23439079?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/oceandrama",
                    "html_url": "https://github.com/oceandrama",
                    "followers_url": "https://api.github.com/users/oceandrama/followers",
                    "following_url": "https://api.github.com/users/oceandrama/following{/other_user}",
                    "gists_url": "https://api.github.com/users/oceandrama/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/oceandrama/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/oceandrama/subscriptions",
                    "organizations_url": "https://api.github.com/users/oceandrama/orgs",
                    "repos_url": "https://api.github.com/users/oceandrama/repos",
                    "events_url": "https://api.github.com/users/oceandrama/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/oceandrama/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-09-22T11:56:25Z",
                "updated_at": "2022-10-22T12:06:56Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nIf you have `httpsCaFilePath` in your config, `yarn create` trying to resolve relative path to cert in temp folder:\r\n\r\n.yarnrc.yml:\r\n```\r\nhttpsCaFilePath: ./some-cert.crt\r\nnodeLinker: node-modules\r\nnpmRegistryServer: \"https://custom-registry.com\"\r\nyarnPath: .yarn/releases/yarn-4.0.0-rc.20.cjs\r\n```\r\n\r\n`yarn create playwright`:\r\n\r\n\u27a4 YN0027: create-playwright@unknown can't be resolved to a satisfying range\r\n\u27a4 YN0001: Error: ENOENT: no such file or directory, open 'C:\\Users\\username\\AppData\\Local\\Temp\\xfs-cee34bdc\\dlx-18200\\some-cert.crt'\n\n### To reproduce\n\nyarn config set httpsCaFilePath ./some-cert.crt\r\nyarn create playwright\n\n### Environment\n\n```shell\nSystem:\r\n  OS: Windows 10 10.0.19044\r\n  CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Memory: 7.76 GB / 15.40 GB\r\nBinaries:\r\n  Node: 16.16.0 - C:\\Program Files\\nodejs\\node.EXE\r\n  Yarn: 4.0.0-rc.20 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\r\n  npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1287773710",
                "html_url": "https://github.com/yarnpkg/berry/issues/4884#issuecomment-1287773710",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884",
                "id": 1287773710,
                "node_id": "IC_kwDOCNXKfM5Mwd4O",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-22T12:06:56Z",
                "updated_at": "2022-10-22T12:06:56Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1287773710/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-22T12:06:56Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24731807411",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4876",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4876",
                "id": 1379713662,
                "node_id": "I_kwDOCNXKfM5SPMJ-",
                "number": 4876,
                "title": "[Bug]: Calling `yarn rebuild` in postinstall calls it infinitely recursively",
                "user": {
                    "login": "Litarvan",
                    "id": 8712146,
                    "node_id": "MDQ6VXNlcjg3MTIxNDY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8712146?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Litarvan",
                    "html_url": "https://github.com/Litarvan",
                    "followers_url": "https://api.github.com/users/Litarvan/followers",
                    "following_url": "https://api.github.com/users/Litarvan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Litarvan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Litarvan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Litarvan/subscriptions",
                    "organizations_url": "https://api.github.com/users/Litarvan/orgs",
                    "repos_url": "https://api.github.com/users/Litarvan/repos",
                    "events_url": "https://api.github.com/users/Litarvan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Litarvan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-20T16:49:32Z",
                "updated_at": "2022-10-20T18:16:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen calling `yarn rebuild` in a `postinstall` script, the `rebuild` command will call the `postinstall` script after being finished (or before? doesn't matter), which will call `rebuild` again and do so indefinitely.\r\n\r\nThis behavior doesn't happen on NPM which I presume does not run `postinstall` after `npm rebuild`, but apparently Yarn does. Since Yarn doesn't provide a way to disable scripts for `rebuild`, I can't do something like `\"postinstall\": \"yarn rebuild --ignore-scripts sharp\"`, and disabling it globally via `.yarnrc.yml` would also ruin the purpose.\r\n\r\nI know that the doc recommends not to use `postinstall`, but since I'm running my project in a Docker container (Linux + MUSL) with a `node_modules` created with Yarn in local (on Darwin), I have to use this script to rebuild sharp for the `linuxmusl` platform (alongside the `darwin` platform it was originally built with) so that it can run in the container. (Related to #3853)\r\n\r\nThe reason I made this `postinstall` script is that using `supportedArchitectures` also doesn't work for sharp (which uses .node bindings in itself), but does for `esbuild` (which uses a separate dependency for each platform). This could make another issue maybe?\r\n\r\n### To reproduce\r\n\r\nThis can be reproduced by running `yarn` with the following package.json:\r\n```json\r\n{\r\n  \"name\": \"test\",\r\n  \"scripts\": {\r\n    \"postinstall\": \"yarn rebuild sharp\"\r\n  },\r\n  \"dependencies\": {\r\n    \"sharp\": \"^0.31.0\"\r\n  },\r\n  \"packageManager\": \"yarn@3.2.3\"\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n  OS: macOS 12.4\r\n  CPU: (16) x64 AMD Ryzen 7 3800X 8-Core Processor\r\nBinaries:\r\n  Node: 18.8.0 - /private/var/folders/4_/k05ccxxd13j3n60930rkvz880000gn/T/xfs-c714cf0d/node\r\n  Yarn: 3.2.3 - /private/var/folders/4_/k05ccxxd13j3n60930rkvz880000gn/T/xfs-c714cf0d/yarn\r\n  npm: 8.18.0 - ~/.nix-profile/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nIt's my first time using the new Yarn version, I migrated to use the `supportedArchitectures` feature for the Docker platform compatibility issue I had with `esbuild` and `sharp` as described earlier, but sadly it didn't fix it for `sharp` without the `postinstall` script, which itself only works using npm and not yarn. Since it works running `npm` in the `postinstall` script and still using yarn, this isn't a major issue, but still is a bug I felt had to be reported.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1285958275",
                "html_url": "https://github.com/yarnpkg/berry/issues/4876#issuecomment-1285958275",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876",
                "id": 1285958275,
                "node_id": "IC_kwDOCNXKfM5MpiqD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-20T18:16:04Z",
                "updated_at": "2022-10-20T18:16:04Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1285958275/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-20T18:16:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24704930173",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4856",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4856",
                "id": 1376697033,
                "node_id": "I_kwDOCNXKfM5SDrrJ",
                "number": 4856,
                "title": "[Bug?]: This package doesn't seem to be present in your lockfile; run \"yarn install\" to update the lockfile",
                "user": {
                    "login": "Jexsie",
                    "id": 104269786,
                    "node_id": "U_kgDOBjcH2g",
                    "avatar_url": "https://avatars.githubusercontent.com/u/104269786?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Jexsie",
                    "html_url": "https://github.com/Jexsie",
                    "followers_url": "https://api.github.com/users/Jexsie/followers",
                    "following_url": "https://api.github.com/users/Jexsie/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Jexsie/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Jexsie/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Jexsie/subscriptions",
                    "organizations_url": "https://api.github.com/users/Jexsie/orgs",
                    "repos_url": "https://api.github.com/users/Jexsie/repos",
                    "events_url": "https://api.github.com/users/Jexsie/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Jexsie/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-17T07:37:44Z",
                "updated_at": "2022-10-19T18:13:19Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI have got this issue after upgrading to yarn 3.x\r\nYarn throws that \"internal error\" as shown in the screenshot everytime I execute commands like \"yarn install,\" \"yarn build,\"  in different projects am working on. \r\n![dfvfv](https://user-images.githubusercontent.com/104269786/190845975-abbeddfb-561f-41ce-9968-d14f2a99783f.png)\r\n\n\n### To reproduce\n\nInternal Error: @openmrs/esm-core@workspace:.: This package doesn't seem to be present in your lockfile; run \"yarn install\" to update the lockfile\r\n    at OR.getCandidates (/home/coder/.yarn/releases/yarn-3.2.3.cjs:435:5209)\r\n    at Bd.getCandidates (/home/coder/.yarn/releases/yarn-3.2.3.cjs:391:1281)\r\n    at /home/coder/.yarn/releases/yarn-3.2.3.cjs:439:7764\r\n    at Tg (/home/coder/.yarn/releases/yarn-3.2.3.cjs:390:11154)\r\n    at ce (/home/coder/.yarn/releases/yarn-3.2.3.cjs:439:7744)\r\n\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.5 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-6600U CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-c26faf78/node\r\n    Yarn: 3.2.3 - /tmp/xfs-c26faf78/yarn\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1284396152",
                "html_url": "https://github.com/yarnpkg/berry/issues/4856#issuecomment-1284396152",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856",
                "id": 1284396152,
                "node_id": "IC_kwDOCNXKfM5MjlR4",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-19T18:13:19Z",
                "updated_at": "2022-10-19T18:13:19Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1284396152/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-19T18:13:20Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24678628285",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11371454439,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "2b14decf17f20c54e253d67ed981ab35b7e002d6",
            "before": "bf4c5b0039cf62badaa96695c638434225820050",
            "commits": [
                {
                    "sha": "5e4c35e21d53b2192f4560d1c3ae29dc2d400f58",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.26` |\n| `@yarnpkg/core` | `4.0.0-rc.26` |\n| `@yarnpkg/parsers` | `3.0.0-rc.26` |\n| `@yarnpkg/shell` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.26` |\n| `@yarnpkg/extensions` | `2.0.0-rc.8` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.26` |\n| `@yarnpkg/pnp` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.26` |\n| `@yarnpkg/sdks` | `3.0.0-rc.26` |\n| `@yarnpkg/fslib` | `3.0.0-rc.26` |\n| `@yarnpkg/libui` | `3.0.0-rc.26` |\n| `@yarnpkg/libzip` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.26` |\n| `vscode-zipfs` | `2.6.0-rc.15` |\n| `@yarnpkg/nm` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.26` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.26` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.26` |\n| `@yarnpkg/builder` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.26` |\n| `@yarnpkg/doctor` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.26` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/5e4c35e21d53b2192f4560d1c3ae29dc2d400f58"
                },
                {
                    "sha": "2b14decf17f20c54e253d67ed981ab35b7e002d6",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/2b14decf17f20c54e253d67ed981ab35b7e002d6"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-18T19:12:27Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24668420462",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4843",
                "id": 1370848211,
                "node_id": "I_kwDOCNXKfM5RtXvT",
                "number": 4843,
                "title": "[Bug?]: Unable to use yarn2 for development",
                "user": {
                    "login": "raja-jamwal",
                    "id": 1223189,
                    "node_id": "MDQ6VXNlcjEyMjMxODk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1223189?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/raja-jamwal",
                    "html_url": "https://github.com/raja-jamwal",
                    "followers_url": "https://api.github.com/users/raja-jamwal/followers",
                    "following_url": "https://api.github.com/users/raja-jamwal/following{/other_user}",
                    "gists_url": "https://api.github.com/users/raja-jamwal/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/raja-jamwal/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/raja-jamwal/subscriptions",
                    "organizations_url": "https://api.github.com/users/raja-jamwal/orgs",
                    "repos_url": "https://api.github.com/users/raja-jamwal/repos",
                    "events_url": "https://api.github.com/users/raja-jamwal/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/raja-jamwal/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-13T04:46:47Z",
                "updated_at": "2022-10-18T12:07:55Z",
                "closed_at": "2022-10-18T12:07:55Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nUpgraded a multi workspace project to use `yarn2`, deleted old node_modules, yarn.lock, did a fresh `yarn install`. On trying to run `yarn start`, it errors out as \r\n\r\n``` something@workspace:.: This package doesn't seem to be present in your lockfile; try to make an install to update your resolution```\r\n\r\nAlso there is no `yarn.lock`.\r\n\r\nI followed this (https://stackoverflow.com/questions/64722201/yarn-command-yarn-import-error-this-package-doesnt-seem-to-be-present-in-you/66734056#66734056) but there are no nested `yarn.lock` and workspaces are also correctly configured.\n\n### To reproduce\n\nmulti workspace \n\n### Environment\n\n```shell\nOS: Mac\r\n\r\nNode: v16.13.1\r\n\r\nNPM: 8.1.2\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-18T12:07:55Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24662898165",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4863",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4863",
                "id": 1376959469,
                "node_id": "I_kwDOCNXKfM5SErvt",
                "number": 4863,
                "title": "[Bug?]: `yarn set version stable` stopped working",
                "user": {
                    "login": "dylanh724",
                    "id": 8840024,
                    "node_id": "MDQ6VXNlcjg4NDAwMjQ=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8840024?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dylanh724",
                    "html_url": "https://github.com/dylanh724",
                    "followers_url": "https://api.github.com/users/dylanh724/followers",
                    "following_url": "https://api.github.com/users/dylanh724/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dylanh724/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dylanh724/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dylanh724/subscriptions",
                    "organizations_url": "https://api.github.com/users/dylanh724/orgs",
                    "repos_url": "https://api.github.com/users/dylanh724/repos",
                    "events_url": "https://api.github.com/users/dylanh724/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dylanh724/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-18T06:21:09Z",
                "updated_at": "2022-10-18T08:09:11Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`yarn set version stable` -> not found.\r\n\r\nI can `yarn set version berry`, and it saves it to .yarn/releases/, but *still* doesn't set the version.\r\n\r\nPossibly related to: \r\n* https://github.com/yarnpkg/berry/issues/4234\r\n* https://github.com/yarnpkg/berry/issues/4797\r\n\r\n> error An unexpected error occurred: \"Release not found: stable\".\r\ninfo If you think this is a bug, please open a bug report with the information provided in \"/mnt/c/Repos/home/{myProj}/yarn-error.log\".    \r\n\r\n![image](https://user-images.githubusercontent.com/8840024/190890495-65d5b50c-b588-4df6-a166-516c38a960fa.png)\r\n\r\n### To reproduce\r\n\r\n1. `yarn -v` == 1.22.11\r\n2. Go into your proj dir\r\n3. type `yarn set version stable`\r\n\r\n### Environment\r\n\r\n```shell\r\nCommand \"dlx\" not found. // This is a yarn v2+ feat?\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n> Trace: \r\n  Error: Release not found: stable\r\n      at /home/{myUser}/.yarn/releases/yarn-1.22.11.cjs:98340:17\r\n      at Generator.next (<anonymous>)\r\n      at step (/home/{myUser}/.yarn/releases/yarn-1.22.11.cjs:310:30)\r\n      at /home/{myUser}/.yarn/releases/yarn-1.22.11.cjs:321:13\r\n      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1281982534",
                "html_url": "https://github.com/yarnpkg/berry/issues/4863#issuecomment-1281982534",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863",
                "id": 1281982534,
                "node_id": "IC_kwDOCNXKfM5MaYBG",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-18T08:09:11Z",
                "updated_at": "2022-10-18T08:09:11Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1281982534/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-18T08:09:11Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24616078856",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/3997",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/3997",
                "id": 1108983752,
                "node_id": "I_kwDOCNXKfM5CGb_I",
                "number": 3997,
                "title": "[Feature] Allow plugin usage in scripts",
                "user": {
                    "login": "johnameyer",
                    "id": 3662655,
                    "node_id": "MDQ6VXNlcjM2NjI2NTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3662655?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/johnameyer",
                    "html_url": "https://github.com/johnameyer",
                    "followers_url": "https://api.github.com/users/johnameyer/followers",
                    "following_url": "https://api.github.com/users/johnameyer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/johnameyer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/johnameyer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/johnameyer/subscriptions",
                    "organizations_url": "https://api.github.com/users/johnameyer/orgs",
                    "repos_url": "https://api.github.com/users/johnameyer/repos",
                    "events_url": "https://api.github.com/users/johnameyer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/johnameyer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-01-20T08:06:22Z",
                "updated_at": "2022-10-15T10:28:21Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI expected to be able to use the `workspaces` command from inside my `package.json` scripts but installing it as a plugin or as a dev dependency did not bring it into scope.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\n\r\nawait packageJsonAndInstall({\r\n  scripts: {\r\n    test: \"yarn workspaces foreach exec echo hello\"\r\n  }\r\n});\r\n\r\n// await yarn(`plugin`, `import`, `workspace-tools`);\r\n// ^ plugin lookup 404s with 3.2.0-rc.11.dev\r\nawait yarn(`plugin`, `import`, `https://github.com/yarnpkg/berry/raw/@yarnpkg/cli/3.1.1/packages/plugin-workspace-tools/bin/%40yarnpkg/plugin-workspace-tools.js`);\r\n\r\nawait yarn(`workspaces`, `foreach`, `exec`, `echo`, `hello`); // Expected outcome\r\n\r\nlet result = \"\";\r\ntry {\r\n  result = await yarn(`test`);\r\n} catch (e) {\r\n  expect(e.toString()).not.toMatch('command not found: workspaces');\r\n}\r\nexpect(result).toMatch(\"hello\"); \r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.10 Ubuntu 18.04.1 LTS (Bionic Beaver)\r\n    CPU: (2) x64 Intel(R) Core(TM) i5-8300H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.6.0 - /tmp/xfs-9ffddeeb/node\r\n    Yarn: 3.1.1 - /tmp/xfs-9ffddeeb/yarn\r\n    npm: 7.24.0 - /usr/local/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1279715267",
                "html_url": "https://github.com/yarnpkg/berry/issues/3997#issuecomment-1279715267",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997",
                "id": 1279715267,
                "node_id": "IC_kwDOCNXKfM5MRufD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-15T10:28:21Z",
                "updated_at": "2022-10-15T10:28:21Z",
                "author_association": "COLLABORATOR",
                "body": "We couldn't reproduce your issue (all the assertions passed on master).",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1279715267/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-15T10:28:22Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24575628977",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4843",
                "id": 1370848211,
                "node_id": "I_kwDOCNXKfM5RtXvT",
                "number": 4843,
                "title": "[Bug?]: Unable to use yarn2 for development",
                "user": {
                    "login": "raja-jamwal",
                    "id": 1223189,
                    "node_id": "MDQ6VXNlcjEyMjMxODk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1223189?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/raja-jamwal",
                    "html_url": "https://github.com/raja-jamwal",
                    "followers_url": "https://api.github.com/users/raja-jamwal/followers",
                    "following_url": "https://api.github.com/users/raja-jamwal/following{/other_user}",
                    "gists_url": "https://api.github.com/users/raja-jamwal/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/raja-jamwal/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/raja-jamwal/subscriptions",
                    "organizations_url": "https://api.github.com/users/raja-jamwal/orgs",
                    "repos_url": "https://api.github.com/users/raja-jamwal/repos",
                    "events_url": "https://api.github.com/users/raja-jamwal/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/raja-jamwal/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-13T04:46:47Z",
                "updated_at": "2022-10-13T12:07:52Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nUpgraded a multi workspace project to use `yarn2`, deleted old node_modules, yarn.lock, did a fresh `yarn install`. On trying to run `yarn start`, it errors out as \r\n\r\n``` something@workspace:.: This package doesn't seem to be present in your lockfile; try to make an install to update your resolution```\r\n\r\nAlso there is no `yarn.lock`.\r\n\r\nI followed this (https://stackoverflow.com/questions/64722201/yarn-command-yarn-import-error-this-package-doesnt-seem-to-be-present-in-you/66734056#66734056) but there are no nested `yarn.lock` and workspaces are also correctly configured.\n\n### To reproduce\n\nmulti workspace \n\n### Environment\n\n```shell\nOS: Mac\r\n\r\nNode: v16.13.1\r\n\r\nNPM: 8.1.2\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1277509112",
                "html_url": "https://github.com/yarnpkg/berry/issues/4843#issuecomment-1277509112",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843",
                "id": 1277509112,
                "node_id": "IC_kwDOCNXKfM5MJT34",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-13T12:07:52Z",
                "updated_at": "2022-10-13T12:07:52Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1277509112/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-13T12:07:52Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24558704731",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4802",
                "id": 1354309072,
                "node_id": "I_kwDOCNXKfM5QuR3Q",
                "number": 4802,
                "title": "[Bug?]: Patch isn't applying fully to @rnmapbox/maps",
                "user": {
                    "login": "natew",
                    "id": 12100,
                    "node_id": "MDQ6VXNlcjEyMTAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12100?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/natew",
                    "html_url": "https://github.com/natew",
                    "followers_url": "https://api.github.com/users/natew/followers",
                    "following_url": "https://api.github.com/users/natew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/natew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/natew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/natew/subscriptions",
                    "organizations_url": "https://api.github.com/users/natew/orgs",
                    "repos_url": "https://api.github.com/users/natew/repos",
                    "events_url": "https://api.github.com/users/natew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/natew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-29T13:32:58Z",
                "updated_at": "2022-10-12T18:10:23Z",
                "closed_at": "2022-10-12T18:10:23Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### To reproduce\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M2\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/node\r\n    Yarn: 3.1.1 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/yarn\r\n    npm: 8.15.0 - ~/Library/Caches/fnm_multishells/69747_1653603955297/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-12T18:10:23Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24511146887",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11284817637,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "b7f42424f6a13ffdb0bd1e7e03693ba03b8e1eda",
            "before": "9655cb21e6529c43b987a7748924a77b6cde6699",
            "commits": [
                {
                    "sha": "b933b4ca72eaf6781462ff506b0deb9d86346a0c",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.25` |\n| `@yarnpkg/core` | `4.0.0-rc.25` |\n| `@yarnpkg/parsers` | `3.0.0-rc.25` |\n| `@yarnpkg/shell` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.25` |\n| `@yarnpkg/extensions` | `2.0.0-rc.7` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.25` |\n| `@yarnpkg/pnp` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.25` |\n| `@yarnpkg/sdks` | `3.0.0-rc.25` |\n| `@yarnpkg/fslib` | `3.0.0-rc.25` |\n| `@yarnpkg/libui` | `3.0.0-rc.25` |\n| `@yarnpkg/libzip` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.25` |\n| `vscode-zipfs` | `2.6.0-rc.14` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.25` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.25` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.25` |\n| `@yarnpkg/builder` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.25` |\n| `@yarnpkg/nm` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.25` |\n| `@yarnpkg/doctor` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.25` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/b933b4ca72eaf6781462ff506b0deb9d86346a0c"
                },
                {
                    "sha": "b7f42424f6a13ffdb0bd1e7e03693ba03b8e1eda",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/b7f42424f6a13ffdb0bd1e7e03693ba03b8e1eda"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-10T21:39:30Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24484256708",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4790",
                "id": 1347419210,
                "node_id": "I_kwDOCNXKfM5QT_xK",
                "number": 4790,
                "title": "[Bug?]: yarn npm publish has different \"request\" then npm publish",
                "user": {
                    "login": "yarinsa",
                    "id": 44482362,
                    "node_id": "MDQ6VXNlcjQ0NDgyMzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44482362?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarinsa",
                    "html_url": "https://github.com/yarinsa",
                    "followers_url": "https://api.github.com/users/yarinsa/followers",
                    "following_url": "https://api.github.com/users/yarinsa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarinsa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarinsa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarinsa/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarinsa/orgs",
                    "repos_url": "https://api.github.com/users/yarinsa/repos",
                    "events_url": "https://api.github.com/users/yarinsa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarinsa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-23T06:39:44Z",
                "updated_at": "2022-10-09T08:05:37Z",
                "closed_at": "2022-10-09T08:05:37Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am using private registry by JFrog. Trying to publish a package. \r\n\r\nTook me a while to work with scoped private repo (had to base64 user:password) and use it as npmAuthIdent.\r\n\r\nWhen I  finally got it to work,\r\n Seems like everything is great but the package cant be found. \r\nAfter comparison with running  \"npm publish\" vs \"yarn npm publish\" I saw that the diff is that yarn uploads json file, and npm uploads a directory the contains the tgz.\r\nNot sure how to point the problem. \n\n### To reproduce\n\nNot sure how to upload reproduction \n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) x64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.13.1 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/node\r\n    Yarn: 3.2.2 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-09T08:05:37Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24484256607",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4816",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4816",
                "id": 1361064853,
                "node_id": "I_kwDOCNXKfM5RIDOV",
                "number": 4816,
                "title": "[Bug?]: can't query latest version - yarn npm view doesn't work with nested fields",
                "user": {
                    "login": "yarinsa",
                    "id": 44482362,
                    "node_id": "MDQ6VXNlcjQ0NDgyMzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44482362?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarinsa",
                    "html_url": "https://github.com/yarinsa",
                    "followers_url": "https://api.github.com/users/yarinsa/followers",
                    "following_url": "https://api.github.com/users/yarinsa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarinsa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarinsa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarinsa/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarinsa/orgs",
                    "repos_url": "https://api.github.com/users/yarinsa/repos",
                    "events_url": "https://api.github.com/users/yarinsa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarinsa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-04T07:10:43Z",
                "updated_at": "2022-10-09T08:05:36Z",
                "closed_at": "2022-10-09T08:05:36Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nI would like to query the artifactory  for the latest version released.\r\nAccording to npm docs I could do something like\r\n`yarn npm info {package_name} --fields \"dist-tags.latest`\r\nTo get nested properties inside \"dist-tags\". \r\nYarn returns \" The dist-tags.latest field doesn't exist inside {package_name}'s information\"\n\n### To reproduce\n\nExpected:\r\n  yarn npm info react --fields dist-tags.latest -> 18.2.0\r\n\r\nActual:\r\n yarn npm info react --fields dist-tags.latest -> The dist-tags.latest field doesn't exist inside react's information\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) x64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.13.1 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-b1e6bf51/node\r\n    Yarn: 3.2.2 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-b1e6bf51/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\n```\n\n\n### Additional context\n\nI could use npm view otherwise. But yarn doesn't have \"yarn view || yarn npm view\". Would be willing to help with that as well",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-09T08:05:37Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24480078781",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4808",
                "id": 1359723803,
                "node_id": "I_kwDOCNXKfM5RC70b",
                "number": 4808,
                "title": "Yarn Syntax Error - .yarnrc.yml: SyntaxError: ';' expected",
                "user": {
                    "login": "Shakti2303",
                    "id": 40260455,
                    "node_id": "MDQ6VXNlcjQwMjYwNDU1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/40260455?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shakti2303",
                    "html_url": "https://github.com/Shakti2303",
                    "followers_url": "https://api.github.com/users/Shakti2303/followers",
                    "following_url": "https://api.github.com/users/Shakti2303/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shakti2303/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shakti2303/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shakti2303/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shakti2303/orgs",
                    "repos_url": "https://api.github.com/users/Shakti2303/repos",
                    "events_url": "https://api.github.com/users/Shakti2303/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shakti2303/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-02T05:34:05Z",
                "updated_at": "2022-10-08T18:05:03Z",
                "closed_at": "2022-10-08T18:05:03Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n\r\n\r\nI have an angular project with Yarn (3.2.3) installed. While running `yarn run format:check`, it reads .yarnrc.yml file and throws below error:\r\n```\r\n.yarnrc.yml: SyntaxError: ';' expected \r\n[error]   3 | npmRegistryServer: 'SOME_SERVER'\r\n[error]   4 | npmScopes:\r\n[error] > 5 |   \"my-private-repo\":\r\n[error]     |                      ^\r\n[error]   6 |     npmRegistryServer: 'SOME_SERVER'\r\n[error]   7 |   ionic:\r\n[error]   8 |     npmRegistryServer: 'SOME_SERVER'\r\n```\r\n\r\n### To reproduce\r\n\r\nHere is my .yarnrc.yml configuration:\r\n```yaml\r\nyarnPath: \".yarn/releases/yarn-3.2.3.cjs\"\r\nnodeLinker: node-modules\r\nnpmRegistryServer: 'SOME_SERVER'\r\nnpmScopes:\r\n  \"my-private-repo\":\r\n    npmRegistryServer: 'SOME_SERVER'\r\n  ionic:\r\n    npmRegistryServer: 'SOME_SERVER'\r\nenableStrictSsl: false\r\nhttpRetry: 2\r\nhttpTimeout: 60000\r\n```\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?\r\n\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nNode Version : 14.15.4\r\nYarn : 3.2.3\r\nmacOS : 11.6.5\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-08T18:05:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24479312537",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11266986413,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "bd0ad90334be381abb5bed303a33ba0bd6e1e54d",
            "before": "bb8fe0a4a95992d0210e75386ff7530c93e8071a",
            "commits": [
                {
                    "sha": "3bc86a50b8cc9d55060e9b91a93cb19ca5be596e",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.24` |\n| `@yarnpkg/core` | `4.0.0-rc.24` |\n| `@yarnpkg/parsers` | `3.0.0-rc.24` |\n| `@yarnpkg/shell` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.24` |\n| `@yarnpkg/extensions` | `2.0.0-rc.6` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.24` |\n| `@yarnpkg/pnp` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.24` |\n| `@yarnpkg/sdks` | `3.0.0-rc.24` |\n| `@yarnpkg/fslib` | `3.0.0-rc.24` |\n| `@yarnpkg/libui` | `3.0.0-rc.24` |\n| `@yarnpkg/libzip` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.24` |\n| `vscode-zipfs` | `2.6.0-rc.13` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.24` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.24` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.24` |\n| `@yarnpkg/builder` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.24` |\n| `@yarnpkg/nm` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.24` |\n| `@yarnpkg/doctor` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.24` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/3bc86a50b8cc9d55060e9b91a93cb19ca5be596e"
                },
                {
                    "sha": "bd0ad90334be381abb5bed303a33ba0bd6e1e54d",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/bd0ad90334be381abb5bed303a33ba0bd6e1e54d"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-08T15:59:57Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24478433336",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4612",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4612",
                "id": 1298863461,
                "node_id": "I_kwDOCNXKfM5NaxVl",
                "number": 4612,
                "title": "[Bug?]: Regression error for `yarn dedupe`.",
                "user": {
                    "login": "liuxingbaoyu",
                    "id": 30521560,
                    "node_id": "MDQ6VXNlcjMwNTIxNTYw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/30521560?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/liuxingbaoyu",
                    "html_url": "https://github.com/liuxingbaoyu",
                    "followers_url": "https://api.github.com/users/liuxingbaoyu/followers",
                    "following_url": "https://api.github.com/users/liuxingbaoyu/following{/other_user}",
                    "gists_url": "https://api.github.com/users/liuxingbaoyu/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/liuxingbaoyu/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/liuxingbaoyu/subscriptions",
                    "organizations_url": "https://api.github.com/users/liuxingbaoyu/orgs",
                    "repos_url": "https://api.github.com/users/liuxingbaoyu/repos",
                    "events_url": "https://api.github.com/users/liuxingbaoyu/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/liuxingbaoyu/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    },
                    {
                        "id": 2124593803,
                        "node_id": "MDU6TGFiZWwyMTI0NTkzODAz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/upholded",
                        "name": "upholded",
                        "color": "35d668",
                        "default": false,
                        "description": "Real issues without formal reproduction"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-07-08T11:00:44Z",
                "updated_at": "2022-10-08T13:41:06Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`yarn dedupe --check` shows that there is a package that can be dedupe but running `yarn dedupe` has no effect.\r\nThis is a regression bug that worked fine in 3.1.1 but was broken in 3.2.0 until the current main branch.\r\n\r\n```\r\nPS F:\\babel> yarn dedupe --check\r\n\u27a4 YN0000: \u250c Deduplication step\r\n\u27a4 YN0000: \u2502 eslint@npm:eslint@^8.0.0 can be deduped from eslint@npm:8.0.0 to eslint@npm:8.9.0\r\n\u27a4 YN0000: \u2502 One package can be deduped using the highest strategy\r\n\u27a4 YN0000: \u2514 Completed\r\n```\r\n\r\n### To reproduce\r\n\r\n#### Sherlock\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    [`eslint`]: `^8.9.0`,\r\n    [`eslint-8`]: `npm:eslint@^8.0.0`,\r\n  },\r\n});\r\n\r\nawait yarn(`set`, `resolution`, `eslint-8@npm:eslint@^8.0.0`, `npm:eslint@8.0.0`);\r\n\r\nawait yarn(`dedupe`);\r\n\r\nawait expect(yarn(`dedupe`, `--check`))\r\n  .resolves.toBeTruthy();\r\n```\r\n\r\n#### Babel repo (latest commit doesn't repro, go back to an older commit such as `41582ee444debf24dc0702cef2919f608d06b235`)\r\n\r\n```sh\r\ngit clone https://github.com/babel/babel\r\ncd babel\r\nyarn set version stable\r\nyarn dedupe\r\nyarn dedupe --check\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (24) x64 AMD Ryzen Threadripper 1920X 12-Core Processor\r\n  Binaries:\r\n    Node: 18.3.0 - C:\\Users\\liuxingbaoyu\\AppData\\Local\\Temp\\xfs-fd8c095c\\node.CMD\r\n    Yarn: 3.2.0 - C:\\Users\\liuxingbaoyu\\AppData\\Local\\Temp\\xfs-fd8c095c\\yarn.CMD\r\n    npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/reactions",
                    "total_count": 1,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 1
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1272323341",
                "html_url": "https://github.com/yarnpkg/berry/issues/4612#issuecomment-1272323341",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612",
                "id": 1272323341,
                "node_id": "IC_kwDOCNXKfM5L1h0N",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-08T13:41:06Z",
                "updated_at": "2022-10-08T13:41:06Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js dedupe --check\n\n\u27a4 YN0000: \u250c Deduplication step\n::group::Deduplication step\n\u27a4 YN0000: \u2502 eslint@npm:eslint@^8.0.0 can be deduped from eslint@npm:8.0.0 to eslint@npm:8.25.0\n\u27a4 YN0000: \u2502 One package can be deduped using the highest strategy\n::endgroup::\n\u27a4 YN0000: \u2514 Completed\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:13:7)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1272323341/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-08T13:41:06Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24477172073",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11265563892,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "e6e314eed22dcfd2217e9678643b0a649523ecfe",
            "before": "578dbe7f1c97ca686730bc62396bfc944c03f8db",
            "commits": [
                {
                    "sha": "8c8de6f982a89c0d383169689969b1e97f3a05f5",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.23` |\n| `@yarnpkg/core` | `4.0.0-rc.23` |\n| `@yarnpkg/parsers` | `3.0.0-rc.23` |\n| `@yarnpkg/shell` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.23` |\n| `@yarnpkg/extensions` | `2.0.0-rc.5` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.23` |\n| `@yarnpkg/pnp` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.23` |\n| `@yarnpkg/sdks` | `3.0.0-rc.23` |\n| `@yarnpkg/fslib` | `3.0.0-rc.23` |\n| `@yarnpkg/libui` | `3.0.0-rc.23` |\n| `@yarnpkg/libzip` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.23` |\n| `vscode-zipfs` | `2.6.0-rc.12` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.23` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.23` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.23` |\n| `@yarnpkg/builder` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.23` |\n| `@yarnpkg/nm` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.23` |\n| `@yarnpkg/doctor` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.23` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/8c8de6f982a89c0d383169689969b1e97f3a05f5"
                },
                {
                    "sha": "e6e314eed22dcfd2217e9678643b0a649523ecfe",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/e6e314eed22dcfd2217e9678643b0a649523ecfe"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-08T10:14:29Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24469372833",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4802",
                "id": 1354309072,
                "node_id": "I_kwDOCNXKfM5QuR3Q",
                "number": 4802,
                "title": "[Bug?]: Patch isn't applying fully to @rnmapbox/maps",
                "user": {
                    "login": "natew",
                    "id": 12100,
                    "node_id": "MDQ6VXNlcjEyMTAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12100?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/natew",
                    "html_url": "https://github.com/natew",
                    "followers_url": "https://api.github.com/users/natew/followers",
                    "following_url": "https://api.github.com/users/natew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/natew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/natew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/natew/subscriptions",
                    "organizations_url": "https://api.github.com/users/natew/orgs",
                    "repos_url": "https://api.github.com/users/natew/repos",
                    "events_url": "https://api.github.com/users/natew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/natew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-29T13:32:58Z",
                "updated_at": "2022-10-07T18:09:50Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### To reproduce\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M2\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/node\r\n    Yarn: 3.1.1 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/yarn\r\n    npm: 8.15.0 - ~/Library/Caches/fnm_multishells/69747_1653603955297/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1271894942",
                "html_url": "https://github.com/yarnpkg/berry/issues/4802#issuecomment-1271894942",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802",
                "id": 1271894942,
                "node_id": "IC_kwDOCNXKfM5Lz5Oe",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-07T18:09:50Z",
                "updated_at": "2022-10-07T18:09:50Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1271894942/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-07T18:09:51Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24441915083",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824",
                "id": 1363352463,
                "node_id": "I_kwDOCNXKfM5RQxuP",
                "number": 4824,
                "title": "[Bug?]: peerdependency version being ignored?",
                "user": {
                    "login": "lucas-zimerman",
                    "id": 8229322,
                    "node_id": "MDQ6VXNlcjgyMjkzMjI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8229322?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lucas-zimerman",
                    "html_url": "https://github.com/lucas-zimerman",
                    "followers_url": "https://api.github.com/users/lucas-zimerman/followers",
                    "following_url": "https://api.github.com/users/lucas-zimerman/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lucas-zimerman/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lucas-zimerman/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lucas-zimerman/subscriptions",
                    "organizations_url": "https://api.github.com/users/lucas-zimerman/orgs",
                    "repos_url": "https://api.github.com/users/lucas-zimerman/repos",
                    "events_url": "https://api.github.com/users/lucas-zimerman/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lucas-zimerman/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-09-06T14:11:04Z",
                "updated_at": "2022-10-06T15:06:21Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am adding this as a bug since the behavior is different from npm.\r\nIn short, running the bellow command has different behaviors, npm adds @sentry/angular using the version defined on the peerDependency of @sentry/capacitor@0.9.0 where yarn ignores that version number and uses the latest version of the package.\r\n\r\n\r\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"packageManager\": \"yarn@3.2.3\",\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.12.1\",\r\n    \"@sentry/capacitor\": \"0.9.0\",\r\n  }\r\n}\r\n```\r\n\r\nnpm install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.8.1\",\r\n    \"@sentry/capacitor\": \"^0.9.0\"\r\n  }\r\n}\r\n```\r\n\r\nsentry angular is defined as a peer dependency here:\r\nhttps://github.com/getsentry/sentry-capacitor/blob/0.9.0/package.json#L40\r\n\r\nIf not a bug, it would be great to know how `yarn` could behave the same as `npm` in this case where users type for example `yarn add @sentry/capacitor @sentry/angular` where @sentry/capacitor has a peer dependency  version lower than the latest release of @sentry/angular.\n\n### To reproduce\n\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n\r\nno need to add additional code, the build will break because the types are incompatible with the latest version of @sentry/angular\r\n\r\n```js repro\r\n// Sherlock reproduction. For instance:\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    [`@sentry/capacitor`]: `0.9.0`,\r\n    [`@sentry/angular`]: ``,\r\n  },\r\n});\r\n```\r\n\n\n### Environment\n\n```shell\nSame was reproduced by other users on different machines.\r\n\r\n  System:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 18.7.0 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\node.CMD\r\n    Yarn: 3.2.3 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\yarn.CMD\r\n    npm: 8.19.1 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1270229281",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824#issuecomment-1270229281",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "id": 1270229281,
                "node_id": "IC_kwDOCNXKfM5Ltikh",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-06T15:06:21Z",
                "updated_at": "2022-10-06T15:06:21Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1270229281/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-06T15:06:21Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24380301495",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4790",
                "id": 1347419210,
                "node_id": "I_kwDOCNXKfM5QT_xK",
                "number": 4790,
                "title": "[Bug?]: yarn npm publish has different \"request\" then npm publish",
                "user": {
                    "login": "yarinsa",
                    "id": 44482362,
                    "node_id": "MDQ6VXNlcjQ0NDgyMzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44482362?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarinsa",
                    "html_url": "https://github.com/yarinsa",
                    "followers_url": "https://api.github.com/users/yarinsa/followers",
                    "following_url": "https://api.github.com/users/yarinsa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarinsa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarinsa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarinsa/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarinsa/orgs",
                    "repos_url": "https://api.github.com/users/yarinsa/repos",
                    "events_url": "https://api.github.com/users/yarinsa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarinsa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-23T06:39:44Z",
                "updated_at": "2022-10-04T07:12:08Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am using private registry by JFrog. Trying to publish a package. \r\n\r\nTook me a while to work with scoped private repo (had to base64 user:password) and use it as npmAuthIdent.\r\n\r\nWhen I  finally got it to work,\r\n Seems like everything is great but the package cant be found. \r\nAfter comparison with running  \"npm publish\" vs \"yarn npm publish\" I saw that the diff is that yarn uploads json file, and npm uploads a directory the contains the tgz.\r\nNot sure how to point the problem. \n\n### To reproduce\n\nNot sure how to upload reproduction \n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) x64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.13.1 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/node\r\n    Yarn: 3.2.2 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1266506951",
                "html_url": "https://github.com/yarnpkg/berry/issues/4790#issuecomment-1266506951",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790",
                "id": 1266506951,
                "node_id": "IC_kwDOCNXKfM5LfVzH",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-04T07:12:08Z",
                "updated_at": "2022-10-04T07:12:08Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1266506951/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-04T07:12:08Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24368707159",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4808",
                "id": 1359723803,
                "node_id": "I_kwDOCNXKfM5RC70b",
                "number": 4808,
                "title": "Yarn Syntax Error - .yarnrc.yml: SyntaxError: ';' expected",
                "user": {
                    "login": "Shakti2303",
                    "id": 40260455,
                    "node_id": "MDQ6VXNlcjQwMjYwNDU1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/40260455?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shakti2303",
                    "html_url": "https://github.com/Shakti2303",
                    "followers_url": "https://api.github.com/users/Shakti2303/followers",
                    "following_url": "https://api.github.com/users/Shakti2303/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shakti2303/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shakti2303/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shakti2303/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shakti2303/orgs",
                    "repos_url": "https://api.github.com/users/Shakti2303/repos",
                    "events_url": "https://api.github.com/users/Shakti2303/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shakti2303/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-02T05:34:05Z",
                "updated_at": "2022-10-03T17:17:18Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n\r\n\r\nI have an angular project with Yarn (3.2.3) installed. While running `yarn run format:check`, it reads .yarnrc.yml file and throws below error:\r\n```\r\n.yarnrc.yml: SyntaxError: ';' expected \r\n[error]   3 | npmRegistryServer: 'SOME_SERVER'\r\n[error]   4 | npmScopes:\r\n[error] > 5 |   \"my-private-repo\":\r\n[error]     |                      ^\r\n[error]   6 |     npmRegistryServer: 'SOME_SERVER'\r\n[error]   7 |   ionic:\r\n[error]   8 |     npmRegistryServer: 'SOME_SERVER'\r\n```\r\n\r\n### To reproduce\r\n\r\nHere is my .yarnrc.yml configuration:\r\n```yaml\r\nyarnPath: \".yarn/releases/yarn-3.2.3.cjs\"\r\nnodeLinker: node-modules\r\nnpmRegistryServer: 'SOME_SERVER'\r\nnpmScopes:\r\n  \"my-private-repo\":\r\n    npmRegistryServer: 'SOME_SERVER'\r\n  ionic:\r\n    npmRegistryServer: 'SOME_SERVER'\r\nenableStrictSsl: false\r\nhttpRetry: 2\r\nhttpTimeout: 60000\r\n```\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?\r\n\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nNode Version : 14.15.4\r\nYarn : 3.2.3\r\nmacOS : 11.6.5\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265774562",
                "html_url": "https://github.com/yarnpkg/berry/issues/4808#issuecomment-1265774562",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808",
                "id": 1265774562,
                "node_id": "IC_kwDOCNXKfM5Lci_i",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-03T17:17:18Z",
                "updated_at": "2022-10-03T17:17:18Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265774562/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-03T17:17:18Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24356608752",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-10-03T08:03:51Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\r\n\r\n### To reproduce\r\n\r\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\n# With Corepack disabled, we need to get Yarn from somewhere else\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\r\n\r\nwith the following package.json:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n\r\nAs you can see, the version used for `yarn pack` is different:\r\n- with Corepack _enabled_, it's using v1.22.15\r\n- with Corepack _disabled_, it's using v2+, I think?\r\n\r\nNote that I have a global Yarn install from Homebrew:\r\n```sh\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n```\r\n\r\nThe same happens when Yarn is installed through npm (as per the Dockerfile repro).\r\n\r\nAnother interesting finding: no matter if Corepack is enabled or disabled, the Yarn binary & version stays the same:\r\n```sh\r\n# From my home directory\r\n# Results are the same from within my project directory, except the version is 3.2.3 there\r\n$ corepack disable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n$ corepack enable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265078078",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1265078078",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1265078078,
                "node_id": "IC_kwDOCNXKfM5LZ48-",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-03T08:03:51Z",
                "updated_at": "2022-10-03T08:03:51Z",
                "author_association": "COLLABORATOR",
                "body": "The reproduction case in your issue seems broken (ie it neither pass nor fail due to throwing an unmanaged exception):\n```\nError: spawn /usr/bin/corepack ENOENT\n\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n    at onErrorNT (node:internal/child_process:478:16)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\n```\n\nRemember: any non-Jest exceptions will cause the test to be reported as broken. If you expect something to pass without throwing, you must wrap it into something like `await expect(...).resolves.toBeTruthy()`. If you instead expect something to throw, you need to wrap it into `await expect(...).rejects.toThrow()`.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265078078/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-03T08:03:51Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24356478734",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-10-03T07:57:23Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\r\n\r\n### To reproduce\r\n\r\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\n# With Corepack disabled, we need to get Yarn from somewhere else\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\r\n\r\nwith the following package.json:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n\r\nAs you can see, the version used for `yarn pack` is different:\r\n- with Corepack _enabled_, it's using v1.22.15\r\n- with Corepack _disabled_, it's using v2+, I think?\r\n\r\nNote that I have a global Yarn install from Homebrew:\r\n```sh\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n```\r\n\r\nThe same happens when Yarn is installed through npm (as per the Dockerfile repro)",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265070925",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1265070925",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1265070925,
                "node_id": "IC_kwDOCNXKfM5LZ3NN",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-03T07:57:23Z",
                "updated_at": "2022-10-03T07:57:23Z",
                "author_association": "COLLABORATOR",
                "body": "The reproduction case in your issue seems broken (ie it neither pass nor fail due to throwing an unmanaged exception):\n```\nError: spawn /usr/bin/corepack ENOENT\n\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n    at onErrorNT (node:internal/child_process:478:16)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\n```\n\nRemember: any non-Jest exceptions will cause the test to be reported as broken. If you expect something to pass without throwing, you must wrap it into something like `await expect(...).resolves.toBeTruthy()`. If you instead expect something to throw, you need to wrap it into `await expect(...).rejects.toThrow()`.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265070925/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-03T07:57:24Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24336327345",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4799",
                "id": 1352936412,
                "node_id": "I_kwDOCNXKfM5QpCvc",
                "number": 4799,
                "title": "[Bug?]: yarn version applied wrong prelease version",
                "user": {
                    "login": "Brooooooklyn",
                    "id": 3468483,
                    "node_id": "MDQ6VXNlcjM0Njg0ODM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3468483?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Brooooooklyn",
                    "html_url": "https://github.com/Brooooooklyn",
                    "followers_url": "https://api.github.com/users/Brooooooklyn/followers",
                    "following_url": "https://api.github.com/users/Brooooooklyn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Brooooooklyn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Brooooooklyn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Brooooooklyn/subscriptions",
                    "organizations_url": "https://api.github.com/users/Brooooooklyn/orgs",
                    "repos_url": "https://api.github.com/users/Brooooooklyn/repos",
                    "events_url": "https://api.github.com/users/Brooooooklyn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Brooooooklyn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-27T04:17:37Z",
                "updated_at": "2022-10-01T05:29:15Z",
                "closed_at": "2022-10-01T05:29:15Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nCurrent version: `0.0.1-alpha.0`\r\n\r\nRun command: `yarn version 0.0.1-alpha.1 -d && yarn version apply --all`\r\n\r\nThe version became `0.0.1-0`\r\n\r\nIt should be `0.0.1-alpha.1`\r\n\r\n### Environment\r\n\r\n```shell\r\nos: macos 12\r\nnode: 16.17.0\r\nyarn: 3.2.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-01T05:29:15Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24320283755",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4797",
                "id": 1352023722,
                "node_id": "I_kwDOCNXKfM5Qlj6q",
                "number": 4797,
                "title": "[Bug?]: Error: Release not found",
                "user": {
                    "login": "jweboy",
                    "id": 16516645,
                    "node_id": "MDQ6VXNlcjE2NTE2NjQ1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16516645?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jweboy",
                    "html_url": "https://github.com/jweboy",
                    "followers_url": "https://api.github.com/users/jweboy/followers",
                    "following_url": "https://api.github.com/users/jweboy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jweboy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jweboy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jweboy/subscriptions",
                    "organizations_url": "https://api.github.com/users/jweboy/orgs",
                    "repos_url": "https://api.github.com/users/jweboy/repos",
                    "events_url": "https://api.github.com/users/jweboy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jweboy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-26T09:42:32Z",
                "updated_at": "2022-09-30T10:05:52Z",
                "closed_at": "2022-09-30T10:05:52Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nyarn set version /berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\nyarn set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\n```bash\r\nArguments:\r\n  /Users/jianglei/.volta/tools/image/node/16.15.0/bin/node /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin/yarn.js set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n\r\nPATH:\r\n  /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin:/Users/jianglei/.volta/tools/image/node/16.15.0/bin:/Users/jianglei/.volta/bin:/Users/jianglei/bin:/Users/jianglei/.deno/bin:/Users/jianglei/.nvs/default/bin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/jianglei/.cargo/bin:/Users/jianglei/Development/flutter/bin:/Users/jianglei/.pub-cache/bin:/Users/jianglei/Development/golang/bin:/usr/local/opt/go/libexec/bin:/Users/jianglei/Development/Docker:/Users/jianglei/Development/emsdk:/Users/jianglei/Development/ngrok\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\r\n\r\nTrace:\r\n  Error: Release not found: https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:86351:17\r\n      at Generator.next (<anonymous>)\r\n      at step (/Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:310:30)\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:321:13\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```\n\n### To reproduce\n\n-\n\n### Environment\n\n```shell\nmacOS\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-09-30T10:05:53Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24315904931",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4920",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4920",
                "id": 1391877191,
                "node_id": "I_kwDOCNXKfM5S9lxH",
                "number": 4920,
                "title": "[Bug?]: `fs.promises.open` doesn't throw `ENOENT` when path doesn't exist",
                "user": {
                    "login": "alvinleung1996",
                    "id": 17541320,
                    "node_id": "MDQ6VXNlcjE3NTQxMzIw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17541320?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alvinleung1996",
                    "html_url": "https://github.com/alvinleung1996",
                    "followers_url": "https://api.github.com/users/alvinleung1996/followers",
                    "following_url": "https://api.github.com/users/alvinleung1996/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alvinleung1996/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alvinleung1996/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alvinleung1996/subscriptions",
                    "organizations_url": "https://api.github.com/users/alvinleung1996/orgs",
                    "repos_url": "https://api.github.com/users/alvinleung1996/repos",
                    "events_url": "https://api.github.com/users/alvinleung1996/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alvinleung1996/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-30T06:02:56Z",
                "updated_at": "2022-09-30T06:15:07Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`fs.promises.open` resolves with a `FileHandle` object when given an non-existing file path.\r\n\r\nThe correct behavior should be throwing an error with code `ENOENT`.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    'tslib': '*',\r\n  },\r\n})\r\n\r\nconst realPath = await node(`require.resolve('tslib/package.json')`)\r\nconst fakePath = `${realPath}.fake`\r\n\r\nconst result = await node(`\r\n  require('fs/promises')\r\n    .open(${JSON.stringify(fakePath)})\r\n    .then(() => 'resolved')\r\n    .catch((err) => \\`rejected: \\${err.code}\\`)\r\n`)\r\nexpect(result).toBe('rejected: ENOENT')\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n  OS: Linux 5.10 Alpine Linux\r\n  CPU: (8) x64 Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\r\nBinaries:\r\n  Node: 16.17.1 - /tmp/xfs-28478f54/node\r\n  Yarn: 3.2.3 - /tmp/xfs-28478f54/yarn\r\n  npm: 8.15.0 - /usr/local/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1263148601",
                "html_url": "https://github.com/yarnpkg/berry/issues/4920#issuecomment-1263148601",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920",
                "id": 1263148601,
                "node_id": "IC_kwDOCNXKfM5LSh45",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-30T06:15:06Z",
                "updated_at": "2022-09-30T06:15:06Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"rejected: ENOENT\"\nReceived: \"resolved\"\n    at module.exports (evalmachine.<anonymous>:17:16)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1263148601/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-30T06:15:07Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24308872047",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4795",
                "id": 1351340797,
                "node_id": "I_kwDOCNXKfM5Qi9L9",
                "number": 4795,
                "title": "[Bug?]: Spaces in Windows username causes yarn create to fail",
                "user": {
                    "login": "Miladiir",
                    "id": 1358063,
                    "node_id": "MDQ6VXNlcjEzNTgwNjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1358063?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Miladiir",
                    "html_url": "https://github.com/Miladiir",
                    "followers_url": "https://api.github.com/users/Miladiir/followers",
                    "following_url": "https://api.github.com/users/Miladiir/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Miladiir/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Miladiir/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Miladiir/subscriptions",
                    "organizations_url": "https://api.github.com/users/Miladiir/orgs",
                    "repos_url": "https://api.github.com/users/Miladiir/repos",
                    "events_url": "https://api.github.com/users/Miladiir/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Miladiir/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-25T19:11:40Z",
                "updated_at": "2022-09-29T20:05:25Z",
                "closed_at": "2022-09-29T20:05:25Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n### To reproduce\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n1. Install Windows, e.g. 10 or 11\r\n2. Create a user with a space in the name\r\n3. Try to use yarn for anything, e.g. `yarn create vite`\r\n4. Boom\r\n\r\n### Environment\r\n\r\n`yarn dlx -q envinfo --preset jest` fails for me aswell.\r\nIt's a windows machine. My username contains a space, which is perfectly fine for npm, npx etc.\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-09-29T20:05:25Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24280125668",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11165131328,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "c26001a65a997dc5c2b3f219a12cb51247d7d50e",
            "before": "3092cfc155ad8eaadcf663c11816f7b73ec9922a",
            "commits": [
                {
                    "sha": "74eb9033d56c3bf208cf8ea0c624e1e4a9c0f631",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.22` |\n| `@yarnpkg/core` | `4.0.0-rc.22` |\n| `@yarnpkg/parsers` | `3.0.0-rc.22` |\n| `@yarnpkg/shell` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.22` |\n| `@yarnpkg/extensions` | `2.0.0-rc.4` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.22` |\n| `@yarnpkg/pnp` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.22` |\n| `@yarnpkg/sdks` | `3.0.0-rc.22` |\n| `@yarnpkg/fslib` | `3.0.0-rc.22` |\n| `@yarnpkg/libui` | `3.0.0-rc.22` |\n| `@yarnpkg/libzip` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.22` |\n| `vscode-zipfs` | `2.6.0-rc.11` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.22` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.22` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.22` |\n| `@yarnpkg/builder` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.22` |\n| `@yarnpkg/nm` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.22` |\n| `@yarnpkg/doctor` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.22` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/74eb9033d56c3bf208cf8ea0c624e1e4a9c0f631"
                },
                {
                    "sha": "c26001a65a997dc5c2b3f219a12cb51247d7d50e",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/c26001a65a997dc5c2b3f219a12cb51247d7d50e"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-28T16:39:14Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24280087851",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-09-28T16:37:20Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\n\n### To reproduce\n\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\n```\n\n\n### Additional context\n\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1261167898",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1261167898",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1261167898,
                "node_id": "IC_kwDOCNXKfM5LK-Ua",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-28T16:37:20Z",
                "updated_at": "2022-09-28T16:37:20Z",
                "author_association": "COLLABORATOR",
                "body": "The reproduction case in your issue seems broken (ie it neither pass nor fail due to throwing an unmanaged exception):\n```\nError: spawn /usr/bin/corepack ENOENT\n\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n    at onErrorNT (node:internal/child_process:478:16)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\n```\n\nRemember: any non-Jest exceptions will cause the test to be reported as broken. If you expect something to pass without throwing, you must wrap it into something like `await expect(...).resolves.toBeTruthy()`. If you instead expect something to throw, you need to wrap it into `await expect(...).rejects.toThrow()`.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1261167898/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-28T16:37:21Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24243881090",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909",
                "id": 1387379336,
                "node_id": "I_kwDOCNXKfM5SsbqI",
                "number": 4909,
                "title": "[Bug?]: ENOENT when trying to install a package tarball that references another tarball",
                "user": {
                    "login": "AlCalzone",
                    "id": 17641229,
                    "node_id": "MDQ6VXNlcjE3NjQxMjI5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17641229?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/AlCalzone",
                    "html_url": "https://github.com/AlCalzone",
                    "followers_url": "https://api.github.com/users/AlCalzone/followers",
                    "following_url": "https://api.github.com/users/AlCalzone/following{/other_user}",
                    "gists_url": "https://api.github.com/users/AlCalzone/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/AlCalzone/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/AlCalzone/subscriptions",
                    "organizations_url": "https://api.github.com/users/AlCalzone/orgs",
                    "repos_url": "https://api.github.com/users/AlCalzone/repos",
                    "events_url": "https://api.github.com/users/AlCalzone/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/AlCalzone/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-27T08:52:49Z",
                "updated_at": "2022-09-27T08:59:51Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to install a package tarball that references another package tarball via a relative path, yarn fails to resolve the referenced tarball. To reproduce, create the following file structure:\r\n* `package.json`, references `file:./package-2.tgz`\r\n* `package-2.tgz`, contains a file `package/package.json` which references `file:./package-1.tgz`\r\n* `package-1.tgz`, contains another file `package/package.json`\r\n\r\nIt looks like yarn tries resolving from the installed location (node_modules) instead of the source tarball location. The same works fine when using `npm`, or when using absolute paths (`file:/path/to/package-1.tgz`) with yarn.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2();\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2() {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': 'file:./package-1.tgz'\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.15 Ubuntu 22.04.1 LTS 22.04.1 LTS (Jammy Jellyfish)\r\n    CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Binaries:\r\n    Node: 16.17.0 - /tmp/xfs-5b1c2183/node\r\n    Yarn: 3.2.3 - /tmp/xfs-5b1c2183/yarn\r\n    npm: 8.19.2 - /usr/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThis does NOT fail, since `package-2` references `package-1` via an absolute path:\r\n\r\n```js\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2(tar1);\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2(tar1Path) {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': `file:${tar1Path}`\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259200793",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909#issuecomment-1259200793",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "id": 1259200793,
                "node_id": "IC_kwDOCNXKfM5LDeEZ",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-27T08:59:51Z",
                "updated_at": "2022-09-27T08:59:51Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js install\n\n\u27a4 YN0000: \u250c Resolution step\n::group::Resolution step\n\u27a4 YN0001: \u2502 Error: package-1@file:./package-1.tgz::locator=package-2%40file%3A%2Ftmp%2Ftmp-17RoKWjEH5N53Z%2Fpackage-2.tgz%3A%3Alocator%3Dapplication%2540workspace%253A.: ENOENT: no such file or directory, open 'node_modules/package-2/package-1.tgz'\n    at makeError (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:2:24)\n    at Object.ENOENT (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:22:10)\n    at ZipFS.readFileBuffer (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1447:20)\n    at ZipFS.readFilePromise (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1420:29)\n    at LazyFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at AliasFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at TarballFileFetcher.fetchFromDisk (/github/workspace/packages/plugin-file/sources/TarballFileFetcher.ts:62:41)\n    at loadPackageThroughMirror (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:252:23)\n    at loadPackage (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:268:58)\n    at loadPackageThroughMutex (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:350:16)\n::endgroup::\n\u27a4 YN0000: \u2514 Completed in 0s 383ms\n\u27a4 YN0000: Failed with errors in 0s 386ms\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:20:7)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259200793/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-27T08:59:51Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24243786994",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909",
                "id": 1387379336,
                "node_id": "I_kwDOCNXKfM5SsbqI",
                "number": 4909,
                "title": "[Bug?]: ENOENT when trying to install a package tarball that references another tarball",
                "user": {
                    "login": "AlCalzone",
                    "id": 17641229,
                    "node_id": "MDQ6VXNlcjE3NjQxMjI5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17641229?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/AlCalzone",
                    "html_url": "https://github.com/AlCalzone",
                    "followers_url": "https://api.github.com/users/AlCalzone/followers",
                    "following_url": "https://api.github.com/users/AlCalzone/following{/other_user}",
                    "gists_url": "https://api.github.com/users/AlCalzone/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/AlCalzone/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/AlCalzone/subscriptions",
                    "organizations_url": "https://api.github.com/users/AlCalzone/orgs",
                    "repos_url": "https://api.github.com/users/AlCalzone/repos",
                    "events_url": "https://api.github.com/users/AlCalzone/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/AlCalzone/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-27T08:52:49Z",
                "updated_at": "2022-09-27T08:55:41Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to install a package tarball that references another package tarball via a relative path, yarn fails to resolve the referenced tarball. To reproduce, create the following file structure:\r\n* `package.json`, references `file:./package-2.tgz`\r\n* `package-2.tgz`, contains `package/package.json` which references `file:./package-1.tgz`\r\n* `package-1.tgz`, contains `package/package.json`\r\n\r\nIt looks like yarn tries resolving from the installed location (node_modules) instead of the source tarball location. The same works fine when using `npm`, or when using absolute paths (`file:/path/to/package-1.tgz`) with yarn.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2();\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2() {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': 'file:./package-1.tgz'\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.15 Ubuntu 22.04.1 LTS 22.04.1 LTS (Jammy Jellyfish)\r\n    CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Binaries:\r\n    Node: 16.17.0 - /tmp/xfs-5b1c2183/node\r\n    Yarn: 3.2.3 - /tmp/xfs-5b1c2183/yarn\r\n    npm: 8.19.2 - /usr/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThis does NOT fail, since `package-2` references `package-1` via an absolute path:\r\n\r\n```js\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2(tar1);\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2(tar1Path) {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': `file:${tar1Path}`\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259196129",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909#issuecomment-1259196129",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "id": 1259196129,
                "node_id": "IC_kwDOCNXKfM5LDc7h",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-27T08:55:40Z",
                "updated_at": "2022-09-27T08:55:40Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js install\n\n\u27a4 YN0000: \u250c Resolution step\n::group::Resolution step\n\u27a4 YN0001: \u2502 Error: package-1@file:./package-1.tgz::locator=package-2%40file%3A%2Ftmp%2Ftmp-17RboMfTN62WRn%2Fpackage-2.tgz%3A%3Alocator%3Dapplication%2540workspace%253A.: ENOENT: no such file or directory, open 'node_modules/package-2/package-1.tgz'\n    at makeError (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:2:24)\n    at Object.ENOENT (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:22:10)\n    at ZipFS.readFileBuffer (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1447:20)\n    at ZipFS.readFilePromise (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1420:29)\n    at LazyFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at AliasFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at TarballFileFetcher.fetchFromDisk (/github/workspace/packages/plugin-file/sources/TarballFileFetcher.ts:62:41)\n    at loadPackageThroughMirror (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:252:23)\n    at loadPackage (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:268:58)\n    at loadPackageThroughMutex (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:350:16)\n::endgroup::\n\u27a4 YN0000: \u2514 Completed in 0s 378ms\n\u27a4 YN0000: Failed with errors in 0s 382ms\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:20:7)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259196129/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-27T08:55:41Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24239334025",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908",
                "id": 1387063752,
                "node_id": "I_kwDOCNXKfM5SrOnI",
                "number": 4908,
                "title": "[Bug?]: --cwd does not work with relative paths",
                "user": {
                    "login": "Shayan-To",
                    "id": 12458563,
                    "node_id": "MDQ6VXNlcjEyNDU4NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12458563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shayan-To",
                    "html_url": "https://github.com/Shayan-To",
                    "followers_url": "https://api.github.com/users/Shayan-To/followers",
                    "following_url": "https://api.github.com/users/Shayan-To/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shayan-To/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shayan-To/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shayan-To/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shayan-To/orgs",
                    "repos_url": "https://api.github.com/users/Shayan-To/repos",
                    "events_url": "https://api.github.com/users/Shayan-To/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shayan-To/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-27T04:29:58Z",
                "updated_at": "2022-09-27T04:32:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen using `--cwd` with a relative path, yarn seems to resolve the relative path twice (or even more times when `.../subdir/subdir` actually is a directory!). So running `yarn --cwd subdir`, it tries to access `.../subdir/subdir` and then it gives an error that the path does not exist.\n\n### To reproduce\n\n```js repro\r\nconst { mkdir } = require(\"fs/promises\");\r\n\r\nawait mkdir(\"subdir\");\r\nawait expect(yarn(\"--cwd\", \"subdir\", \"init\")).resolves.not.toThrow();\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-3537U CPU @ 2.00GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-ebd4110f/node\r\n    Yarn: 3.2.0 - /tmp/xfs-ebd4110f/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1258956225",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908#issuecomment-1258956225",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "id": 1258956225,
                "node_id": "IC_kwDOCNXKfM5LCiXB",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-27T04:32:04Z",
                "updated_at": "2022-09-27T04:32:04Z",
                "author_association": "COLLABORATOR",
                "body": "We couldn't reproduce your issue (all the assertions passed on master).",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1258956225/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-27T04:32:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24218153355",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11134755534,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "8ff27df294a3bf056d26675f12d85aeb553d8402",
            "before": "23873788ed56b0c3d41ab8a2f7b774084c0309df",
            "commits": [
                {
                    "sha": "6ab69dda2872ef39540619f89b52dec67f604222",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.21` |\n| `@yarnpkg/core` | `4.0.0-rc.21` |\n| `@yarnpkg/parsers` | `3.0.0-rc.21` |\n| `@yarnpkg/shell` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.21` |\n| `@yarnpkg/extensions` | `2.0.0-rc.3` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.21` |\n| `@yarnpkg/pnp` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.21` |\n| `@yarnpkg/sdks` | `3.0.0-rc.21` |\n| `@yarnpkg/fslib` | `3.0.0-rc.21` |\n| `@yarnpkg/libui` | `3.0.0-rc.21` |\n| `@yarnpkg/libzip` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.21` |\n| `vscode-zipfs` | `2.6.0-rc.10` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.21` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.21` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.21` |\n| `@yarnpkg/builder` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.21` |\n| `@yarnpkg/nm` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.21` |\n| `@yarnpkg/doctor` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.21` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/6ab69dda2872ef39540619f89b52dec67f604222"
                },
                {
                    "sha": "8ff27df294a3bf056d26675f12d85aeb553d8402",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/8ff27df294a3bf056d26675f12d85aeb553d8402"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-26T08:37:39Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24214405510",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4799",
                "id": 1352936412,
                "node_id": "I_kwDOCNXKfM5QpCvc",
                "number": 4799,
                "title": "[Bug?]: yarn version applied wrong prelease version",
                "user": {
                    "login": "Brooooooklyn",
                    "id": 3468483,
                    "node_id": "MDQ6VXNlcjM0Njg0ODM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3468483?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Brooooooklyn",
                    "html_url": "https://github.com/Brooooooklyn",
                    "followers_url": "https://api.github.com/users/Brooooooklyn/followers",
                    "following_url": "https://api.github.com/users/Brooooooklyn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Brooooooklyn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Brooooooklyn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Brooooooklyn/subscriptions",
                    "organizations_url": "https://api.github.com/users/Brooooooklyn/orgs",
                    "repos_url": "https://api.github.com/users/Brooooooklyn/repos",
                    "events_url": "https://api.github.com/users/Brooooooklyn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Brooooooklyn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-08-27T04:17:37Z",
                "updated_at": "2022-09-26T04:44:08Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nCurrent version: `0.0.1-alpha.0`\r\n\r\nRun command: `yarn version 0.0.1-alpha.1 -d && yarn version apply --all`\r\n\r\nThe version became `0.0.1-0`\r\n\r\nIt should be `0.0.1-alpha.1`\r\n\r\n### Environment\r\n\r\n```shell\r\nos: macos 12\r\nnode: 16.17.0\r\nyarn: 3.2.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257474757",
                "html_url": "https://github.com/yarnpkg/berry/issues/4799#issuecomment-1257474757",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799",
                "id": 1257474757,
                "node_id": "IC_kwDOCNXKfM5K84rF",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-26T04:44:08Z",
                "updated_at": "2022-09-26T04:44:08Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257474757/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-26T04:44:08Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24206547670",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4797",
                "id": 1352023722,
                "node_id": "I_kwDOCNXKfM5Qlj6q",
                "number": 4797,
                "title": "[Bug?]: Error: Release not found",
                "user": {
                    "login": "jweboy",
                    "id": 16516645,
                    "node_id": "MDQ6VXNlcjE2NTE2NjQ1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16516645?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jweboy",
                    "html_url": "https://github.com/jweboy",
                    "followers_url": "https://api.github.com/users/jweboy/followers",
                    "following_url": "https://api.github.com/users/jweboy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jweboy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jweboy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jweboy/subscriptions",
                    "organizations_url": "https://api.github.com/users/jweboy/orgs",
                    "repos_url": "https://api.github.com/users/jweboy/repos",
                    "events_url": "https://api.github.com/users/jweboy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jweboy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-26T09:42:32Z",
                "updated_at": "2022-09-25T10:04:42Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nyarn set version /berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\nyarn set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\n```bash\r\nArguments:\r\n  /Users/jianglei/.volta/tools/image/node/16.15.0/bin/node /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin/yarn.js set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n\r\nPATH:\r\n  /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin:/Users/jianglei/.volta/tools/image/node/16.15.0/bin:/Users/jianglei/.volta/bin:/Users/jianglei/bin:/Users/jianglei/.deno/bin:/Users/jianglei/.nvs/default/bin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/jianglei/.cargo/bin:/Users/jianglei/Development/flutter/bin:/Users/jianglei/.pub-cache/bin:/Users/jianglei/Development/golang/bin:/usr/local/opt/go/libexec/bin:/Users/jianglei/Development/Docker:/Users/jianglei/Development/emsdk:/Users/jianglei/Development/ngrok\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\r\n\r\nTrace:\r\n  Error: Release not found: https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:86351:17\r\n      at Generator.next (<anonymous>)\r\n      at step (/Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:310:30)\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:321:13\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```\n\n### To reproduce\n\n-\n\n### Environment\n\n```shell\nmacOS\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257159922",
                "html_url": "https://github.com/yarnpkg/berry/issues/4797#issuecomment-1257159922",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797",
                "id": 1257159922,
                "node_id": "IC_kwDOCNXKfM5K7rzy",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-25T10:04:41Z",
                "updated_at": "2022-09-25T10:04:41Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257159922/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-25T10:04:42Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24202745554",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4795",
                "id": 1351340797,
                "node_id": "I_kwDOCNXKfM5Qi9L9",
                "number": 4795,
                "title": "[Bug?]: Spaces in Windows username causes yarn create to fail",
                "user": {
                    "login": "Miladiir",
                    "id": 1358063,
                    "node_id": "MDQ6VXNlcjEzNTgwNjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1358063?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Miladiir",
                    "html_url": "https://github.com/Miladiir",
                    "followers_url": "https://api.github.com/users/Miladiir/followers",
                    "following_url": "https://api.github.com/users/Miladiir/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Miladiir/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Miladiir/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Miladiir/subscriptions",
                    "organizations_url": "https://api.github.com/users/Miladiir/orgs",
                    "repos_url": "https://api.github.com/users/Miladiir/repos",
                    "events_url": "https://api.github.com/users/Miladiir/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Miladiir/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-25T19:11:40Z",
                "updated_at": "2022-09-24T20:04:54Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n### To reproduce\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n1. Install Windows, e.g. 10 or 11\r\n2. Create a user with a space in the name\r\n3. Try to use yarn for anything, e.g. `yarn create vite`\r\n4. Boom\r\n\r\n### Environment\r\n\r\n`yarn dlx -q envinfo --preset jest` fails for me aswell.\r\nIt's a windows machine. My username contains a space, which is perfectly fine for npm, npx etc.\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257056214",
                "html_url": "https://github.com/yarnpkg/berry/issues/4795#issuecomment-1257056214",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795",
                "id": 1257056214,
                "node_id": "IC_kwDOCNXKfM5K7SfW",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-24T20:04:54Z",
                "updated_at": "2022-09-24T20:04:54Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257056214/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-24T20:04:54Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24100869334",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4750",
                "id": 1339559287,
                "node_id": "I_kwDOCNXKfM5P2A13",
                "number": 4750,
                "title": "[Bug?]: install cache didn't save on cacheFolder",
                "user": {
                    "login": "bluelovers",
                    "id": 167966,
                    "node_id": "MDQ6VXNlcjE2Nzk2Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/167966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bluelovers",
                    "html_url": "https://github.com/bluelovers",
                    "followers_url": "https://api.github.com/users/bluelovers/followers",
                    "following_url": "https://api.github.com/users/bluelovers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bluelovers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bluelovers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bluelovers/subscriptions",
                    "organizations_url": "https://api.github.com/users/bluelovers/orgs",
                    "repos_url": "https://api.github.com/users/bluelovers/repos",
                    "events_url": "https://api.github.com/users/bluelovers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bluelovers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-15T21:58:00Z",
                "updated_at": "2022-09-20T00:24:46Z",
                "closed_at": "2022-09-20T00:24:46Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\ninstall cache didn't save on cacheFolder\r\n\r\n### To reproduce\r\n\r\n1. run yarn install\r\n\r\ncached file should save in `T:\\cache\\yarn-cache`\r\nbut it save at `C:\\Users\\User\\AppData\\Local\\Yarn\\Berry\\cache`\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nyarn-3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n~/.yarnrc.yml\r\n```\r\nnpmRegistryServer: \"https://registry.npmjs.org/\"\r\ncacheFolder: \"T:\\\\cache\\\\yarn-cache\"\r\nenableColors: true\r\nnodeLinker: node-modules\r\n\r\nplugins:\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-workspace-tools\"\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-interactive-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-interactive-tools\"\r\n\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184725032-c55ff5d5-1f98-4c2c-a895-16513a55f8d1.png)\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184726697-34a11ffd-8305-4e92-9f75-2b4793846f4a.png)\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-09-20T00:24:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24085675193",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11065566068,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "9d24ec2deb8f01b233f2d3f10e5dcbd185a77212",
            "before": "5d71ebccf1eae6e573083eddb8a17cc0971708dd",
            "commits": [
                {
                    "sha": "04808022cc15208a89e9f6cf5c7cbf489385f802",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.20` |\n| `@yarnpkg/core` | `4.0.0-rc.20` |\n| `@yarnpkg/parsers` | `3.0.0-rc.20` |\n| `@yarnpkg/shell` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.20` |\n| `@yarnpkg/extensions` | `2.0.0-rc.2` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.20` |\n| `@yarnpkg/pnp` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.20` |\n| `@yarnpkg/sdks` | `3.0.0-rc.20` |\n| `@yarnpkg/fslib` | `3.0.0-rc.20` |\n| `@yarnpkg/libui` | `3.0.0-rc.20` |\n| `@yarnpkg/libzip` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.20` |\n| `vscode-zipfs` | `2.6.0-rc.9` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.20` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.20` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.20` |\n| `@yarnpkg/builder` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.20` |\n| `@yarnpkg/nm` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.20` |\n| `@yarnpkg/doctor` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.20` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/04808022cc15208a89e9f6cf5c7cbf489385f802"
                },
                {
                    "sha": "9d24ec2deb8f01b233f2d3f10e5dcbd185a77212",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/9d24ec2deb8f01b233f2d3f10e5dcbd185a77212"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-19T10:41:56Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24085054856",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11065251652,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "1939f90630df68efab973b295d5547466218c101",
            "before": "bd18da32110bdb4a059188213c3ec8be37d8e6ea",
            "commits": [
                {
                    "sha": "d26b74a1b92d30caef946f89f7af818066c2774d",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.19` |\n| `@yarnpkg/core` | `4.0.0-rc.19` |\n| `@yarnpkg/parsers` | `3.0.0-rc.19` |\n| `@yarnpkg/shell` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.19` |\n| `@yarnpkg/extensions` | `2.0.0-rc.1` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.19` |\n| `@yarnpkg/pnp` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.19` |\n| `@yarnpkg/sdks` | `3.0.0-rc.19` |\n| `@yarnpkg/fslib` | `3.0.0-rc.19` |\n| `@yarnpkg/libui` | `3.0.0-rc.19` |\n| `@yarnpkg/libzip` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.19` |\n| `vscode-zipfs` | `2.6.0-rc.8` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.19` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.19` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.19` |\n| `@yarnpkg/builder` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.19` |\n| `@yarnpkg/nm` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.19` |\n| `@yarnpkg/doctor` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.19` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/d26b74a1b92d30caef946f89f7af818066c2774d"
                },
                {
                    "sha": "1939f90630df68efab973b295d5547466218c101",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/1939f90630df68efab973b295d5547466218c101"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-19T10:09:20Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24061226185",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4855",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4855",
                "id": 1376571194,
                "node_id": "I_kwDOCNXKfM5SDM86",
                "number": 4855,
                "title": "[Bug?]: Shrelock Playground gets stuck at \"running the repro\" state with errors in Console",
                "user": {
                    "login": "trivikr",
                    "id": 16024985,
                    "node_id": "MDQ6VXNlcjE2MDI0OTg1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16024985?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/trivikr",
                    "html_url": "https://github.com/trivikr",
                    "followers_url": "https://api.github.com/users/trivikr/followers",
                    "following_url": "https://api.github.com/users/trivikr/following{/other_user}",
                    "gists_url": "https://api.github.com/users/trivikr/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/trivikr/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/trivikr/subscriptions",
                    "organizations_url": "https://api.github.com/users/trivikr/orgs",
                    "repos_url": "https://api.github.com/users/trivikr/repos",
                    "events_url": "https://api.github.com/users/trivikr/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/trivikr/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-16T22:56:34Z",
                "updated_at": "2022-09-16T23:07:34Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nShrelock Playground gets stuck at \"running the repro\" state with errors in Console\r\n\r\n### To reproduce\r\n\r\nVisit Sherlock Playground at [viko0.sse.codesandbox.io](https://viko0.sse.codesandbox.io/)\r\n\r\nAdd an example code for repro, and press run:\r\n```js repro\r\nconst tscVersion = \"4.8.2\";\r\n\r\nawait packageJsonAndInstall({\r\n  name: \"test-tsc-version\",\r\n  devDependencies: {\r\n    [\"typescript\"]: tscVersion\r\n  }\r\n});\r\n\r\nconst tscVersionOutput = await expect(yarn(`tsc`, `--version`));\r\nexpect(tscVersionOutput).toEqual(expect.stringContaining(tscVersion));\r\n```\r\n\r\nNotice that CORS error is thrown in Console:\r\n```console\r\nAccess to fetch at 'https://viko0.sse.codesandbox.io/api/sherlock?code=const%20tscVersion%20%3D%20%224.8.2%22%3B%0A%0Aawait%20packageJsonAndInstall(%7B%0A%20%20name%3A%20%22test-tsc-version%22%2C%0A%20%20devDependencies%3A%20%7B%0A%20%20%20%20%5B%22typescript%22%5D%3A%20tscVersion%0A%20%20%7D%0A%7D)%3B%0A%0Aconst%20tscVersionOutput%20%3D%20await%20expect(yarn(%60tsc%60%2C%20%60--version%60))%3B%0Aexpect(tscVersionOutput).stringContaining(tscVersion)%3B' from origin 'https://yarnpkg.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n  OS: macOS 12.1\r\n  CPU: (8) arm64 Apple M1 Pro\r\nBrowsers:\r\n  Brave Browser: 105.1.43.89\r\n  Safari: 15.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n<img width=\"1367\" alt=\"sherlock-playground-running-the-repro\" src=\"https://user-images.githubusercontent.com/16024985/190827918-dcf79e8a-200f-49f1-b921-a21efbb5ca5e.png\">\r\n\r\n</details>",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1249926563",
                "html_url": "https://github.com/yarnpkg/berry/issues/4855#issuecomment-1249926563",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855",
                "id": 1249926563,
                "node_id": "IC_kwDOCNXKfM5KgF2j",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-16T23:07:34Z",
                "updated_at": "2022-09-16T23:07:34Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).toEqual(expected) // deep equality\n\nExpected: StringContaining \"4.8.2\"\nReceived: {\"lastCalledWith\": [Function throwingMatcher], \"lastReturnedWith\": [Function throwingMatcher], \"not\": {\"lastCalledWith\": [Function throwingMatcher], \"lastReturnedWith\": [Function throwingMatcher], \"nthCalledWith\": [Function throwingMatcher], \"nthReturnedWith\": [Function throwingMatcher], \"toBe\": [Function throwingMatcher], \"toBeCalled\": [Function throwingMatcher], \"toBeCalledTimes\": [Function throwingMatcher], \"toBeCalledWith\": [Function throwingMatcher], \"toBeCloseTo\": [Function throwingMatcher], \"toBeDefined\": [Function throwingMatcher], \"toBeFalsy\": [Function throwingMatcher], \"toBeGreaterThan\": [Function throwingMatcher], \"toBeGreaterThanOrEqual\": [Function throwingMatcher], \"toBeInstanceOf\": [Function throwingMatcher], \"toBeLessThan\": [Function throwingMatcher], \"toBeLessThanOrEqual\": [Function throwingMatcher], \"toBeNaN\": [Function throwingMatcher], \"toBeNull\": [Function throwingMatcher], \"toBeTruthy\": [Function throwingMatcher], \"toBeUndefined\": [Function throwingMatcher], \"toContain\": [Function throwingMatcher], \"toContainEqual\": [Function throwingMatcher], \"toEqual\": [Function throwingMatcher], \"toHaveBeenCalled\": [Function throwingMatcher], \"toHaveBeenCalledTimes\": [Function throwingMatcher], \"toHaveBeenCalledWith\": [Function throwingMatcher], \"toHaveBeenLastCalledWith\": [Function throwingMatcher], \"toHaveBeenNthCalledWith\": [Function throwingMatcher], \"toHaveLastReturnedWith\": [Function throwingMatcher], \"toHaveLength\": [Function throwingMatcher], \"toHaveNthReturnedWith\": [Function throwingMatcher], \"toHaveProperty\": [Function throwingMatcher], \"toHaveReturned\": [Function throwingMatcher], \"toHaveReturnedTimes\": [Function throwingMatcher], \"toHaveReturnedWith\": [Function throwingMatcher], \"toMatch\": [Function throwingMatcher], \"toMatchObject\": [Function throwingMatcher], \"toReturn\": [Function throwingMatcher], \"toReturnTimes\": [Function throwingMatcher], \"toReturnWith\": [Function throwingMatcher], \"toStrictEqual\": [Function throwingMatcher], \"toThrow\": [Function throwingMatcher], \"toThrowError\": [Function throwingMatcher]}, \"nthCalledWith\": [Function throwingMatcher], \"nthReturnedWith\": [Function throwingMatcher], \"rejects\": {\"lastCalledWith\": [Function anonymous], \"lastReturnedWith\": [Function anonymous], \"not\": [Object], \"nthCalledWith\": [Function anonymous], \"nthReturnedWith\": [Function anonymous], \"toBe\": [Function anonymous], \"toBeCalled\": [Function anonymous], \"toBeCalledTimes\": [Function anonymous], \"toBeCalledWith\": [Function anonymous], \"toBeCloseTo\": [Function anonymous], \"toBeDefined\": [Function anonymous], \"toBeFalsy\": [Function anonymous], \"toBeGreaterThan\": [Function anonymous], \"toBeGreaterThanOrEqual\": [Function anonymous], \"toBeInstanceOf\": [Function anonymous], \"toBeLessThan\": [Function anonymous], \"toBeLessThanOrEqual\": [Function anonymous], \"toBeNaN\": [Function anonymous], \"toBeNull\": [Function anonymous], \"toBeTruthy\": [Function anonymous], \"toBeUndefined\": [Function anonymous], \"toContain\": [Function anonymous], \"toContainEqual\": [Function anonymous], \"toEqual\": [Function anonymous], \"toHaveBeenCalled\": [Function anonymous], \"toHaveBeenCalledTimes\": [Function anonymous], \"toHaveBeenCalledWith\": [Function anonymous], \"toHaveBeenLastCalledWith\": [Function anonymous], \"toHaveBeenNthCalledWith\": [Function anonymous], \"toHaveLastReturnedWith\": [Function anonymous], \"toHaveLength\": [Function anonymous], \"toHaveNthReturnedWith\": [Function anonymous], \"toHaveProperty\": [Function anonymous], \"toHaveReturned\": [Function anonymous], \"toHaveReturnedTimes\": [Function anonymous], \"toHaveReturnedWith\": [Function anonymous], \"toMatch\": [Function anonymous], \"toMatchObject\": [Function anonymous], \"toReturn\": [Function anonymous], \"toReturnTimes\": [Function anonymous], \"toReturnWith\": [Function anonymous], \"toStrictEqual\": [Function anonymous], \"toThrow\": [Function anonymous], \"toThrowError\": [Function anonymous]}, \"resolves\": {\"lastCalledWith\": [Function anonymous], \"lastReturnedWith\": [Function anonymous], \"not\": [Object], \"nthCalledWith\": [Function anonymous], \"nthReturnedWith\": [Function anonymous], \"toBe\": [Function anonymous], \"toBeCalled\": [Function anonymous], \"toBeCalledTimes\": [Function anonymous], \"toBeCalledWith\": [Function anonymous], \"toBeCloseTo\": [Function anonymous], \"toBeDefined\": [Function anonymous], \"toBeFalsy\": [Function anonymous], \"toBeGreaterThan\": [Function anonymous], \"toBeGreaterThanOrEqual\": [Function anonymous], \"toBeInstanceOf\": [Function anonymous], \"toBeLessThan\": [Function anonymous], \"toBeLessThanOrEqual\": [Function anonymous], \"toBeNaN\": [Function anonymous], \"toBeNull\": [Function anonymous], \"toBeTruthy\": [Function anonymous], \"toBeUndefined\": [Function anonymous], \"toContain\": [Function anonymous], \"toContainEqual\": [Function anonymous], \"toEqual\": [Function anonymous], \"toHaveBeenCalled\": [Function anonymous], \"toHaveBeenCalledTimes\": [Function anonymous], \"toHaveBeenCalledWith\": [Function anonymous], \"toHaveBeenLastCalledWith\": [Function anonymous], \"toHaveBeenNthCalledWith\": [Function anonymous], \"toHaveLastReturnedWith\": [Function anonymous], \"toHaveLength\": [Function anonymous], \"toHaveNthReturnedWith\": [Function anonymous], \"toHaveProperty\": [Function anonymous], \"toHaveReturned\": [Function anonymous], \"toHaveReturnedTimes\": [Function anonymous], \"toHaveReturnedWith\": [Function anonymous], \"toMatch\": [Function anonymous], \"toMatchObject\": [Function anonymous], \"toReturn\": [Function anonymous], \"toReturnTimes\": [Function anonymous], \"toReturnWith\": [Function anonymous], \"toStrictEqual\": [Function anonymous], \"toThrow\": [Function anonymous], \"toThrowError\": [Function anonymous]}, \"toBe\": [Function throwingMatcher], \"toBeCalled\": [Function throwingMatcher], \"toBeCalledTimes\": [Function throwingMatcher], \"toBeCalledWith\": [Function throwingMatcher], \"toBeCloseTo\": [Function throwingMatcher], \"toBeDefined\": [Function throwingMatcher], \"toBeFalsy\": [Function throwingMatcher], \"toBeGreaterThan\": [Function throwingMatcher], \"toBeGreaterThanOrEqual\": [Function throwingMatcher], \"toBeInstanceOf\": [Function throwingMatcher], \"toBeLessThan\": [Function throwingMatcher], \"toBeLessThanOrEqual\": [Function throwingMatcher], \"toBeNaN\": [Function throwingMatcher], \"toBeNull\": [Function throwingMatcher], \"toBeTruthy\": [Function throwingMatcher], \"toBeUndefined\": [Function throwingMatcher], \"toContain\": [Function throwingMatcher], \"toContainEqual\": [Function throwingMatcher], \"toEqual\": [Function throwingMatcher], \"toHaveBeenCalled\": [Function throwingMatcher], \"toHaveBeenCalledTimes\": [Function throwingMatcher], \"toHaveBeenCalledWith\": [Function throwingMatcher], \"toHaveBeenLastCalledWith\": [Function throwingMatcher], \"toHaveBeenNthCalledWith\": [Function throwingMatcher], \"toHaveLastReturnedWith\": [Function throwingMatcher], \"toHaveLength\": [Function throwingMatcher], \"toHaveNthReturnedWith\": [Function throwingMatcher], \"toHaveProperty\": [Function throwingMatcher], \"toHaveReturned\": [Function throwingMatcher], \"toHaveReturnedTimes\": [Function throwingMatcher], \"toHaveReturnedWith\": [Function throwingMatcher], \"toMatch\": [Function throwingMatcher], \"toMatchObject\": [Function throwingMatcher], \"toReturn\": [Function throwingMatcher], \"toReturnTimes\": [Function throwingMatcher], \"toReturnWith\": [Function throwingMatcher], \"toStrictEqual\": [Function throwingMatcher], \"toThrow\": [Function throwingMatcher], \"toThrowError\": [Function throwingMatcher]}\n    at module.exports (evalmachine.<anonymous>:12:26)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1249926563/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-16T23:07:35Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24031705230",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760",
                "id": 1340346503,
                "node_id": "I_kwDOCNXKfM5P5BCH",
                "number": 4760,
                "title": "[Bug?]: Shrelock Playground gets stuck at \"checking the repo\" state with errors in Console",
                "user": {
                    "login": "trivikr",
                    "id": 16024985,
                    "node_id": "MDQ6VXNlcjE2MDI0OTg1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16024985?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/trivikr",
                    "html_url": "https://github.com/trivikr",
                    "followers_url": "https://api.github.com/users/trivikr/followers",
                    "following_url": "https://api.github.com/users/trivikr/following{/other_user}",
                    "gists_url": "https://api.github.com/users/trivikr/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/trivikr/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/trivikr/subscriptions",
                    "organizations_url": "https://api.github.com/users/trivikr/orgs",
                    "repos_url": "https://api.github.com/users/trivikr/repos",
                    "events_url": "https://api.github.com/users/trivikr/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/trivikr/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    },
                    {
                        "id": 2124593803,
                        "node_id": "MDU6TGFiZWwyMTI0NTkzODAz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/upholded",
                        "name": "upholded",
                        "color": "35d668",
                        "default": false,
                        "description": "Real issues without formal reproduction"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-08-16T13:19:17Z",
                "updated_at": "2022-09-15T15:30:14Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nShrelock Playground gets stuck at \"checking the repo\" state with errors in Console\r\n\r\n### To reproduce\r\n\r\nVisit Sherlock Playground at https://viko0.sse.codesandbox.io/\r\nNotice that several fetch and 404 errors are thrown when page loads.\r\n\r\nAdd an example code for repro, and press run:\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  \"name\": \"test-yarn-version\",\r\n  \"packageManager\": \"yarn@1.12.19\"\r\n});\r\n\r\nawait expect(yarn(`--version`)).resolves.toBe(\"1.12.19\");\r\n```\r\n\r\nNotice that CORS error is thrown in Console:\r\n```console\r\nAccess to fetch at 'https://viko0.sse.codesandbox.io/api/check-repo' from origin 'https://yarnpkg.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\r\n```\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n<img width=\"1512\" alt=\"Sherlock-playground-CORS-error\" src=\"https://user-images.githubusercontent.com/16024985/184889566-7fac7b88-9482-4bd0-8f9a-4ad79eaeb60a.png\">\r\n\r\n\r\n</details>\r\n\r\n### Environment\r\n\r\n```shell\r\n  System:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n  Browsers:\r\n    Brave Browser: 104.1.42.88\r\n    Safari: 15.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/reactions",
                    "total_count": 2,
                    "+1": 2,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248265956",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760#issuecomment-1248265956",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "id": 1248265956,
                "node_id": "IC_kwDOCNXKfM5KZwbk",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-15T15:30:14Z",
                "updated_at": "2022-09-15T15:30:14Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBe(expected) // Object.is equality\n\nExpected: \"1.12.19\"\nReceived: \"4.0.0-rc.18.dev\n\"\n    at Object.toBe (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:202:20)\n    at module.exports (evalmachine.<anonymous>:7:42)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248265956/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-15T15:30:15Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24029702330",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760",
                "id": 1340346503,
                "node_id": "I_kwDOCNXKfM5P5BCH",
                "number": 4760,
                "title": "[Bug?]: Shrelock Playground gets stuck at \"checking the repo\" state with errors in Console",
                "user": {
                    "login": "trivikr",
                    "id": 16024985,
                    "node_id": "MDQ6VXNlcjE2MDI0OTg1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16024985?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/trivikr",
                    "html_url": "https://github.com/trivikr",
                    "followers_url": "https://api.github.com/users/trivikr/followers",
                    "following_url": "https://api.github.com/users/trivikr/following{/other_user}",
                    "gists_url": "https://api.github.com/users/trivikr/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/trivikr/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/trivikr/subscriptions",
                    "organizations_url": "https://api.github.com/users/trivikr/orgs",
                    "repos_url": "https://api.github.com/users/trivikr/repos",
                    "events_url": "https://api.github.com/users/trivikr/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/trivikr/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-08-16T13:19:17Z",
                "updated_at": "2022-09-15T14:12:08Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nShrelock Playground gets stuck at \"checking the repo\" state with errors in Console\r\n\r\n### To reproduce\r\n\r\nVisit Sherlock Playground at https://viko0.sse.codesandbox.io/\r\nNotice that several fetch and 404 errors are thrown when page loads.\r\n\r\nAdd an example code for repro, and press run:\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  \"name\": \"test-yarn-version\",\r\n  \"packageManager\": \"yarn@1.12.19\"\r\n});\r\n\r\nawait expect(yarn(`--version`)).resolves.toBe(\"1.12.19\");\r\n```\r\n\r\nNotice that CORS error is thrown in Console:\r\n```console\r\nAccess to fetch at 'https://viko0.sse.codesandbox.io/api/check-repo' from origin 'https://yarnpkg.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\r\n```\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n<img width=\"1512\" alt=\"Sherlock-playground-CORS-error\" src=\"https://user-images.githubusercontent.com/16024985/184889566-7fac7b88-9482-4bd0-8f9a-4ad79eaeb60a.png\">\r\n\r\n\r\n</details>\r\n\r\n### Environment\r\n\r\n```shell\r\n  System:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n  Browsers:\r\n    Brave Browser: 104.1.42.88\r\n    Safari: 15.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/reactions",
                    "total_count": 2,
                    "+1": 2,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248159176",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760#issuecomment-1248159176",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "id": 1248159176,
                "node_id": "IC_kwDOCNXKfM5KZWXI",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-15T14:12:08Z",
                "updated_at": "2022-09-15T14:12:08Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248159176/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-15T14:12:08Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24014967758",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4750",
                "id": 1339559287,
                "node_id": "I_kwDOCNXKfM5P2A13",
                "number": 4750,
                "title": "[Bug?]: install cache didn't save on cacheFolder",
                "user": {
                    "login": "bluelovers",
                    "id": 167966,
                    "node_id": "MDQ6VXNlcjE2Nzk2Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/167966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bluelovers",
                    "html_url": "https://github.com/bluelovers",
                    "followers_url": "https://api.github.com/users/bluelovers/followers",
                    "following_url": "https://api.github.com/users/bluelovers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bluelovers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bluelovers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bluelovers/subscriptions",
                    "organizations_url": "https://api.github.com/users/bluelovers/orgs",
                    "repos_url": "https://api.github.com/users/bluelovers/repos",
                    "events_url": "https://api.github.com/users/bluelovers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bluelovers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-15T21:58:00Z",
                "updated_at": "2022-09-14T23:04:48Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\ninstall cache didn't save on cacheFolder\r\n\r\n### To reproduce\r\n\r\n1. run yarn install\r\n\r\ncached file should save in `T:\\cache\\yarn-cache`\r\nbut it save at `C:\\Users\\User\\AppData\\Local\\Yarn\\Berry\\cache`\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nyarn-3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n~/.yarnrc.yml\r\n```\r\nnpmRegistryServer: \"https://registry.npmjs.org/\"\r\ncacheFolder: \"T:\\\\cache\\\\yarn-cache\"\r\nenableColors: true\r\nnodeLinker: node-modules\r\n\r\nplugins:\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-workspace-tools\"\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-interactive-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-interactive-tools\"\r\n\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184725032-c55ff5d5-1f98-4c2c-a895-16513a55f8d1.png)\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184726697-34a11ffd-8305-4e92-9f75-2b4793846f4a.png)\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1247386820",
                "html_url": "https://github.com/yarnpkg/berry/issues/4750#issuecomment-1247386820",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750",
                "id": 1247386820,
                "node_id": "IC_kwDOCNXKfM5KWZzE",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-14T23:04:48Z",
                "updated_at": "2022-09-14T23:04:48Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1247386820/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-14T23:04:48Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24004977147",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4730",
                "id": 1334626317,
                "node_id": "I_kwDOCNXKfM5PjMgN",
                "number": 4730,
                "title": "[Bug?]: Alias packages cannot be fetched from registry",
                "user": {
                    "login": "Tom-O-Chan",
                    "id": 44817925,
                    "node_id": "MDQ6VXNlcjQ0ODE3OTI1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44817925?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Tom-O-Chan",
                    "html_url": "https://github.com/Tom-O-Chan",
                    "followers_url": "https://api.github.com/users/Tom-O-Chan/followers",
                    "following_url": "https://api.github.com/users/Tom-O-Chan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Tom-O-Chan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Tom-O-Chan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Tom-O-Chan/subscriptions",
                    "organizations_url": "https://api.github.com/users/Tom-O-Chan/orgs",
                    "repos_url": "https://api.github.com/users/Tom-O-Chan/repos",
                    "events_url": "https://api.github.com/users/Tom-O-Chan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Tom-O-Chan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-10T13:25:57Z",
                "updated_at": "2022-09-14T14:12:39Z",
                "closed_at": "2022-09-14T14:12:39Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to add a package using an alias, the following error occurs:\r\n```\r\n% yarn add custom@react    \r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0016: \u2502 custom@npm:react: Registry failed to return tag \"react\"\r\n\u27a4 YN0000: \u2514 Completed in 0s 283ms\r\n\u27a4 YN0000: Failed with errors in 0s 284ms\r\n```\r\n\r\nAccording to the [Protocols page](https://yarnpkg.com/features/protocols#table), this should be allowed\r\n\r\n### To reproduce\r\n\r\nRun `yarn add custom@react`\r\n\r\n```repro\r\nyarn add custom@react;\r\n```\r\n\r\n(Tried using the sandbox, but kept getting 502: Bad Gateway)\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\nBinaries:\r\n    Node: 14.18.3 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/node\r\n    Yarn: 3.2.1 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v14.18.3/bin/npm\r\nnpmPackages:\r\n    jest: ^28.1.2 => 28.1.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-09-14T14:12:40Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24003568155",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4749",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4749",
                "id": 1338979203,
                "node_id": "I_kwDOCNXKfM5PzzOD",
                "number": 4749,
                "title": "[Bug?]: prefersUnplugged should take precedence over pkg.conditions",
                "user": {
                    "login": "jonaskuske",
                    "id": 30421456,
                    "node_id": "MDQ6VXNlcjMwNDIxNDU2",
                    "avatar_url": "https://avatars.githubusercontent.com/u/30421456?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jonaskuske",
                    "html_url": "https://github.com/jonaskuske",
                    "followers_url": "https://api.github.com/users/jonaskuske/followers",
                    "following_url": "https://api.github.com/users/jonaskuske/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jonaskuske/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jonaskuske/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jonaskuske/subscriptions",
                    "organizations_url": "https://api.github.com/users/jonaskuske/orgs",
                    "repos_url": "https://api.github.com/users/jonaskuske/repos",
                    "events_url": "https://api.github.com/users/jonaskuske/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jonaskuske/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-08-15T13:06:00Z",
                "updated_at": "2022-09-14T13:19:30Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nIn this comment, esbuild was recommended to add `prefersUnplugged: false` to its optional platform-specific deps so they don't get extracted: https://github.com/yarnpkg/berry/issues/3317#issuecomment-925410441. And indeed, all esbuild variants include the `preferUnplugged` key: https://unpkg.com/browse/esbuild-linux-arm@0.15.3/package.json\r\n\r\nUnfortunately the `prefersUnplugged` key is ignored and all of the optional deps are extracted anyway, because the `pkg.conditions !== null` check takes precedence over `preferUnplugged`: https://github.com/yarnpkg/berry/blob/cf67f3a15052cf809cefcc0df58937874ad3c34d/packages/plugin-pnp/sources/PnpLinker.ts#L434-L438\r\n\r\nThese checks should be in reverse order. By reversing the two checks, everything works: `esbuild` is unplugged but its optional dependencies are not. When running esbuild, it copies the correct platform-specific binary into its writable, unplugged dir and executes it.\r\n\r\nAnd if you change the location where esbuild stores the platform-specific binary (as I proposed in this PR: https://github.com/evanw/esbuild/pull/2457), it even works with `enableScripts: false` and nothing unplugged.\n\n### To reproduce\n\n```bash\r\nmkdir repro && cd $_\r\nyarn init -2 -y\r\nyarn add esbuild\r\n# should be empty but prints opt dep:\r\nls .yarn/unplugged | grep -P 'esbuild-(?!(npm))'\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-8650U CPU @ 1.90GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-96532741/node\r\n    Yarn: 3.2.2 - /tmp/xfs-96532741/yarn\r\n    npm: 8.5.0 - /mnt/wslg/runtime-dir/fnm_multishells/15691_1660563665547/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1246755063",
                "html_url": "https://github.com/yarnpkg/berry/issues/4749#issuecomment-1246755063",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749",
                "id": 1246755063,
                "node_id": "IC_kwDOCNXKfM5KT_j3",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-14T13:19:30Z",
                "updated_at": "2022-09-14T13:19:30Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1246755063/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-14T13:19:30Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23960985473",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4719",
                "id": 1332154666,
                "node_id": "I_kwDOCNXKfM5PZxEq",
                "number": 4719,
                "title": "[Bug?]:  Yarn PnP and NextJS does not work with next-transpile-modules",
                "user": {
                    "login": "yaronvhop",
                    "id": 76743257,
                    "node_id": "MDQ6VXNlcjc2NzQzMjU3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/76743257?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yaronvhop",
                    "html_url": "https://github.com/yaronvhop",
                    "followers_url": "https://api.github.com/users/yaronvhop/followers",
                    "following_url": "https://api.github.com/users/yaronvhop/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yaronvhop/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yaronvhop/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yaronvhop/subscriptions",
                    "organizations_url": "https://api.github.com/users/yaronvhop/orgs",
                    "repos_url": "https://api.github.com/users/yaronvhop/repos",
                    "events_url": "https://api.github.com/users/yaronvhop/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yaronvhop/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-08T17:09:38Z",
                "updated_at": "2022-09-12T19:05:28Z",
                "closed_at": "2022-09-12T19:05:28Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ yes ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nHey,\r\nI am having issues with using NextJS with Yarn PNP. \r\nIt seems someone had the exact issue I had: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199\r\n\r\nI put more details in the issue with the comment: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199#issuecomment-1208377418\r\n\r\nIt seems NextJS spawn worker nodes, which causes the transpilation process to compare modules with different virtual paths \r\n\r\n/Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-6b51d9b693/1/packages/test-bb/index.ts /Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-eb81ca8611/1/packages/test-bb\r\n\r\nAnd not get transpiled. \r\n\r\nThanks!\r\n\r\n### To reproduce\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error\r\n\r\nNeed to run this:\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error/blob/master/packages/test-c/package.json#L6\r\n\r\ngoto http://127.0.0.1:3000/\r\n\r\nObserve module failing to transpile\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n OS: Mac 12.4\r\n CPU: M1 ARM x64\r\nNode: 16.16.0\r\nYarn: 3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-09-12T19:05:28Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23917805167",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4730",
                "id": 1334626317,
                "node_id": "I_kwDOCNXKfM5PjMgN",
                "number": 4730,
                "title": "[Bug?]: Alias packages cannot be fetched from registry",
                "user": {
                    "login": "Tom-O-Chan",
                    "id": 44817925,
                    "node_id": "MDQ6VXNlcjQ0ODE3OTI1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44817925?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Tom-O-Chan",
                    "html_url": "https://github.com/Tom-O-Chan",
                    "followers_url": "https://api.github.com/users/Tom-O-Chan/followers",
                    "following_url": "https://api.github.com/users/Tom-O-Chan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Tom-O-Chan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Tom-O-Chan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Tom-O-Chan/subscriptions",
                    "organizations_url": "https://api.github.com/users/Tom-O-Chan/orgs",
                    "repos_url": "https://api.github.com/users/Tom-O-Chan/repos",
                    "events_url": "https://api.github.com/users/Tom-O-Chan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Tom-O-Chan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-10T13:25:57Z",
                "updated_at": "2022-09-09T14:10:18Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to add a package using an alias, the following error occurs:\r\n```\r\n% yarn add custom@react    \r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0016: \u2502 custom@npm:react: Registry failed to return tag \"react\"\r\n\u27a4 YN0000: \u2514 Completed in 0s 283ms\r\n\u27a4 YN0000: Failed with errors in 0s 284ms\r\n```\r\n\r\nAccording to the [Protocols page](https://yarnpkg.com/features/protocols#table), this should be allowed\r\n\r\n### To reproduce\r\n\r\nRun `yarn add custom@react`\r\n\r\n```repro\r\nyarn add custom@react;\r\n```\r\n\r\n(Tried using the sandbox, but kept getting 502: Bad Gateway)\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\nBinaries:\r\n    Node: 14.18.3 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/node\r\n    Yarn: 3.2.1 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v14.18.3/bin/npm\r\nnpmPackages:\r\n    jest: ^28.1.2 => 28.1.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1242024200",
                "html_url": "https://github.com/yarnpkg/berry/issues/4730#issuecomment-1242024200",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730",
                "id": 1242024200,
                "node_id": "IC_kwDOCNXKfM5KB8kI",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-09T14:10:18Z",
                "updated_at": "2022-09-09T14:10:18Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1242024200/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-09T14:10:19Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23875954922",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4719",
                "id": 1332154666,
                "node_id": "I_kwDOCNXKfM5PZxEq",
                "number": 4719,
                "title": "[Bug?]:  Yarn PnP and NextJS does not work with next-transpile-modules",
                "user": {
                    "login": "yaronvhop",
                    "id": 76743257,
                    "node_id": "MDQ6VXNlcjc2NzQzMjU3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/76743257?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yaronvhop",
                    "html_url": "https://github.com/yaronvhop",
                    "followers_url": "https://api.github.com/users/yaronvhop/followers",
                    "following_url": "https://api.github.com/users/yaronvhop/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yaronvhop/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yaronvhop/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yaronvhop/subscriptions",
                    "organizations_url": "https://api.github.com/users/yaronvhop/orgs",
                    "repos_url": "https://api.github.com/users/yaronvhop/repos",
                    "events_url": "https://api.github.com/users/yaronvhop/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yaronvhop/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-08T17:09:38Z",
                "updated_at": "2022-09-07T19:04:44Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ yes ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nHey,\r\nI am having issues with using NextJS with Yarn PNP. \r\nIt seems someone had the exact issue I had: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199\r\n\r\nI put more details in the issue with the comment: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199#issuecomment-1208377418\r\n\r\nIt seems NextJS spawn worker nodes, which causes the transpilation process to compare modules with different virtual paths \r\n\r\n/Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-6b51d9b693/1/packages/test-bb/index.ts /Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-eb81ca8611/1/packages/test-bb\r\n\r\nAnd not get transpiled. \r\n\r\nThanks!\r\n\r\n### To reproduce\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error\r\n\r\nNeed to run this:\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error/blob/master/packages/test-c/package.json#L6\r\n\r\ngoto http://127.0.0.1:3000/\r\n\r\nObserve module failing to transpile\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n OS: Mac 12.4\r\n CPU: M1 ARM x64\r\nNode: 16.16.0\r\nYarn: 3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1239769477",
                "html_url": "https://github.com/yarnpkg/berry/issues/4719#issuecomment-1239769477",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719",
                "id": 1239769477,
                "node_id": "IC_kwDOCNXKfM5J5WGF",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-07T19:04:44Z",
                "updated_at": "2022-09-07T19:04:44Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1239769477/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-07T19:04:44Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23853645331",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4825",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4825",
                "id": 1363779757,
                "node_id": "I_kwDOCNXKfM5RSaCt",
                "number": 4825,
                "title": "[Bug?]: Attempting to add package with specific dist tag pattern(s) throws resolver error",
                "user": {
                    "login": "favna",
                    "id": 4019718,
                    "node_id": "MDQ6VXNlcjQwMTk3MTg=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4019718?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/favna",
                    "html_url": "https://github.com/favna",
                    "followers_url": "https://api.github.com/users/favna/followers",
                    "following_url": "https://api.github.com/users/favna/following{/other_user}",
                    "gists_url": "https://api.github.com/users/favna/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/favna/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/favna/subscriptions",
                    "organizations_url": "https://api.github.com/users/favna/orgs",
                    "repos_url": "https://api.github.com/users/favna/repos",
                    "events_url": "https://api.github.com/users/favna/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/favna/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-06T20:28:56Z",
                "updated_at": "2022-09-06T20:31:01Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nRecently it has come to my attention that if a package's dist-tag has a specific format, I.e. the regex format of `/v\\d{2}-[a-z]{1,}/` that yarn throws an error:\r\n\r\n```\r\n\u276f yarn add discord.js@v13-lts\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: discord.js@v13-lts isn't supported by any available resolver\r\n    at Bd.getResolverByDescriptor (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:391:1664)\r\n    at Bd.bindDescriptor (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:391:1053)\r\n    at ee (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:6954)\r\n    at async Promise.allSettled (index 0)\r\n    at async ho (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:390:10446)\r\n    at async /Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:8292\r\n    at async Je.startProgressPromise (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:390:48066)\r\n    at async ze.resolveEverything (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:6285)\r\n    at async /Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:442:2132\r\n    at async Je.startSectionPromise (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:409:3303)\r\n\u27a4 YN0000: \u2514 Completed\r\n\u27a4 YN0000: Failed with errors in 0s 17ms\r\n```\r\n\r\nLikewise the format of `/v\\d{2}/` also doesn't work:\r\n```\r\n\u276f yarn add @favware/skip-dependency@v13\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: @favware/skip-dependency@npm:v13: No candidates found\r\n    at ce (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:7864)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async Promise.allSettled (index 0)\r\n    at async ho (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:390:10446)\r\n\u27a4 YN0000: \u2514 Completed in 2s 593ms\r\n\u27a4 YN0000: Failed with errors in 2s 595ms\r\n```\r\n\r\nBoth of these dist-tags install just fine with Yarn v1, NPM and PNPM.\n\n### To reproduce\n\n```js repro\r\nconst installPromise = packageJsonAndInstall({\r\n  dependencies: {\r\n    [`discord.js`]: `v13-lts`,\r\n  },\r\n});\r\n\r\nawait expect(installPromise)\r\n  .resolves.toBeTruthy();\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M1\r\n  Binaries:\r\n    Node: 18.8.0 - /private/var/folders/jy/w45_1th97698mzgm_nsfl35w0000gn/T/xfs-de02679f/node\r\n    Yarn: 3.2.3 - /private/var/folders/jy/w45_1th97698mzgm_nsfl35w0000gn/T/xfs-de02679f/yarn\r\n    npm: 8.18.0 - ~/.volta/tools/image/node/18.8.0/bin/npm\n```\n\n\n### Additional context\n\nBesides the Sherlock reproduction the barest minimal way to reproduce the issue is by running:\r\n```sh\r\nyarn set version 3.2.3 && yarn add discord.js@v13-lts\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238619798",
                "html_url": "https://github.com/yarnpkg/berry/issues/4825#issuecomment-1238619798",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825",
                "id": 1238619798,
                "node_id": "IC_kwDOCNXKfM5J09aW",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-06T20:31:01Z",
                "updated_at": "2022-09-06T20:31:01Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js install\n\n\u27a4 YN0000: \u250c Resolution step\n::group::Resolution step\n\u27a4 YN0001: \u2502 Error: discord.js@v13-lts isn't supported by any available resolver\n    at MultiResolver.getResolverByDescriptor (/github/workspace/packages/yarnpkg-core/sources/MultiResolver.ts:73:13)\n    at MultiResolver.bindDescriptor (/github/workspace/packages/yarnpkg-core/sources/MultiResolver.ts:31:27)\n    at Project.preparePackage (/github/workspace/packages/yarnpkg-core/sources/Project.ts:674:30)\n    at startPackageResolution (/github/workspace/packages/yarnpkg-core/sources/Project.ts:760:21)\n::endgroup::\n\u27a4 YN0000: \u2514 Completed\n\u27a4 YN0000: Failed with errors in 0s 96ms\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:8:7)\n    at /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:19\n    at executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:22)\n    at executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:18)\n    at ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:76)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238619798/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-06T20:31:01Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23846226231",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824",
                "id": 1363352463,
                "node_id": "I_kwDOCNXKfM5RQxuP",
                "number": 4824,
                "title": "[Bug?]: peerdependency version being ignored?",
                "user": {
                    "login": "lucas-zimerman",
                    "id": 8229322,
                    "node_id": "MDQ6VXNlcjgyMjkzMjI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8229322?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lucas-zimerman",
                    "html_url": "https://github.com/lucas-zimerman",
                    "followers_url": "https://api.github.com/users/lucas-zimerman/followers",
                    "following_url": "https://api.github.com/users/lucas-zimerman/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lucas-zimerman/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lucas-zimerman/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lucas-zimerman/subscriptions",
                    "organizations_url": "https://api.github.com/users/lucas-zimerman/orgs",
                    "repos_url": "https://api.github.com/users/lucas-zimerman/repos",
                    "events_url": "https://api.github.com/users/lucas-zimerman/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lucas-zimerman/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-06T14:11:04Z",
                "updated_at": "2022-09-06T14:13:15Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am adding this as a bug since the behavior is different from npm.\r\nIn short, running the bellow command has different behaviors, npm adds @sentry/angular using the version defined on the peerDependency of @sentry/capacitor@0.9.0 where yarn ignores that version number and uses the latest version of the package.\r\n\r\n\r\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"packageManager\": \"yarn@3.2.3\",\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.12.1\",\r\n    \"@sentry/capacitor\": \"0.9.0\",\r\n  }\r\n}\r\n```\r\n\r\nnpm install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.8.1\",\r\n    \"@sentry/capacitor\": \"^0.9.0\"\r\n  }\r\n}\r\n```\r\n\r\nsentry angular is defined as a peer dependency here:\r\nhttps://github.com/getsentry/sentry-capacitor/blob/0.9.0/package.json#L40\r\n\r\nIf not a bug, it would be great to know how `yarn` could behave the same as `npm` in this case where users type for example `yarn add @sentry/capacitor @sentry/angular` where @sentry/capacitor has a peer dependency  version lower than the latest release of @sentry/angular.\n\n### To reproduce\n\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n\r\nno need to add additional code, the build will break because the types are incompatible with the latest version of @sentry/angular\r\n\r\n```js repro\r\n// Sherlock reproduction. For instance:\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    [`@sentry/capacitor`]: `0.9.0`,\r\n    [`@sentry/angular`]: ``,\r\n  },\r\n});\r\n```\r\n\n\n### Environment\n\n```shell\nSame was reproduced by other users on different machines.\r\n\r\n  System:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 18.7.0 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\node.CMD\r\n    Yarn: 3.2.3 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\yarn.CMD\r\n    npm: 8.19.1 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238210593",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824#issuecomment-1238210593",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "id": 1238210593,
                "node_id": "IC_kwDOCNXKfM5JzZgh",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-06T14:13:15Z",
                "updated_at": "2022-09-06T14:13:15Z",
                "author_association": "COLLABORATOR",
                "body": "We couldn't reproduce your issue (all the assertions passed on master).",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238210593/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-06T14:13:16Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23843221268",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10938815602,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "e175da2d0345ba362440f26cb0d3764e7b5a2f51",
            "before": "b6b8bb987ba737a9f5e5d687abfc50e812b9b485",
            "commits": [
                {
                    "sha": "28689a833fe41046ac709d09dd88a5a39b0d4efd",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.18` |\n| `@yarnpkg/core` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.18` |\n| `@yarnpkg/extensions` | `1.2.0-rc.5` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.18` |\n| `@yarnpkg/pnp` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.18` |\n| `@yarnpkg/sdks` | `3.0.0-rc.18` |\n| `@yarnpkg/fslib` | `3.0.0-rc.18` |\n| `@yarnpkg/libui` | `3.0.0-rc.18` |\n| `@yarnpkg/libzip` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.18` |\n| `vscode-zipfs` | `2.6.0-rc.7` |\n| `@yarnpkg/shell` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.18` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.18` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.18` |\n| `@yarnpkg/builder` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.18` |\n| `@yarnpkg/nm` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.18` |\n| `@yarnpkg/doctor` | `4.0.0-rc.18` |\n| `@yarnpkg/parsers` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.18` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/28689a833fe41046ac709d09dd88a5a39b0d4efd"
                },
                {
                    "sha": "e175da2d0345ba362440f26cb0d3764e7b5a2f51",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/e175da2d0345ba362440f26cb0d3764e7b5a2f51"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-06T12:08:15Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23840545675",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10937491004,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "4b66a530012ea07e453ea131d18afd806eaece4e",
            "before": "25abf76f121cb6449a5599e2838bfe333e68d6d9",
            "commits": [
                {
                    "sha": "74502147d85851d9746f40601dba6882778ee62a",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.17` |\n| `@yarnpkg/core` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.17` |\n| `@yarnpkg/extensions` | `1.2.0-rc.4` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.17` |\n| `@yarnpkg/pnp` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.17` |\n| `@yarnpkg/sdks` | `3.0.0-rc.17` |\n| `@yarnpkg/fslib` | `3.0.0-rc.17` |\n| `@yarnpkg/libui` | `3.0.0-rc.17` |\n| `@yarnpkg/libzip` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.17` |\n| `vscode-zipfs` | `2.6.0-rc.6` |\n| `@yarnpkg/shell` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.17` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.17` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.17` |\n| `@yarnpkg/builder` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.17` |\n| `@yarnpkg/nm` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.17` |\n| `@yarnpkg/doctor` | `4.0.0-rc.17` |\n| `@yarnpkg/parsers` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.17` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/74502147d85851d9746f40601dba6882778ee62a"
                },
                {
                    "sha": "4b66a530012ea07e453ea131d18afd806eaece4e",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/4b66a530012ea07e453ea131d18afd806eaece4e"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-06T09:51:31Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23839999006",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10937224221,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "0192dfd9197c09e301c236b8dd930e21ccf14d10",
            "before": "1ba23a6dd236969572468afeb309a227c814a324",
            "commits": [
                {
                    "sha": "fd9e3644ab70f2bd12a117982e3d64c624f322fc",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.16` |\n| `@yarnpkg/core` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.16` |\n| `@yarnpkg/extensions` | `1.2.0-rc.3` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.16` |\n| `@yarnpkg/pnp` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.16` |\n| `@yarnpkg/sdks` | `3.0.0-rc.16` |\n| `@yarnpkg/fslib` | `3.0.0-rc.16` |\n| `@yarnpkg/libui` | `3.0.0-rc.16` |\n| `@yarnpkg/libzip` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.16` |\n| `vscode-zipfs` | `2.6.0-rc.5` |\n| `@yarnpkg/shell` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.16` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.16` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.16` |\n| `@yarnpkg/builder` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.16` |\n| `@yarnpkg/nm` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.16` |\n| `@yarnpkg/doctor` | `4.0.0-rc.16` |\n| `@yarnpkg/parsers` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.16` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/fd9e3644ab70f2bd12a117982e3d64c624f322fc"
                },
                {
                    "sha": "0192dfd9197c09e301c236b8dd930e21ccf14d10",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/0192dfd9197c09e301c236b8dd930e21ccf14d10"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-06T09:26:56Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23832773263",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4670",
                "id": 1318166906,
                "node_id": "I_kwDOCNXKfM5OkaF6",
                "number": 4670,
                "title": "[Bug?]: yarn workspaces pnp vs node-modules linker",
                "user": {
                    "login": "alex-enchi",
                    "id": 24417201,
                    "node_id": "MDQ6VXNlcjI0NDE3MjAx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24417201?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alex-enchi",
                    "html_url": "https://github.com/alex-enchi",
                    "followers_url": "https://api.github.com/users/alex-enchi/followers",
                    "following_url": "https://api.github.com/users/alex-enchi/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alex-enchi/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alex-enchi/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alex-enchi/subscriptions",
                    "organizations_url": "https://api.github.com/users/alex-enchi/orgs",
                    "repos_url": "https://api.github.com/users/alex-enchi/repos",
                    "events_url": "https://api.github.com/users/alex-enchi/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alex-enchi/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-07-26T12:25:15Z",
                "updated_at": "2022-09-06T00:21:29Z",
                "closed_at": "2022-09-06T00:21:29Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen using workspaces with `pnp` linker for freshly boostrapped applications some imports do not work. But work normally with `node-modules` linker\r\n\r\nIt seems that builders can't find some linked dependencies.\r\n\r\nGetting errors like\r\n> `[eslint] Failed to load config \"react-app\" to extend from.` \r\n\r\nand\r\n ```[WARNING] Cannot find base config file \"@vue/tsconfig/tsconfig.web.json\" [tsconfig.json]\r\n\u27a4 YN0000:\r\n\u27a4 YN0000:     tsconfig.json:2:13:\r\n\u27a4 YN0000:       2 \u2502   \"extends\": \"@vue/tsconfig/tsconfig.web.json\",\r\n\u27a4 YN0000:\r\n```\r\n\r\n### To reproduce\r\n\r\nSee readme in [sample repository](https://github.com/alex-enchi/yarn-workspace-pnp-bug)\r\n-----\r\n1. clone repository\r\n2. remove .yarnc.yml (yarn can't read that file and make setup properly)\r\n3. run yarn set version stable\r\n4. run yarn plugin import workspace-tools\r\n5. yarn to install dependencies\r\n6. yarn build to try and build <- that step fails\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 13.0\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/node\r\n    Yarn: 3.2.2 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/yarn\r\n    npm: 8.12.2 - ~/Library/Caches/fnm_multishells/40664_1658829214578/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nWhen generating more complicated setups with more dependencies builds are also failing with different web pack peer dependencies as well.\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-09-06T00:21:29Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23807814979",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4711",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4711",
                "id": 1329337417,
                "node_id": "I_kwDOCNXKfM5PPBRJ",
                "number": 4711,
                "title": "[Bug?]: yarn patch generated unparsable patch: URL",
                "user": {
                    "login": "lachlanhunt",
                    "id": 681464,
                    "node_id": "MDQ6VXNlcjY4MTQ2NA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/681464?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lachlanhunt",
                    "html_url": "https://github.com/lachlanhunt",
                    "followers_url": "https://api.github.com/users/lachlanhunt/followers",
                    "following_url": "https://api.github.com/users/lachlanhunt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lachlanhunt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lachlanhunt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lachlanhunt/subscriptions",
                    "organizations_url": "https://api.github.com/users/lachlanhunt/orgs",
                    "repos_url": "https://api.github.com/users/lachlanhunt/repos",
                    "events_url": "https://api.github.com/users/lachlanhunt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lachlanhunt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-08-05T01:33:10Z",
                "updated_at": "2022-09-04T10:04:36Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nMy company uses an internal package registry where all npm packages are fetched from. This is configured in ~/.yarnrc.yaml (company name replaced with `example`)\r\n\r\n```yaml\r\nnpmRegistries:\r\n  \"https://packages.example.com/artifactory/api/npm/npm-remote\":\r\n    npmAlwaysAuth: false\r\nnpmScopes:\r\n  example:\r\n    npmRegistryServer: \"https://packages.example.com/artifactory/api/npm/example-npm\"\r\n    npmPublishRegistry: \"https://packages.example.com/artifactory/api/npm/example-npm\"\r\n```\r\n\r\nThe result of this is that the resolution for the package in yarn.lock looks like this:\r\n\r\n```yaml\r\n  resolution: \"@example/eslint-plugin-example@npm:4.0.0::__archiveUrl=https%3A%2F%2Fpackages.example.com%2Fapi%2Fnpm%2Fexample-npm%2F%40example%2Feslint-plugin-example%2F-%2F%40example%2Feslint-plugin-example-4.0.0.tgz\"\r\n```\r\n\r\nWhen I tried to patch this packing using:\r\n\r\n```\r\n$ yarn patch @example/eslint-plugin-example\r\n# make edits\r\n$ yarn patch-commit -s /private/var/folders/path/to/code/user\r\n...\r\n\r\nThis generated a patch URL in package.json that looked like this:\r\n\r\n```json\r\n{\r\n  ...\r\n  \"resolutions\": {\r\n    \"@example/eslint-plugin-example@4.0.0\": \"patch:@example/eslint-plugin-example@npm:4.0.0::__archiveUrl=https%3A%2F%2Fpackages.example.com%2Fapi%2Fnpm%2Fexample-npm%2F%40example%2Feslint-plugin-example%2F-%2F%40example%2Feslint-plugin-example-4.0.0.tgz#.yarn/patches/@example-eslint-plugin-example-npm-4.0.0-bab1aa1587.patch\"\r\n  }\r\n\r\n}\r\n```\r\n\r\n(Then I fixed the version range in that resolution as described in https://github.com/yarnpkg/berry/issues/4231#issuecomment-1072847435 )\r\n\r\nFinally, running `yarn` to apply the patch gives this error:\r\n\r\n```sh\r\n$ yarn\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: Patch locators must explicitly define their source\r\n    at xue (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:733:658)\r\n    at dE (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:733:978)\r\n    at iO.bindDescriptor (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:736:2747)\r\n    at wd.bindDescriptor (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:391:1082)\r\n    at wd.bindDescriptor (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:391:1082)\r\n    at reduceDependency (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:390:29055)\r\n    at tA.reduceHook (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:392:3584)\r\n    at ee (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:439:6759)\r\n\u27a4 YN0000: \u2514 Completed\r\n\u27a4 YN0000: Failed with errors in 0s 23ms\r\n```\r\n\r\nI was able to work around this issue by modifying the `patch:` URL like this:\r\n\r\n```json\r\n{\r\n  ...\r\n  \"resolutions\": {\r\n    \"@example/eslint-plugin-example@^4.0.0\": \"patch:@example/eslint-plugin-example@npm:4.0.0#.yarn/patches/@example-eslint-plugin-example-npm-4.0.0-bab1aa1587.patch\"\r\n  }\r\n}\r\n```\r\n\r\nIt appears the presence of `::__archiveUrl=https...` breaks the parsing of the patch URL in yarn.\n\n### To reproduce\n\n(as explained above)\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 12.5\r\n  CPU: (10) arm64 Apple M1 Pro\r\nBinaries:\r\n  Node: 16.16.0 - /private/var/folders/78/vv5cyf6570xcqbsy0r2nfyfw0000gn/T/xfs-99d9804c/node\r\n  Yarn: 3.2.2 - /private/var/folders/78/vv5cyf6570xcqbsy0r2nfyfw0000gn/T/xfs-99d9804c/yarn\r\n  npm: 8.11.0 - ~/Library/Caches/fnm_multishells/21303_1659328957074/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1236302845",
                "html_url": "https://github.com/yarnpkg/berry/issues/4711#issuecomment-1236302845",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711",
                "id": 1236302845,
                "node_id": "IC_kwDOCNXKfM5JsHv9",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-04T10:04:36Z",
                "updated_at": "2022-09-04T10:04:36Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1236302845/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-04T10:04:36Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23754143445",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4670",
                "id": 1318166906,
                "node_id": "I_kwDOCNXKfM5OkaF6",
                "number": 4670,
                "title": "[Bug?]: yarn workspaces pnp vs node-modules linker",
                "user": {
                    "login": "alex-enchi",
                    "id": 24417201,
                    "node_id": "MDQ6VXNlcjI0NDE3MjAx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24417201?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alex-enchi",
                    "html_url": "https://github.com/alex-enchi",
                    "followers_url": "https://api.github.com/users/alex-enchi/followers",
                    "following_url": "https://api.github.com/users/alex-enchi/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alex-enchi/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alex-enchi/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alex-enchi/subscriptions",
                    "organizations_url": "https://api.github.com/users/alex-enchi/orgs",
                    "repos_url": "https://api.github.com/users/alex-enchi/repos",
                    "events_url": "https://api.github.com/users/alex-enchi/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alex-enchi/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-07-26T12:25:15Z",
                "updated_at": "2022-09-01T00:19:42Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen using workspaces with `pnp` linker for freshly boostrapped applications some imports do not work. But work normally with `node-modules` linker\r\n\r\nIt seems that builders can't find some linked dependencies.\r\n\r\nGetting errors like\r\n> `[eslint] Failed to load config \"react-app\" to extend from.` \r\n\r\nand\r\n ```[WARNING] Cannot find base config file \"@vue/tsconfig/tsconfig.web.json\" [tsconfig.json]\r\n\u27a4 YN0000:\r\n\u27a4 YN0000:     tsconfig.json:2:13:\r\n\u27a4 YN0000:       2 \u2502   \"extends\": \"@vue/tsconfig/tsconfig.web.json\",\r\n\u27a4 YN0000:\r\n```\r\n\r\n### To reproduce\r\n\r\nSee readme in [sample repository](https://github.com/alex-enchi/yarn-workspace-pnp-bug)\r\n-----\r\n1. clone repository\r\n2. remove .yarnc.yml (yarn can't read that file and make setup properly)\r\n3. run yarn set version stable\r\n4. run yarn plugin import workspace-tools\r\n5. yarn to install dependencies\r\n6. yarn build to try and build <- that step fails\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 13.0\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/node\r\n    Yarn: 3.2.2 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/yarn\r\n    npm: 8.12.2 - ~/Library/Caches/fnm_multishells/40664_1658829214578/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nWhen generating more complicated setups with more dependencies builds are also failing with different web pack peer dependencies as well.\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1233582337",
                "html_url": "https://github.com/yarnpkg/berry/issues/4670#issuecomment-1233582337",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670",
                "id": 1233582337,
                "node_id": "IC_kwDOCNXKfM5JhvkB",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-01T00:19:42Z",
                "updated_at": "2022-09-01T00:19:42Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1233582337/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-01T00:19:43Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23728345526",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4678",
                "id": 1318432688,
                "node_id": "I_kwDOCNXKfM5Ola-w",
                "number": 4678,
                "title": "Better installation instructions",
                "user": {
                    "login": "geoidesic",
                    "id": 4637995,
                    "node_id": "MDQ6VXNlcjQ2Mzc5OTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4637995?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/geoidesic",
                    "html_url": "https://github.com/geoidesic",
                    "followers_url": "https://api.github.com/users/geoidesic/followers",
                    "following_url": "https://api.github.com/users/geoidesic/following{/other_user}",
                    "gists_url": "https://api.github.com/users/geoidesic/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/geoidesic/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/geoidesic/subscriptions",
                    "organizations_url": "https://api.github.com/users/geoidesic/orgs",
                    "repos_url": "https://api.github.com/users/geoidesic/repos",
                    "events_url": "https://api.github.com/users/geoidesic/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/geoidesic/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349891,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODkx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/enhancement",
                        "name": "enhancement",
                        "color": "92a4e5",
                        "default": true,
                        "description": "New feature or request"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-26T15:47:16Z",
                "updated_at": "2022-08-30T22:05:12Z",
                "closed_at": "2022-08-30T22:05:12Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "<!--\r\n  Important: These issues are for **concrete and actionable proposals**. If you just have\r\n  a general problem that you would like to brainstorm, open a Discussion instead. We want\r\n  our GitHub issues to be a strict project backlog.\r\n-->\r\n\r\n- [ ] I'd be willing to implement this feature ([contributing guide](https://yarnpkg.com/advanced/contributing))\r\n- [ ] This feature is important to have in this repository; a contrib plugin wouldn't do\r\n\r\n**Describe the user story**\r\n\r\n\"As a developer I want to be able to read the installation instructions and to actually understand them.\" :-)\r\n\r\nCurrently I read them and I go, \"Huh?\". It bangs on about something called `corepack` but doesn't explain how to actually install yarn. It talks about how to initialise a project once yarn is installed... but doesn't explain how to install yarn. Doing `corepack enable` does not magically make the `yarn` binary available (I tried it). It also talks about managing different versions of yarn but doesn't explain how to do that either.\r\n\r\nAm I missing something? Or is the documentation confusing?\r\n\r\n**Describe the solution you'd like**\r\n\r\nClear and concise installation instructions here: https://yarnpkg.com/getting-started/install\r\n\r\n**Describe the drawbacks of your solution**\r\n\r\nNone.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nCryng ;'(\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-30T22:05:13Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23722014072",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4672",
                "id": 1318363924,
                "node_id": "I_kwDOCNXKfM5OlKMU",
                "number": 4672,
                "title": "[Bug?]: yarn installation failed due to script-shell settings",
                "user": {
                    "login": "timongh",
                    "id": 46739861,
                    "node_id": "MDQ6VXNlcjQ2NzM5ODYx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/46739861?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timongh",
                    "html_url": "https://github.com/timongh",
                    "followers_url": "https://api.github.com/users/timongh/followers",
                    "following_url": "https://api.github.com/users/timongh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timongh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timongh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timongh/subscriptions",
                    "organizations_url": "https://api.github.com/users/timongh/orgs",
                    "repos_url": "https://api.github.com/users/timongh/repos",
                    "events_url": "https://api.github.com/users/timongh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timongh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-26T14:54:28Z",
                "updated_at": "2022-08-30T16:04:52Z",
                "closed_at": "2022-08-30T16:04:52Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI installed yarn on my Windows with the following command, but it failed.\r\n\r\n```shell\r\nnpm install -g yarn\r\n```\r\n\r\nLooking at the error message, I found that this was probably because I had **`script-shell=pwsh` in my configuration file**, which would make npm exec execute commands in PowerShell instead of the default cmd. **When I removed it, it installed successfully.**\r\n\r\nPerhaps this bug can be fixed by overriding the config file with some command line option.\n\n### To reproduce\n\nsee \"Describe the bug\"\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n  Binaries:\r\n    Node: 16.16.0 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\node.CMD\r\n    Yarn: 3.2.2 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\fnm_multishells\\23264_1658843196956\\npm.CMD\n```\n\n\n### Additional context\n\n<details>\r\n<summary>shell</summary>\r\n\r\n```plain\r\nPS D:\\test_folder> npm install -g yarn\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm ERR! code 1\r\nnpm ERR! path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\nnpm ERR! command failed\r\nnpm ERR! command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\nnpm ERR! :: The term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\nnpm ERR! Out-File: Could not find a part of the path 'D:\\dev\\null'.\r\nnpm ERR! true: The term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>debug log</summary>\r\n\r\n```plain\r\n0 verbose cli C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node.exe C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node_modules\\npm\\bin\\npm-cli.js\r\n1 info using npm@8.11.0\r\n2 info using node@v16.16.0\r\n3 timing npm:load:whichnode Completed in 1ms\r\n4 timing config:load:defaults Completed in 2ms\r\n5 timing config:load:file:D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\npmrc Completed in 1ms\r\n6 timing config:load:builtin Completed in 1ms\r\n7 warn config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\n8 timing config:load:cli Completed in 2ms\r\n9 timing config:load:env Completed in 1ms\r\n10 timing config:load:project Completed in 2ms\r\n11 timing config:load:file:C:\\Users\\me\\.npmrc Completed in 1ms\r\n12 timing config:load:user Completed in 1ms\r\n13 timing config:load:file:D:\\npm_folder\\npm\\npmrc Completed in 1ms\r\n14 timing config:load:global Completed in 1ms\r\n15 timing config:load:validate Completed in 1ms\r\n16 timing config:load:credentials Completed in 1ms\r\n17 timing config:load:setEnvs Completed in 1ms\r\n18 timing config:load Completed in 13ms\r\n19 timing npm:load:configload Completed in 13ms\r\n20 timing npm:load:mkdirpcache Completed in 1ms\r\n21 timing npm:load:mkdirplogs Completed in 0ms\r\n22 verbose title npm install yarn\r\n23 verbose argv \"install\" \"--global\" \"yarn\"\r\n24 timing npm:load:setTitle Completed in 1ms\r\n25 timing config:load:flatten Completed in 2ms\r\n26 timing npm:load:display Completed in 7ms\r\n27 verbose logfile logs-max:10 dir:D:\\npm_folder\\npm\\cache\\_logs\r\n28 verbose logfile D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n29 timing npm:load:logFile Completed in 5ms\r\n30 timing npm:load:timers Completed in 0ms\r\n31 timing npm:load:configScope Completed in 0ms\r\n32 timing npm:load Completed in 29ms\r\n33 timing arborist:ctor Completed in 2ms\r\n34 silly logfile done cleaning log files\r\n35 timing idealTree:init Completed in 29ms\r\n36 timing idealTree:userRequests Completed in 13ms\r\n37 silly idealTree buildDeps\r\n38 silly fetch manifest yarn@*\r\n39 http fetch GET 200 https://registry.npmmirror.com/yarn 638ms (cache revalidated)\r\n40 silly placeDep ROOT yarn@1.22.19 OK for:  want: *\r\n41 timing idealTree:#root Completed in 658ms\r\n42 timing idealTree:node_modules/yarn Completed in 0ms\r\n43 timing idealTree:buildDeps Completed in 659ms\r\n44 timing idealTree:fixDepFlags Completed in 0ms\r\n45 timing idealTree Completed in 705ms\r\n46 timing reify:loadTrees Completed in 708ms\r\n47 timing reify:diffTrees Completed in 2ms\r\n48 silly reify moves {}\r\n49 timing reify:retireShallow Completed in 21ms\r\n50 timing reify:createSparse Completed in 50ms\r\n51 timing reify:loadBundles Completed in 0ms\r\n52 silly audit bulk request { yarn: [ '1.22.19' ] }\r\n53 timing reifyNode:node_modules/yarn Completed in 241ms\r\n54 timing reify:unpack Completed in 242ms\r\n55 timing reify:unretire Completed in 0ms\r\n56 timing build:queue Completed in 13ms\r\n57 info run yarn@1.22.19 preinstall node_modules/yarn :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n58 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/advisories/bulk 387ms (cache skip)\r\n59 silly audit bulk request failed <h1>404 Not Found</h1>\r\n60 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/audits/quick 323ms (cache skip)\r\n61 verbose audit error HttpErrorGeneral: 404 Not Found - POST https://registry.npmmirror.com/-/npm/v1/security/audits/quick\r\n61 verbose audit error     at D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\npm-registry-fetch\\lib\\check-response.js:93:15\r\n61 verbose audit error     at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n61 verbose audit error     at async Map.[getReport] (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:333:21)\r\n61 verbose audit error     at async Map.run (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:106:19) {\r\n61 verbose audit error   headers: [Object: null prototype] {\r\n61 verbose audit error     server: [ 'Tengine' ],\r\n61 verbose audit error     'content-type': [ 'text/html; charset=utf-8' ],\r\n61 verbose audit error     'content-length': [ '41' ],\r\n61 verbose audit error     connection: [ 'keep-alive' ],\r\n61 verbose audit error     'strict-transport-security': [ 'max-age=5184000' ],\r\n61 verbose audit error     date: [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     vary: [ 'Origin' ],\r\n61 verbose audit error     'x-frame-options': [ 'SAMEORIGIN' ],\r\n61 verbose audit error     'x-xss-protection': [ '1; mode=block' ],\r\n61 verbose audit error     'x-content-type-options': [ 'nosniff' ],\r\n61 verbose audit error     'x-download-options': [ 'noopen' ],\r\n61 verbose audit error     'x-readtime': [ '1.023' ],\r\n61 verbose audit error     'content-encoding': [ 'gzip' ],\r\n61 verbose audit error     'ali-swift-global-savetime': [ '1658842406' ],\r\n61 verbose audit error     via: [\r\n61 verbose audit error       'cache74.l2cn3036[13,13,404-1280,M], cache79.l2cn3036[13,0], kunlun8.cn1416[28,27,404-1280,M], kunlun5.cn1416[31,0]'\r\n61 verbose audit error     ],\r\n61 verbose audit error     'x-cache': [ 'MISS TCP_MISS dirn:-2:-2' ],\r\n61 verbose audit error     'x-swift-savetime': [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     'x-swift-cachetime': [ '1' ],\r\n61 verbose audit error     'x-swift-error': [ 'orig response 4XX error' ],\r\n61 verbose audit error     'timing-allow-origin': [ '*' ],\r\n61 verbose audit error     eagleid: [ 'df6f181916588424061965275e' ],\r\n61 verbose audit error     'x-fetch-attempts': [ '1' ],\r\n61 verbose audit error     'x-local-cache-status': [ 'skip' ]\r\n61 verbose audit error   },\r\n61 verbose audit error   statusCode: 404,\r\n61 verbose audit error   code: 'E404',\r\n61 verbose audit error   method: 'POST',\r\n61 verbose audit error   uri: 'https://registry.npmmirror.com/-/npm/v1/security/audits/quick',\r\n61 verbose audit error   body: <Buffer 3c 68 31 3e 34 30 34 20 4e 6f 74 20 46 6f 75 6e 64 3c 2f 68 31 3e>,\r\n61 verbose audit error   pkgid: undefined\r\n61 verbose audit error }\r\n62 silly audit error <h1>404 Not Found</h1>\r\n63 timing auditReport:getReport Completed in 726ms\r\n64 silly audit report null\r\n65 timing reify:audit Completed in 727ms\r\n66 info run yarn@1.22.19 preinstall { code: 1, signal: null }\r\n67 timing reify:rollback:createSparse Completed in 13ms\r\n68 timing reify:rollback:retireShallow Completed in 1ms\r\n69 timing command:install Completed in 2192ms\r\n70 verbose stack Error: command failed\r\n70 verbose stack     at ChildProcess.<anonymous> (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\promise-spawn\\lib\\index.js:63:27)\r\n70 verbose stack     at ChildProcess.emit (node:events:527:28)\r\n70 verbose stack     at maybeClose (node:internal/child_process:1092:16)\r\n70 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:302:5)\r\n71 verbose pkgid yarn@1.22.19\r\n72 verbose cwd D:\\test_folder\r\n73 verbose Windows_NT 10.0.19043\r\n74 verbose node v16.16.0\r\n75 verbose npm  v8.11.0\r\n76 error code 1\r\n77 error path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\n78 error command failed\r\n79 error command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n80 error \u001b[91m:: \u001b[91mThe term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n80 error \u001b[91mOut-File: \u001b[91mCould not find a part of the path 'D:\\dev\\null'.\u001b[0m\r\n80 error \u001b[91mtrue: \u001b[91mThe term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n81 verbose exit 1\r\n82 timing npm Completed in 3441ms\r\n83 verbose unfinished npm timer reify 1658842402660\r\n84 verbose unfinished npm timer reify:build 1658842403808\r\n85 verbose unfinished npm timer build 1658842403808\r\n86 verbose unfinished npm timer build:deps 1658842403808\r\n87 verbose unfinished npm timer build:run:preinstall 1658842403821\r\n88 verbose unfinished npm timer build:run:preinstall:node_modules/yarn 1658842403821\r\n89 verbose code 1\r\n90 error A complete log of this run can be found in:\r\n90 error     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-30T16:04:52Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23698997062",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4661",
                "id": 1316963629,
                "node_id": "I_kwDOCNXKfM5Of0Ut",
                "number": 4661,
                "title": "[Bug?]: yarn says unauthenticated even when npmAuthIdent or npmAuthToken is set",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-25T14:56:56Z",
                "updated_at": "2022-08-29T17:07:58Z",
                "closed_at": "2022-08-29T17:07:58Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nyarn says unauthenticated even when `npmAuthIdent` or `npmAuthToken` is set. At the very least if I've done something wrong I think the error and documentation should be improved, it's not particularly useful.\r\n\r\nhere's my logs, the line is second to last\r\n```\r\n[2022-07-25T13:36:10.574Z] > @cof/e1-http@0.1.0 publish:yarn\r\n[2022-07-25T13:36:10.574Z] > yarn workspaces foreach --no-private --exclude @cof/e1-http --exclude @cof/e1-test-server npm publish\r\n[2022-07-25T13:36:10.574Z] \r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 31ms\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/index.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/secrets-client.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/integration/secrets-client.it.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/unit/secrets-client.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 22ms\r\n```\r\n\r\n### To reproduce\r\n\r\npublish a package to a private server that needs npm credentials like this\r\n\r\n```\r\nregistry.artifactory.our.company.com:username=myuser\r\nregistry.artifactory.our.company.com:username::_password=SomeTokenThatContainsFullAlphaBetNoEquals\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\n11:08:38    System:\r\n11:08:38      OS: Linux 5.10 CentOS Linux 7 (Core)\r\n11:08:38      CPU: (16) x64 Intel(R) Xeon(R) Platinum 8124M CPU @ 3.00GHz\r\n11:08:38    Binaries:\r\n11:08:38      Node: 16.16.0 - /tmp/xfs-e6afd580/node\r\n11:08:38      Yarn: 3.2.1 - /tmp/xfs-e6afd580/yarn\r\n11:08:38      npm: 8.11.0 - ~/.nvm/versions/node/v16.16.0/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n```\r\n[2022-07-25T13:36:06.929Z] Now using node v16.16.0 (npm v8.11.0)\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.440Z] > @cof/e1-http@0.1.0 prepublish:yarn\r\n[2022-07-25T13:36:07.440Z] > yarn install --immutable && yarn :credentials && yarn config\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.963Z] \u27a4 YN0000: \u250c Resolution step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Fetch step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0013: \u2502 635 packages were already cached\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed in 0s 205ms\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Link step\r\n[2022-07-25T13:36:08.987Z] \u27a4 YN0000: \u2502 ESM support for PnP uses the experimental loader API and is therefore experimental\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0007: \u2502 @cof/e1-http@workspace:. must be built because it never has been before or the last one failed\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR fatal: not a git repository (or any parent up to mount point /home)\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2514 Completed in 0s 921ms\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: Done with warnings in 1s 394ms\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: caFilePath                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/cache'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheKeyOverride              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetBaseRefs             [ 'master', 'origin/master', ... 4 more items ]\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetIgnorePatterns       []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: checksumBehavior              'throw'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cloneConcurrency              2\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: compressionLevel              'mixed'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: constraintsPath               '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/constraints.pro'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultLanguageName           'node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultProtocol               'npm:'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultSemverRangePrefix      '^'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableColors                  false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableGlobalCache             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableHyperlinks              false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableCache          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableInstalls       true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineBuilds            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineHunks             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMessageNames            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMirror                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableNetwork                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableProgressBars            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableScripts                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSettings          true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSsl               false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTelemetry               true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTimers                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTransparentWorkspaces   true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: globalFolder                  '/home/git/.yarn/berry'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpProxy                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpRetry                     3\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpTimeout                   60000\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsCertFilePath             null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsKeyFilePath              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsProxy                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignoreCwd                     false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignorePath                    false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: immutablePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initEditorConfig              Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initFields                    Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initScope                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: installStatePath              '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/install-state.gz'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lastUpdateCheck               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lockfileFilename              'yarn.lock'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: logFilters                    []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkConcurrency            50\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkSettings               Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmHoistingLimits              'none'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmMode                        'classic'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmSelfReferences              true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nodeLinker                    'pnp'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAlwaysAuth                 false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuditRegistry              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthIdent                  '********'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthToken                  null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishAccess              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishRegistry            null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistries                 Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistryServer             'https://artifactory.cloud.our.company.com443/artifactory/api/npm/npm-internalfacing/'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmScopes                     Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: packageExtensions             Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: patchFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/patches'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpDataPath                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.pnp.data.json'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableEsmLoader            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableInlining             true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpFallbackMode               'dependencies-only'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpIgnorePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpMode                       'strict'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpShebang                    '#!/usr/bin/env node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpUnpluggedFolder            '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/unplugged'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferAggregateCacheInfo      true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferInteractive             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferTruncatedLines          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: progressBarStyle              undefined\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: rcFilename                    '.yarnrc.yml'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: supportedArchitectures        Map(3) { 'os' => [ 'current' ], 'cpu' => [ 'current' ], 'libc' => [ 'current' ] }\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryInterval             7\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryUserId               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: unsafeHttpWhitelist           []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: virtualFolder                 '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/__virtual__'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: yarnPath                      '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/releases/yarn-3.2.1.cjs'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: Done in 0s 7ms\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-29T17:07:59Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23669015939",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4686",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4686",
                "id": 1320327094,
                "node_id": "I_kwDOCNXKfM5Ospe2",
                "number": 4686,
                "title": "[Bug?]: Cannot run `require` from inside VSCode extension",
                "user": {
                    "login": "zachkirsch",
                    "id": 8902272,
                    "node_id": "MDQ6VXNlcjg5MDIyNzI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8902272?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/zachkirsch",
                    "html_url": "https://github.com/zachkirsch",
                    "followers_url": "https://api.github.com/users/zachkirsch/followers",
                    "following_url": "https://api.github.com/users/zachkirsch/following{/other_user}",
                    "gists_url": "https://api.github.com/users/zachkirsch/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/zachkirsch/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/zachkirsch/subscriptions",
                    "organizations_url": "https://api.github.com/users/zachkirsch/orgs",
                    "repos_url": "https://api.github.com/users/zachkirsch/repos",
                    "events_url": "https://api.github.com/users/zachkirsch/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/zachkirsch/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-28T02:59:24Z",
                "updated_at": "2022-08-27T03:47:35Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen using yarn pnp, Cmd+Click doesn't work in VSCode for imported scss files from external deps, e.g.\r\n```scss\r\n@import \"~@blueprintjs/core/lib/scss/variables\";\r\n\r\n...\r\n```\r\n\r\nThis is because [microsoft/vscode-css-languageservice](https://github.com/microsoft/vscode-css-languageservice) hardcodes a `node_modules` path here: https://github.com/microsoft/vscode-css-languageservice/blob/045b4764e36648a29cb3970e6733b35a0085600d/src/services/cssNavigation.ts#L347\r\n\r\nI tried to fix this by changing the path resolution to use `require.resolve`, but I get a `MODULE_NOT_FOUND` error. I think this is expected, because VSCode is likely not running this code with the pnp loader.\r\n\r\nI'd like to fix this, either on the VSCode side or the yarn side (or both!), but I'm not sure how to proceed. Any tips?\r\n\r\nNo repro provided (since the hard-coded `node_modules` is apparent). Let me know if you need more info though!\r\n\r\n### To reproduce\r\n\r\nn/a\r\n\r\n### Environment\r\n\r\n```shell\r\nn/a\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1229114685",
                "html_url": "https://github.com/yarnpkg/berry/issues/4686#issuecomment-1229114685",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686",
                "id": 1229114685,
                "node_id": "IC_kwDOCNXKfM5JQs09",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-27T03:47:35Z",
                "updated_at": "2022-08-27T03:47:35Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1229114685/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-27T03:47:36Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23659193201",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4683",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4683",
                "id": 1319587633,
                "node_id": "I_kwDOCNXKfM5Op08x",
                "number": 4683,
                "title": "[Bug?]: workspace rename has error message that could be improved",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-27T13:43:02Z",
                "updated_at": "2022-08-26T14:04:36Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nbad error message, an ideal error message would tell me which package.json (or workspace) had this dependency.\r\n\r\n```\r\n\u276f yarn install\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: @cof/e1-test-server@workspace:*: Workspace not found (@cof/e1-test-server@workspace:*)\r\n    at ze.getWorkspaceByDescriptor (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:442:3273)\r\n    at Ed.getCandidates (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:395:29907)\r\n    at Bd.getCandidates (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:396:1281)\r\n    at Bd.getCandidates (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:396:1281)\r\n    at /Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:442:7764\r\n    at Rg (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:395:11098)\r\n    at le (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:442:7744)\r\n\u27a4 YN0000: \u2514 Completed in 0s 348ms\r\n\u27a4 YN0000: Failed with errors in 0s 391ms\r\n```\n\n### To reproduce\n\ncreate monorepo with workspace, rename package name without updating it in other modules, e.g. in my case I renamed `@cof/e1-test-server` to `@cof/e1-fake-vault-server` in it's workspace `package.json`  and I had another workspace `package.json` depending on it.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 11.6.6\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-093a0b93/node\r\n    Yarn: 3.2.1 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-093a0b93/yarn\r\n    npm: 8.6.0 - ~/.asdf/plugins/nodejs/shims/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228531947",
                "html_url": "https://github.com/yarnpkg/berry/issues/4683#issuecomment-1228531947",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683",
                "id": 1228531947,
                "node_id": "IC_kwDOCNXKfM5JOejr",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-26T14:04:36Z",
                "updated_at": "2022-08-26T14:04:36Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228531947/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-26T14:04:37Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23651496315",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4674",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4674",
                "id": 1318392293,
                "node_id": "I_kwDOCNXKfM5OlRHl",
                "number": 4674,
                "title": "[Bug?]: redundant subcommand `exec` in `yarn help`",
                "user": {
                    "login": "timongh",
                    "id": 46739861,
                    "node_id": "MDQ6VXNlcjQ2NzM5ODYx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/46739861?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timongh",
                    "html_url": "https://github.com/timongh",
                    "followers_url": "https://api.github.com/users/timongh/followers",
                    "following_url": "https://api.github.com/users/timongh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timongh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timongh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timongh/subscriptions",
                    "organizations_url": "https://api.github.com/users/timongh/orgs",
                    "repos_url": "https://api.github.com/users/timongh/repos",
                    "events_url": "https://api.github.com/users/timongh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timongh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-26T15:16:12Z",
                "updated_at": "2022-08-26T07:09:01Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nIf you run `yarn help` in any directory that is not a yarn berry project, you will see a subcommand `exec`. But executing `yarn help exec` does not give you any useful information. And I can't find information about this subcommand on the Yarn 1 [website](https://classic.yarnpkg.com/en/docs/cli) either.\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n  Binaries:\r\n    Node: 16.16.0 - C:\\Users\\me\\AppData\\Local\\Temp\\xfs-dc3eceea\\node.CMD\r\n    Yarn: 3.2.2 - C:\\Users\\me\\AppData\\Local\\Temp\\xfs-dc3eceea\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228135144",
                "html_url": "https://github.com/yarnpkg/berry/issues/4674#issuecomment-1228135144",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674",
                "id": 1228135144,
                "node_id": "IC_kwDOCNXKfM5JM9ro",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-26T07:09:01Z",
                "updated_at": "2022-08-26T07:09:01Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228135144/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-26T07:09:02Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23645862368",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4678",
                "id": 1318432688,
                "node_id": "I_kwDOCNXKfM5Ola-w",
                "number": 4678,
                "title": "Better installation instructions",
                "user": {
                    "login": "geoidesic",
                    "id": 4637995,
                    "node_id": "MDQ6VXNlcjQ2Mzc5OTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4637995?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/geoidesic",
                    "html_url": "https://github.com/geoidesic",
                    "followers_url": "https://api.github.com/users/geoidesic/followers",
                    "following_url": "https://api.github.com/users/geoidesic/following{/other_user}",
                    "gists_url": "https://api.github.com/users/geoidesic/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/geoidesic/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/geoidesic/subscriptions",
                    "organizations_url": "https://api.github.com/users/geoidesic/orgs",
                    "repos_url": "https://api.github.com/users/geoidesic/repos",
                    "events_url": "https://api.github.com/users/geoidesic/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/geoidesic/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349891,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODkx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/enhancement",
                        "name": "enhancement",
                        "color": "92a4e5",
                        "default": true,
                        "description": "New feature or request"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-26T15:47:16Z",
                "updated_at": "2022-08-25T22:05:00Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "<!--\r\n  Important: These issues are for **concrete and actionable proposals**. If you just have\r\n  a general problem that you would like to brainstorm, open a Discussion instead. We want\r\n  our GitHub issues to be a strict project backlog.\r\n-->\r\n\r\n- [ ] I'd be willing to implement this feature ([contributing guide](https://yarnpkg.com/advanced/contributing))\r\n- [ ] This feature is important to have in this repository; a contrib plugin wouldn't do\r\n\r\n**Describe the user story**\r\n\r\n\"As a developer I want to be able to read the installation instructions and to actually understand them.\" :-)\r\n\r\nCurrently I read them and I go, \"Huh?\". It bangs on about something called `corepack` but doesn't explain how to actually install yarn. It talks about how to initialise a project once yarn is installed... but doesn't explain how to install yarn. Doing `corepack enable` does not magically make the `yarn` binary available (I tried it). It also talks about managing different versions of yarn but doesn't explain how to do that either.\r\n\r\nAm I missing something? Or is the documentation confusing?\r\n\r\n**Describe the solution you'd like**\r\n\r\nClear and concise installation instructions here: https://yarnpkg.com/getting-started/install\r\n\r\n**Describe the drawbacks of your solution**\r\n\r\nNone.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nCryng ;'(\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227806192",
                "html_url": "https://github.com/yarnpkg/berry/issues/4678#issuecomment-1227806192",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678",
                "id": 1227806192,
                "node_id": "IC_kwDOCNXKfM5JLtXw",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-25T22:05:00Z",
                "updated_at": "2022-08-25T22:05:00Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nIt seems like this issue as been marked as probably resolved, or missing important information blocking its progression. As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227806192/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-25T22:05:00Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23639878927",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4653",
                "id": 1313436896,
                "node_id": "I_kwDOCNXKfM5OSXTg",
                "number": 4653,
                "title": "[Bug?]: yarn does not taken into account peerDependenciesMeta.optional",
                "user": {
                    "login": "blephy",
                    "id": 24233935,
                    "node_id": "MDQ6VXNlcjI0MjMzOTM1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24233935?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/blephy",
                    "html_url": "https://github.com/blephy",
                    "followers_url": "https://api.github.com/users/blephy/followers",
                    "following_url": "https://api.github.com/users/blephy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/blephy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/blephy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/blephy/subscriptions",
                    "organizations_url": "https://api.github.com/users/blephy/orgs",
                    "repos_url": "https://api.github.com/users/blephy/repos",
                    "events_url": "https://api.github.com/users/blephy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/blephy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-21T15:25:41Z",
                "updated_at": "2022-08-25T16:04:50Z",
                "closed_at": "2022-08-25T16:04:50Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nImagine a library named `lib-a`, published on a registry. This library have this manifest : \r\n\r\n```jsonc\r\n{\r\n  // ...\r\n\"peerDependencies\": {\r\n    \"eslint-plugin-react\": \"2.0.0\"\r\n  },\r\n  \"peerDependenciesMeta\": {\r\n    \"eslint-plugin-react\": {\r\n      \"optional\": true\r\n    }\r\n  },\r\n  // ...\r\n}\r\n```\r\n\r\nWhen a package install `lib-a` without providing `eslint-plugin-react`, yarn produce a warning message \r\n\r\n```bash\r\n\u27a4 YN0002: \u2502 toto@workspace:. doesn't provide eslint-plugin-react (p61f53), requested by lib-a\r\n```\r\n\r\nyarn berry 3.2.1\r\n\r\n### To reproduce\r\n\r\nThis is not a complicated step to check :)\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\n  Binaries:\r\n    Node: 14.19.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/node\r\n    Yarn: 3.2.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/yarn\r\n    npm: 6.14.16 - ~/.nvm/versions/node/v14.19.1/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-25T16:04:50Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23639877785",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4673",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4673",
                "id": 1318383458,
                "node_id": "I_kwDOCNXKfM5OlO9i",
                "number": 4673,
                "title": "[Bug?]: YARN_CHECKSUM_BEHAVIOR=reset  does not work",
                "user": {
                    "login": "goloveychuk",
                    "id": 2370419,
                    "node_id": "MDQ6VXNlcjIzNzA0MTk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2370419?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/goloveychuk",
                    "html_url": "https://github.com/goloveychuk",
                    "followers_url": "https://api.github.com/users/goloveychuk/followers",
                    "following_url": "https://api.github.com/users/goloveychuk/following{/other_user}",
                    "gists_url": "https://api.github.com/users/goloveychuk/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/goloveychuk/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/goloveychuk/subscriptions",
                    "organizations_url": "https://api.github.com/users/goloveychuk/orgs",
                    "repos_url": "https://api.github.com/users/goloveychuk/repos",
                    "events_url": "https://api.github.com/users/goloveychuk/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/goloveychuk/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-26T15:09:18Z",
                "updated_at": "2022-08-25T16:04:47Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nDocs declaring three available options for `YARN_CHECKSUM_BEHAVIOR`, one of them is reset. \r\nBut it does not work, I also don't see an implementation. \r\nhttps://github.dev/yarnpkg/berry/blob/4a097fa80c0fc42e3d5eb51c597bf7304e981111/packages/yarnpkg-core/sources/Cache.ts#L208\r\n\r\nI think this option is important for two cases.\r\n1) local devex, when developer change a zip archive (which vscode extension allows), eventually dev would want to clear changes and replace it with remote archive.\r\n2) much more important: ci usage. \r\nI'm not sure how, but I've got a failed build because of checksum mismatch on CI. Cache path is shared, maybe it's because of yarn version change or compression level or smth else. \r\nFrom my perspective, for Ci usage, all `update`, `ignore` and `throw` options are not sophisticated. \r\nThrow is bad for CI usage, no way to fix it, first two options does not replace \"broken\" file. \r\nI think CI should use yarn.lock as source of truth, and replace \"broken\" archives.\r\n\r\nAlso, I think, `checksumBehavior` in yarnrc should be 'reset' as default if `IsCi===true`\r\n\r\nI can create a PR, if solutions is ok.\r\n\n\n### To reproduce\n\n1) yarn install with pnp enabled\r\n2) change zip archive\r\n3) `YARN_CHECKSUM_BEHAVIOR=reset yarn` should remove broken files and replace them with from remote.\r\n\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.2\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 14.17.6 - /private/var/folders/_c/5f907xz5253bhss7ytr8m8zh0000gn/T/xfs-0d97552e/node\r\n    Yarn: 4.0.0-rc.14.git.20220721.hash-4a097fa - /private/var/folders/_c/5f907xz5253bhss7ytr8m8zh0000gn/T/xfs-0d97552e/yarn\r\n    npm: 6.14.15 - /var/folders/_c/5f907xz5253bhss7ytr8m8zh0000gn/T/fnm_multishells/57279_1658844880383/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227473378",
                "html_url": "https://github.com/yarnpkg/berry/issues/4673#issuecomment-1227473378",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673",
                "id": 1227473378,
                "node_id": "IC_kwDOCNXKfM5JKcHi",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-25T16:04:47Z",
                "updated_at": "2022-08-25T16:04:47Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227473378/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-25T16:04:47Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23638578671",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4672",
                "id": 1318363924,
                "node_id": "I_kwDOCNXKfM5OlKMU",
                "number": 4672,
                "title": "[Bug?]: yarn installation failed due to script-shell settings",
                "user": {
                    "login": "timongh",
                    "id": 46739861,
                    "node_id": "MDQ6VXNlcjQ2NzM5ODYx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/46739861?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timongh",
                    "html_url": "https://github.com/timongh",
                    "followers_url": "https://api.github.com/users/timongh/followers",
                    "following_url": "https://api.github.com/users/timongh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timongh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timongh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timongh/subscriptions",
                    "organizations_url": "https://api.github.com/users/timongh/orgs",
                    "repos_url": "https://api.github.com/users/timongh/repos",
                    "events_url": "https://api.github.com/users/timongh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timongh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-26T14:54:28Z",
                "updated_at": "2022-08-25T15:06:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI installed yarn on my Windows with the following command, but it failed.\r\n\r\n```shell\r\nnpm install -g yarn\r\n```\r\n\r\nLooking at the error message, I found that this was probably because I had **`script-shell=pwsh` in my configuration file**, which would make npm exec execute commands in PowerShell instead of the default cmd. **When I removed it, it installed successfully.**\r\n\r\nPerhaps this bug can be fixed by overriding the config file with some command line option.\n\n### To reproduce\n\nsee \"Describe the bug\"\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n  Binaries:\r\n    Node: 16.16.0 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\node.CMD\r\n    Yarn: 3.2.2 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\fnm_multishells\\23264_1658843196956\\npm.CMD\n```\n\n\n### Additional context\n\n<details>\r\n<summary>shell</summary>\r\n\r\n```plain\r\nPS D:\\test_folder> npm install -g yarn\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm ERR! code 1\r\nnpm ERR! path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\nnpm ERR! command failed\r\nnpm ERR! command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\nnpm ERR! :: The term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\nnpm ERR! Out-File: Could not find a part of the path 'D:\\dev\\null'.\r\nnpm ERR! true: The term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>debug log</summary>\r\n\r\n```plain\r\n0 verbose cli C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node.exe C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node_modules\\npm\\bin\\npm-cli.js\r\n1 info using npm@8.11.0\r\n2 info using node@v16.16.0\r\n3 timing npm:load:whichnode Completed in 1ms\r\n4 timing config:load:defaults Completed in 2ms\r\n5 timing config:load:file:D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\npmrc Completed in 1ms\r\n6 timing config:load:builtin Completed in 1ms\r\n7 warn config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\n8 timing config:load:cli Completed in 2ms\r\n9 timing config:load:env Completed in 1ms\r\n10 timing config:load:project Completed in 2ms\r\n11 timing config:load:file:C:\\Users\\me\\.npmrc Completed in 1ms\r\n12 timing config:load:user Completed in 1ms\r\n13 timing config:load:file:D:\\npm_folder\\npm\\npmrc Completed in 1ms\r\n14 timing config:load:global Completed in 1ms\r\n15 timing config:load:validate Completed in 1ms\r\n16 timing config:load:credentials Completed in 1ms\r\n17 timing config:load:setEnvs Completed in 1ms\r\n18 timing config:load Completed in 13ms\r\n19 timing npm:load:configload Completed in 13ms\r\n20 timing npm:load:mkdirpcache Completed in 1ms\r\n21 timing npm:load:mkdirplogs Completed in 0ms\r\n22 verbose title npm install yarn\r\n23 verbose argv \"install\" \"--global\" \"yarn\"\r\n24 timing npm:load:setTitle Completed in 1ms\r\n25 timing config:load:flatten Completed in 2ms\r\n26 timing npm:load:display Completed in 7ms\r\n27 verbose logfile logs-max:10 dir:D:\\npm_folder\\npm\\cache\\_logs\r\n28 verbose logfile D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n29 timing npm:load:logFile Completed in 5ms\r\n30 timing npm:load:timers Completed in 0ms\r\n31 timing npm:load:configScope Completed in 0ms\r\n32 timing npm:load Completed in 29ms\r\n33 timing arborist:ctor Completed in 2ms\r\n34 silly logfile done cleaning log files\r\n35 timing idealTree:init Completed in 29ms\r\n36 timing idealTree:userRequests Completed in 13ms\r\n37 silly idealTree buildDeps\r\n38 silly fetch manifest yarn@*\r\n39 http fetch GET 200 https://registry.npmmirror.com/yarn 638ms (cache revalidated)\r\n40 silly placeDep ROOT yarn@1.22.19 OK for:  want: *\r\n41 timing idealTree:#root Completed in 658ms\r\n42 timing idealTree:node_modules/yarn Completed in 0ms\r\n43 timing idealTree:buildDeps Completed in 659ms\r\n44 timing idealTree:fixDepFlags Completed in 0ms\r\n45 timing idealTree Completed in 705ms\r\n46 timing reify:loadTrees Completed in 708ms\r\n47 timing reify:diffTrees Completed in 2ms\r\n48 silly reify moves {}\r\n49 timing reify:retireShallow Completed in 21ms\r\n50 timing reify:createSparse Completed in 50ms\r\n51 timing reify:loadBundles Completed in 0ms\r\n52 silly audit bulk request { yarn: [ '1.22.19' ] }\r\n53 timing reifyNode:node_modules/yarn Completed in 241ms\r\n54 timing reify:unpack Completed in 242ms\r\n55 timing reify:unretire Completed in 0ms\r\n56 timing build:queue Completed in 13ms\r\n57 info run yarn@1.22.19 preinstall node_modules/yarn :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n58 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/advisories/bulk 387ms (cache skip)\r\n59 silly audit bulk request failed <h1>404 Not Found</h1>\r\n60 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/audits/quick 323ms (cache skip)\r\n61 verbose audit error HttpErrorGeneral: 404 Not Found - POST https://registry.npmmirror.com/-/npm/v1/security/audits/quick\r\n61 verbose audit error     at D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\npm-registry-fetch\\lib\\check-response.js:93:15\r\n61 verbose audit error     at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n61 verbose audit error     at async Map.[getReport] (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:333:21)\r\n61 verbose audit error     at async Map.run (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:106:19) {\r\n61 verbose audit error   headers: [Object: null prototype] {\r\n61 verbose audit error     server: [ 'Tengine' ],\r\n61 verbose audit error     'content-type': [ 'text/html; charset=utf-8' ],\r\n61 verbose audit error     'content-length': [ '41' ],\r\n61 verbose audit error     connection: [ 'keep-alive' ],\r\n61 verbose audit error     'strict-transport-security': [ 'max-age=5184000' ],\r\n61 verbose audit error     date: [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     vary: [ 'Origin' ],\r\n61 verbose audit error     'x-frame-options': [ 'SAMEORIGIN' ],\r\n61 verbose audit error     'x-xss-protection': [ '1; mode=block' ],\r\n61 verbose audit error     'x-content-type-options': [ 'nosniff' ],\r\n61 verbose audit error     'x-download-options': [ 'noopen' ],\r\n61 verbose audit error     'x-readtime': [ '1.023' ],\r\n61 verbose audit error     'content-encoding': [ 'gzip' ],\r\n61 verbose audit error     'ali-swift-global-savetime': [ '1658842406' ],\r\n61 verbose audit error     via: [\r\n61 verbose audit error       'cache74.l2cn3036[13,13,404-1280,M], cache79.l2cn3036[13,0], kunlun8.cn1416[28,27,404-1280,M], kunlun5.cn1416[31,0]'\r\n61 verbose audit error     ],\r\n61 verbose audit error     'x-cache': [ 'MISS TCP_MISS dirn:-2:-2' ],\r\n61 verbose audit error     'x-swift-savetime': [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     'x-swift-cachetime': [ '1' ],\r\n61 verbose audit error     'x-swift-error': [ 'orig response 4XX error' ],\r\n61 verbose audit error     'timing-allow-origin': [ '*' ],\r\n61 verbose audit error     eagleid: [ 'df6f181916588424061965275e' ],\r\n61 verbose audit error     'x-fetch-attempts': [ '1' ],\r\n61 verbose audit error     'x-local-cache-status': [ 'skip' ]\r\n61 verbose audit error   },\r\n61 verbose audit error   statusCode: 404,\r\n61 verbose audit error   code: 'E404',\r\n61 verbose audit error   method: 'POST',\r\n61 verbose audit error   uri: 'https://registry.npmmirror.com/-/npm/v1/security/audits/quick',\r\n61 verbose audit error   body: <Buffer 3c 68 31 3e 34 30 34 20 4e 6f 74 20 46 6f 75 6e 64 3c 2f 68 31 3e>,\r\n61 verbose audit error   pkgid: undefined\r\n61 verbose audit error }\r\n62 silly audit error <h1>404 Not Found</h1>\r\n63 timing auditReport:getReport Completed in 726ms\r\n64 silly audit report null\r\n65 timing reify:audit Completed in 727ms\r\n66 info run yarn@1.22.19 preinstall { code: 1, signal: null }\r\n67 timing reify:rollback:createSparse Completed in 13ms\r\n68 timing reify:rollback:retireShallow Completed in 1ms\r\n69 timing command:install Completed in 2192ms\r\n70 verbose stack Error: command failed\r\n70 verbose stack     at ChildProcess.<anonymous> (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\promise-spawn\\lib\\index.js:63:27)\r\n70 verbose stack     at ChildProcess.emit (node:events:527:28)\r\n70 verbose stack     at maybeClose (node:internal/child_process:1092:16)\r\n70 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:302:5)\r\n71 verbose pkgid yarn@1.22.19\r\n72 verbose cwd D:\\test_folder\r\n73 verbose Windows_NT 10.0.19043\r\n74 verbose node v16.16.0\r\n75 verbose npm  v8.11.0\r\n76 error code 1\r\n77 error path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\n78 error command failed\r\n79 error command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n80 error \u001b[91m:: \u001b[91mThe term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n80 error \u001b[91mOut-File: \u001b[91mCould not find a part of the path 'D:\\dev\\null'.\u001b[0m\r\n80 error \u001b[91mtrue: \u001b[91mThe term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n81 verbose exit 1\r\n82 timing npm Completed in 3441ms\r\n83 verbose unfinished npm timer reify 1658842402660\r\n84 verbose unfinished npm timer reify:build 1658842403808\r\n85 verbose unfinished npm timer build 1658842403808\r\n86 verbose unfinished npm timer build:deps 1658842403808\r\n87 verbose unfinished npm timer build:run:preinstall 1658842403821\r\n88 verbose unfinished npm timer build:run:preinstall:node_modules/yarn 1658842403821\r\n89 verbose code 1\r\n90 error A complete log of this run can be found in:\r\n90 error     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227386729",
                "html_url": "https://github.com/yarnpkg/berry/issues/4672#issuecomment-1227386729",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672",
                "id": 1227386729,
                "node_id": "IC_kwDOCNXKfM5JKG9p",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-25T15:06:04Z",
                "updated_at": "2022-08-25T15:06:04Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227386729/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-25T15:06:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23630726691",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4652",
                "id": 1312878267,
                "node_id": "I_kwDOCNXKfM5OQO67",
                "number": 4652,
                "title": "[Bug?]: Required package missing from disk when using pnp with canary yarn",
                "user": {
                    "login": "simPod",
                    "id": 327717,
                    "node_id": "MDQ6VXNlcjMyNzcxNw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/327717?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/simPod",
                    "html_url": "https://github.com/simPod",
                    "followers_url": "https://api.github.com/users/simPod/followers",
                    "following_url": "https://api.github.com/users/simPod/following{/other_user}",
                    "gists_url": "https://api.github.com/users/simPod/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/simPod/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/simPod/subscriptions",
                    "organizations_url": "https://api.github.com/users/simPod/orgs",
                    "repos_url": "https://api.github.com/users/simPod/repos",
                    "events_url": "https://api.github.com/users/simPod/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/simPod/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-21T08:28:46Z",
                "updated_at": "2022-08-25T09:05:39Z",
                "closed_at": "2022-08-25T09:05:39Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI tried running canary (4.0.0-rc.13)\r\n\r\nand getting \r\n\r\n```\r\n/builds/projects/project1/124325/.pnp.cjs:31452\r\n  return Object.defineProperties(new Error(message), {\r\n                                 ^\r\nError: Required package missing from disk. If you keep your packages inside your repository then restarting the Node process may be enough. Otherwise, try to run an install first.\r\nMissing package: prettier@npm:2.7.1\r\n\r\nExpected package location: /root/.yarn/berry/cache/prettier-npm-2.7.1-d1f40f5e1a-9.zip/node_modules/prettier/\r\n    at makeError (/builds/projects/project1/124325/.pnp.cjs:31452:34)\r\n    at resolveUnqualified (/builds/projects/project1/124325/.pnp.cjs:32441:17)\r\n    at resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32464:14)\r\n    at Object.resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32520:26)\r\n    at resolve$1 (file:///builds/projects/project1/124325/.pnp.loader.mjs:221:25)\r\n    at ESMLoader.resolve (node:internal/modules/esm/loader:604:30)\r\n    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:318:18)\r\n    at ESMLoader.import (node:internal/modules/esm/loader:[40](https://gitlab.domain.sth/path/project1/-/jobs/1349330#L40)4:22)\r\n    at node:internal/modules/run_main:54:28\r\n    at loadESM (node:internal/process/esm_loader:85:11)\r\n```\r\n\r\nwhen trying to run any binary via yarn\r\n\r\n### To reproduce\r\n\r\n<details>\r\n\r\nI fail to reproduce it locally on\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 18.0.0 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/node\r\n    Yarn: 4.0.0-rc.13 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/yarn\r\n    npm: 8.6.0 - /opt/homebrew/bin/npm\r\n```\r\n\r\n</details>\r\n\r\nThis is the command sequence I'm trying\r\n```\r\n\tyarn cache clean --all\r\n\tyarn install --immutable\r\n\tyarn bin // this outputs binaries like prettier properly\r\n```\r\n\r\nbut then trying to run\r\n\r\n```sh\r\nyarn run prettier --list-different \"**/*.{graphql,json,md,yml,yaml}\"\r\n```\r\n\r\ngives the error above\r\n\r\n### Environment\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 17.9.0 - /tmp/xfs-1be9c540/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-1be9c540/yarn\r\n    npm: 8.5.5 - ~/.nvm/versions/node/v17.9.0/bin/npm\r\n```\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 18.6.0 - /tmp/xfs-a0a6cc2b/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-a0a6cc2b/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v18.6.0/bin/npm\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-25T09:05:40Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23617354151",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10821661184,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "c89a789e8ccea19594ec087deb8dcbca03178998",
            "before": "e0d8a1b280e83e3e9a79a029f352b3c7688698be",
            "commits": [
                {
                    "sha": "4e3fde430ffce69a62abd87a8676ed0d829baabb",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 40 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.15` |\n| `@yarnpkg/core` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.15` |\n| `@yarnpkg/extensions` | `1.2.0-rc.2` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.15` |\n| `@yarnpkg/pnp` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.15` |\n| `@yarnpkg/sdks` | `3.0.0-rc.15` |\n| `@yarnpkg/fslib` | `3.0.0-rc.15` |\n| `@yarnpkg/libui` | `3.0.0-rc.15` |\n| `@yarnpkg/libzip` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.15` |\n| `vscode-zipfs` | `2.6.0-rc.4` |\n| `@yarnpkg/shell` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.15` |\n| `@yarnpkg/esbuild-plugin-pnp` | `3.0.0-rc.15` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.15` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.15` |\n| `@yarnpkg/builder` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.15` |\n| `@yarnpkg/nm` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.15` |\n| `@yarnpkg/doctor` | `4.0.0-rc.15` |\n| `@yarnpkg/parsers` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.15` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/4e3fde430ffce69a62abd87a8676ed0d829baabb"
                },
                {
                    "sha": "c89a789e8ccea19594ec087deb8dcbca03178998",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/c89a789e8ccea19594ec087deb8dcbca03178998"
                }
            ]
        },
        "public": true,
        "created_at": "2022-08-24T17:03:13Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23616210955",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4661",
                "id": 1316963629,
                "node_id": "I_kwDOCNXKfM5Of0Ut",
                "number": 4661,
                "title": "[Bug?]: yarn says unauthenticated even when npmAuthIdent or npmAuthToken is set",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-25T14:56:56Z",
                "updated_at": "2022-08-24T16:04:58Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nyarn says unauthenticated even when `npmAuthIdent` or `npmAuthToken` is set. At the very least if I've done something wrong I think the error and documentation should be improved, it's not particularly useful.\r\n\r\nhere's my logs, the line is second to last\r\n```\r\n[2022-07-25T13:36:10.574Z] > @cof/e1-http@0.1.0 publish:yarn\r\n[2022-07-25T13:36:10.574Z] > yarn workspaces foreach --no-private --exclude @cof/e1-http --exclude @cof/e1-test-server npm publish\r\n[2022-07-25T13:36:10.574Z] \r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 31ms\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/index.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/secrets-client.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/integration/secrets-client.it.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/unit/secrets-client.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 22ms\r\n```\r\n\r\n### To reproduce\r\n\r\npublish a package to a private server that needs npm credentials like this\r\n\r\n```\r\nregistry.artifactory.our.company.com:username=myuser\r\nregistry.artifactory.our.company.com:username::_password=SomeTokenThatContainsFullAlphaBetNoEquals\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\n11:08:38    System:\r\n11:08:38      OS: Linux 5.10 CentOS Linux 7 (Core)\r\n11:08:38      CPU: (16) x64 Intel(R) Xeon(R) Platinum 8124M CPU @ 3.00GHz\r\n11:08:38    Binaries:\r\n11:08:38      Node: 16.16.0 - /tmp/xfs-e6afd580/node\r\n11:08:38      Yarn: 3.2.1 - /tmp/xfs-e6afd580/yarn\r\n11:08:38      npm: 8.11.0 - ~/.nvm/versions/node/v16.16.0/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n```\r\n[2022-07-25T13:36:06.929Z] Now using node v16.16.0 (npm v8.11.0)\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.440Z] > @cof/e1-http@0.1.0 prepublish:yarn\r\n[2022-07-25T13:36:07.440Z] > yarn install --immutable && yarn :credentials && yarn config\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.963Z] \u27a4 YN0000: \u250c Resolution step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Fetch step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0013: \u2502 635 packages were already cached\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed in 0s 205ms\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Link step\r\n[2022-07-25T13:36:08.987Z] \u27a4 YN0000: \u2502 ESM support for PnP uses the experimental loader API and is therefore experimental\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0007: \u2502 @cof/e1-http@workspace:. must be built because it never has been before or the last one failed\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR fatal: not a git repository (or any parent up to mount point /home)\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2514 Completed in 0s 921ms\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: Done with warnings in 1s 394ms\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: caFilePath                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/cache'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheKeyOverride              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetBaseRefs             [ 'master', 'origin/master', ... 4 more items ]\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetIgnorePatterns       []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: checksumBehavior              'throw'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cloneConcurrency              2\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: compressionLevel              'mixed'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: constraintsPath               '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/constraints.pro'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultLanguageName           'node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultProtocol               'npm:'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultSemverRangePrefix      '^'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableColors                  false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableGlobalCache             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableHyperlinks              false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableCache          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableInstalls       true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineBuilds            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineHunks             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMessageNames            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMirror                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableNetwork                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableProgressBars            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableScripts                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSettings          true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSsl               false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTelemetry               true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTimers                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTransparentWorkspaces   true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: globalFolder                  '/home/git/.yarn/berry'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpProxy                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpRetry                     3\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpTimeout                   60000\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsCertFilePath             null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsKeyFilePath              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsProxy                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignoreCwd                     false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignorePath                    false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: immutablePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initEditorConfig              Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initFields                    Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initScope                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: installStatePath              '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/install-state.gz'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lastUpdateCheck               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lockfileFilename              'yarn.lock'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: logFilters                    []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkConcurrency            50\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkSettings               Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmHoistingLimits              'none'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmMode                        'classic'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmSelfReferences              true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nodeLinker                    'pnp'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAlwaysAuth                 false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuditRegistry              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthIdent                  '********'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthToken                  null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishAccess              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishRegistry            null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistries                 Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistryServer             'https://artifactory.cloud.our.company.com443/artifactory/api/npm/npm-internalfacing/'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmScopes                     Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: packageExtensions             Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: patchFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/patches'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpDataPath                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.pnp.data.json'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableEsmLoader            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableInlining             true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpFallbackMode               'dependencies-only'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpIgnorePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpMode                       'strict'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpShebang                    '#!/usr/bin/env node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpUnpluggedFolder            '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/unplugged'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferAggregateCacheInfo      true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferInteractive             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferTruncatedLines          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: progressBarStyle              undefined\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: rcFilename                    '.yarnrc.yml'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: supportedArchitectures        Map(3) { 'os' => [ 'current' ], 'cpu' => [ 'current' ], 'libc' => [ 'current' ] }\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryInterval             7\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryUserId               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: unsafeHttpWhitelist           []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: virtualFolder                 '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/__virtual__'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: yarnPath                      '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/releases/yarn-3.2.1.cjs'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: Done in 0s 7ms\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1225928901",
                "html_url": "https://github.com/yarnpkg/berry/issues/4661#issuecomment-1225928901",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661",
                "id": 1225928901,
                "node_id": "IC_kwDOCNXKfM5JEjDF",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-24T16:04:57Z",
                "updated_at": "2022-08-24T16:04:57Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1225928901/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-24T16:04:58Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23572224100",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4658",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4658",
                "id": 1315732431,
                "node_id": "I_kwDOCNXKfM5ObHvP",
                "number": 4658,
                "title": "[Bug?]: Yarn doesn't use Node found first in PATH",
                "user": {
                    "login": "RobbieMcKinstry",
                    "id": 4955075,
                    "node_id": "MDQ6VXNlcjQ5NTUwNzU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4955075?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/RobbieMcKinstry",
                    "html_url": "https://github.com/RobbieMcKinstry",
                    "followers_url": "https://api.github.com/users/RobbieMcKinstry/followers",
                    "following_url": "https://api.github.com/users/RobbieMcKinstry/following{/other_user}",
                    "gists_url": "https://api.github.com/users/RobbieMcKinstry/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/RobbieMcKinstry/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/RobbieMcKinstry/subscriptions",
                    "organizations_url": "https://api.github.com/users/RobbieMcKinstry/orgs",
                    "repos_url": "https://api.github.com/users/RobbieMcKinstry/repos",
                    "events_url": "https://api.github.com/users/RobbieMcKinstry/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/RobbieMcKinstry/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-23T19:42:17Z",
                "updated_at": "2022-08-22T20:04:41Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`yarn node` is using a surprising version of Node. I'm not sure where or when this version was even installed, but it certainly defies my expectations about which version is active. I also can't find a way to change the version used by Yarn, or any documentation of how the executable is selected.\r\n\r\n```bash\r\n$ yarn --version\r\n3.2.2\r\n$ yarn node --version\r\nv16.13.0\r\n$ node --version\r\nv18.6.0\r\n$ which node\r\n/Users/robbiemckinstry/.volta/bin/node\r\n$ /Users/robbiemckinstry/.volta/bin/node --version\r\nv18.6.0\r\n$ yarn config | grep 'node'\r\n\u27a4 YN0000: defaultLanguageName           'node'\r\n\u27a4 YN0000: nodeLinker                    'pnp'\r\n\u27a4 YN0000: pnpShebang                    '#!/usr/bin/env node'\r\n$ /usr/bin/env node --version\r\nv18.6.0\r\n$ stat /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-2b580fed/node\r\nstat: /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-e4f51516/node: stat: No such file or directory\r\n```\r\n\r\n### To reproduce\r\n\r\n```bash repro\r\n# Install Node with Volta.\r\n$ curl https://get.volta.sh | bash\r\n$ volta install node@18.6.0\r\n$ node --version\r\n# Install Yarn \r\n$ corepack enable\r\n$ corepack prepare yarn@3.2.2 --activate\r\n# Add Engine version to package.json\r\n$ cat package.json\r\n{\r\n  \"name\": \"tailwindui-saas\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"dev\": \"next dev\",\r\n    \"build\": \"next build\",\r\n    \"start\": \"next start\",\r\n    \"lint\": \"next lint\"\r\n  },\r\n  \"browserslist\": \"defaults, not ie <= 11\",\r\n  \"dependencies\": {\r\n    \"@headlessui/react\": \"^1.6.5\",\r\n    \"@tailwindcss/forms\": \"^0.5.2\",\r\n    \"autoprefixer\": \"^10.4.7\",\r\n    \"clsx\": \"^1.2.0\",\r\n    \"focus-visible\": \"^5.2.0\",\r\n    \"next\": \"12.2.0\",\r\n    \"postcss\": \"^8.4.14\",\r\n    \"postcss-focus-visible\": \"^6.0.4\",\r\n    \"react\": \"18.2.0\",\r\n    \"react-dom\": \"18.2.0\",\r\n    \"tailwindcss\": \"^3.1.4\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"eslint\": \"8.19.0\",\r\n    \"eslint-config-next\": \"12.2.0\",\r\n    \"prettier\": \"^2.7.1\",\r\n    \"prettier-plugin-tailwindcss\": \"^0.1.11\"\r\n  },\r\n  \"engines\": {\r\n    \"node\": \"18.6.0\",\r\n    \"yarn\": \"3.2.2\"\r\n  },\r\n  \"volta\": {\r\n    \"node\": \"18.6.0\"\r\n  }\r\n}\r\n# Inspect Yarn Version\r\n$ yarn node --version\r\nv16.13.0\r\n$ node --version\r\nv18.6.0\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.13.0 - /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-2b580fed/node\r\n    Yarn: 3.2.2 - /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-2b580fed/yarn\r\n    npm: 8.6.0 - ~/.volta/tools/image/npm/8.6.0/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThis issue is tangentially related to https://github.com/yarnpkg/berry/issues/1177\r\nI would expect `yarn node` to use the node version provided in the `engine.node` field of `package.json`, or to throw a warning if the version it's using does not match. ",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1222894339",
                "html_url": "https://github.com/yarnpkg/berry/issues/4658#issuecomment-1222894339",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658",
                "id": 1222894339,
                "node_id": "IC_kwDOCNXKfM5I4-MD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-22T20:04:41Z",
                "updated_at": "2022-08-22T20:04:41Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1222894339/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-22T20:04:42Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23552154327",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4657",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4657",
                "id": 1315483371,
                "node_id": "I_kwDOCNXKfM5OaK7r",
                "number": 4657,
                "title": "[Bug?]: missing description YN0033",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-22T23:15:57Z",
                "updated_at": "2022-08-22T00:20:58Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nmissing help description\n\n### To reproduce\n\n```\r\n\u276f yarn explain YN0033\r\n\u2501\u2501\u2501 YN0033 - AUTHENTICATION_NOT_FOUND \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\r\n\r\nThis error code does not have a description.\r\n\r\nYou can help us by editing this page on GitHub \ud83d\ude42:\r\nhttps://github.com/yarnpkg/berry/blob/master/packages/gatsby/content/advanced/error-codes.md\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 11.6.6\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-4dfebc17/node\r\n    Yarn: 3.2.1 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-4dfebc17/yarn\r\n    npm: 8.6.0 - ~/.asdf/plugins/nodejs/shims/npm\r\n```\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221655192",
                "html_url": "https://github.com/yarnpkg/berry/issues/4657#issuecomment-1221655192",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657",
                "id": 1221655192,
                "node_id": "IC_kwDOCNXKfM5I0PqY",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-22T00:20:58Z",
                "updated_at": "2022-08-22T00:20:58Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221655192/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-22T00:20:58Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23542451359",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4653",
                "id": 1313436896,
                "node_id": "I_kwDOCNXKfM5OSXTg",
                "number": 4653,
                "title": "[Bug?]: yarn does not taken into account peerDependenciesMeta.optional",
                "user": {
                    "login": "blephy",
                    "id": 24233935,
                    "node_id": "MDQ6VXNlcjI0MjMzOTM1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24233935?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/blephy",
                    "html_url": "https://github.com/blephy",
                    "followers_url": "https://api.github.com/users/blephy/followers",
                    "following_url": "https://api.github.com/users/blephy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/blephy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/blephy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/blephy/subscriptions",
                    "organizations_url": "https://api.github.com/users/blephy/orgs",
                    "repos_url": "https://api.github.com/users/blephy/repos",
                    "events_url": "https://api.github.com/users/blephy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/blephy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-21T15:25:41Z",
                "updated_at": "2022-08-20T16:04:44Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nImagine a library named `lib-a`, published on a registry. This library have this manifest : \r\n\r\n```jsonc\r\n{\r\n  // ...\r\n\"peerDependencies\": {\r\n    \"eslint-plugin-react\": \"2.0.0\"\r\n  },\r\n  \"peerDependenciesMeta\": {\r\n    \"eslint-plugin-react\": {\r\n      \"optional\": true\r\n    }\r\n  },\r\n  // ...\r\n}\r\n```\r\n\r\nWhen a package install `lib-a` without providing `eslint-plugin-react`, yarn produce a warning message \r\n\r\n```bash\r\n\u27a4 YN0002: \u2502 toto@workspace:. doesn't provide eslint-plugin-react (p61f53), requested by lib-a\r\n```\r\n\r\nyarn berry 3.2.1\r\n\r\n### To reproduce\r\n\r\nThis is not a complicated step to check :)\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\n  Binaries:\r\n    Node: 14.19.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/node\r\n    Yarn: 3.2.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/yarn\r\n    npm: 6.14.16 - ~/.nvm/versions/node/v14.19.1/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221355896",
                "html_url": "https://github.com/yarnpkg/berry/issues/4653#issuecomment-1221355896",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653",
                "id": 1221355896,
                "node_id": "IC_kwDOCNXKfM5IzGl4",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-20T16:04:44Z",
                "updated_at": "2022-08-20T16:04:44Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221355896/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-20T16:04:44Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23540186993",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4652",
                "id": 1312878267,
                "node_id": "I_kwDOCNXKfM5OQO67",
                "number": 4652,
                "title": "[Bug?]: Required package missing from disk when using pnp with canary yarn",
                "user": {
                    "login": "simPod",
                    "id": 327717,
                    "node_id": "MDQ6VXNlcjMyNzcxNw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/327717?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/simPod",
                    "html_url": "https://github.com/simPod",
                    "followers_url": "https://api.github.com/users/simPod/followers",
                    "following_url": "https://api.github.com/users/simPod/following{/other_user}",
                    "gists_url": "https://api.github.com/users/simPod/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/simPod/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/simPod/subscriptions",
                    "organizations_url": "https://api.github.com/users/simPod/orgs",
                    "repos_url": "https://api.github.com/users/simPod/repos",
                    "events_url": "https://api.github.com/users/simPod/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/simPod/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-21T08:28:46Z",
                "updated_at": "2022-08-20T09:04:26Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI tried running canary (4.0.0-rc.13)\r\n\r\nand getting \r\n\r\n```\r\n/builds/projects/project1/124325/.pnp.cjs:31452\r\n  return Object.defineProperties(new Error(message), {\r\n                                 ^\r\nError: Required package missing from disk. If you keep your packages inside your repository then restarting the Node process may be enough. Otherwise, try to run an install first.\r\nMissing package: prettier@npm:2.7.1\r\n\r\nExpected package location: /root/.yarn/berry/cache/prettier-npm-2.7.1-d1f40f5e1a-9.zip/node_modules/prettier/\r\n    at makeError (/builds/projects/project1/124325/.pnp.cjs:31452:34)\r\n    at resolveUnqualified (/builds/projects/project1/124325/.pnp.cjs:32441:17)\r\n    at resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32464:14)\r\n    at Object.resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32520:26)\r\n    at resolve$1 (file:///builds/projects/project1/124325/.pnp.loader.mjs:221:25)\r\n    at ESMLoader.resolve (node:internal/modules/esm/loader:604:30)\r\n    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:318:18)\r\n    at ESMLoader.import (node:internal/modules/esm/loader:[40](https://gitlab.domain.sth/path/project1/-/jobs/1349330#L40)4:22)\r\n    at node:internal/modules/run_main:54:28\r\n    at loadESM (node:internal/process/esm_loader:85:11)\r\n```\r\n\r\nwhen trying to run any binary via yarn\r\n\r\n### To reproduce\r\n\r\n<details>\r\n\r\nI fail to reproduce it locally on\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 18.0.0 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/node\r\n    Yarn: 4.0.0-rc.13 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/yarn\r\n    npm: 8.6.0 - /opt/homebrew/bin/npm\r\n```\r\n\r\n</details>\r\n\r\nThis is the command sequence I'm trying\r\n```\r\n\tyarn cache clean --all\r\n\tyarn install --immutable\r\n\tyarn bin // this outputs binaries like prettier properly\r\n```\r\n\r\nbut then trying to run\r\n\r\n```sh\r\nyarn run prettier --list-different \"**/*.{graphql,json,md,yml,yaml}\"\r\n```\r\n\r\ngives the error above\r\n\r\n### Environment\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 17.9.0 - /tmp/xfs-1be9c540/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-1be9c540/yarn\r\n    npm: 8.5.5 - ~/.nvm/versions/node/v17.9.0/bin/npm\r\n```\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 18.6.0 - /tmp/xfs-a0a6cc2b/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-a0a6cc2b/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v18.6.0/bin/npm\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221262936",
                "html_url": "https://github.com/yarnpkg/berry/issues/4652#issuecomment-1221262936",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652",
                "id": 1221262936,
                "node_id": "IC_kwDOCNXKfM5Iyv5Y",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-20T09:04:26Z",
                "updated_at": "2022-08-20T09:04:26Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221262936/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-20T09:04:26Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23494701553",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4623",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4623",
                "id": 1303939014,
                "node_id": "I_kwDOCNXKfM5NuIfG",
                "number": 4623,
                "title": "[Bug?]: Vulnerability introduced through `parse-path` transitive dependency",
                "user": {
                    "login": "mhassan1",
                    "id": 8029107,
                    "node_id": "MDQ6VXNlcjgwMjkxMDc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8029107?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mhassan1",
                    "html_url": "https://github.com/mhassan1",
                    "followers_url": "https://api.github.com/users/mhassan1/followers",
                    "following_url": "https://api.github.com/users/mhassan1/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mhassan1/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mhassan1/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mhassan1/subscriptions",
                    "organizations_url": "https://api.github.com/users/mhassan1/orgs",
                    "repos_url": "https://api.github.com/users/mhassan1/repos",
                    "events_url": "https://api.github.com/users/mhassan1/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mhassan1/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-07-13T20:58:32Z",
                "updated_at": "2022-08-17T23:05:00Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\n`parse-path@4` is vulnerable to [Authorization Bypass](https://security.snyk.io/vuln/SNYK-JS-PARSEPATH-2936439), and `@yarnpkg/plugin-git` has a [transitive dependency](https://snyk.io/test/npm/%40yarnpkg/plugin-git/3.0.0-rc.11) on it, via its dependency on `git-url-parse@11`. This can be resolved by upgrading to `git-url-parse@12`.\n\n### To reproduce\n\n```js repro\r\nconst { promises: { readFile } } = require('fs')\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    '@yarnpkg/plugin-git': '3.0.0-rc.12'\r\n  }\r\n})\r\nexpect(await readFile('yarn.lock', 'utf8')).not.toContain('parse-path@npm:4')\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 12.4\r\n  CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\nBinaries:\r\n  Node: 16.14.2 - /private/var/folders/82/cn2lb31s5hd572v7x5wkc1vc0000gq/T/xfs-89ab454f/node\r\n  Yarn: 4.0.0-rc.7-dev - /private/var/folders/82/cn2lb31s5hd572v7x5wkc1vc0000gq/T/xfs-89ab454f/yarn\r\n  npm: 8.9.0 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218598317",
                "html_url": "https://github.com/yarnpkg/berry/issues/4623#issuecomment-1218598317",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623",
                "id": 1218598317,
                "node_id": "IC_kwDOCNXKfM5IolWt",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-17T23:04:59Z",
                "updated_at": "2022-08-17T23:04:59Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218598317/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-17T23:05:00Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23493255175",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4580",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4580",
                "id": 1284707853,
                "node_id": "I_kwDOCNXKfM5MkxYN",
                "number": 4580,
                "title": "[Bug?]: `yarn upgrade-interactive` incorrectly parses aliased packages",
                "user": {
                    "login": "kkirsche",
                    "id": 947110,
                    "node_id": "MDQ6VXNlcjk0NzExMA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/947110?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/kkirsche",
                    "html_url": "https://github.com/kkirsche",
                    "followers_url": "https://api.github.com/users/kkirsche/followers",
                    "following_url": "https://api.github.com/users/kkirsche/following{/other_user}",
                    "gists_url": "https://api.github.com/users/kkirsche/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/kkirsche/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/kkirsche/subscriptions",
                    "organizations_url": "https://api.github.com/users/kkirsche/orgs",
                    "repos_url": "https://api.github.com/users/kkirsche/repos",
                    "events_url": "https://api.github.com/users/kkirsche/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/kkirsche/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-06-25T20:34:17Z",
                "updated_at": "2022-08-17T21:04:46Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\n`yarn upgrade-interactive` incorrectly parses aliased packages\n\n### To reproduce\n\nSorry, I don't know how to do an interactive plugin reproduction via Sherlock, so I put together a git repo with the minimal code:\r\n\r\nhttps://github.com/kkirsche/yarn-issue-repro\r\n\r\nThis includes an image of the actual output\r\n\r\nTo reproduce:\r\n```\r\ngit clone https://github.com/kkirsche/yarn-issue-repro.git\r\ncd yarn-issue-repro\r\nyarn install\r\nyarn upgrade-interactive\r\n```\r\n\r\nThis is using the following package.json:\r\n\r\n```js\r\n{\r\n  \"dependencies\": {\r\n    \"buffer\": \"npm:buffer-browserify@^0.2.5\"\r\n  },\r\n  \"packageManager\": \"yarn@3.2.1\"\r\n}\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/62/793fz95j5856gz_3gz6yrlv80000gq/T/xfs-99a9dab4/node\r\n    Yarn: 3.2.1 - /private/var/folders/62/793fz95j5856gz_3gz6yrlv80000gq/T/xfs-99a9dab4/yarn\r\n    npm: 8.13.1 - ~/.asdf/plugins/nodejs/shims/npm\n```\n\n\n### Additional context\n\n![CleanShot 2022-06-25 at 16 30 27@2x](https://user-images.githubusercontent.com/947110/175789722-9537a2ab-d29b-4ef9-a106-976ae5c8111b.png)\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218489225",
                "html_url": "https://github.com/yarnpkg/berry/issues/4580#issuecomment-1218489225",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580",
                "id": 1218489225,
                "node_id": "IC_kwDOCNXKfM5IoKuJ",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-17T21:04:46Z",
                "updated_at": "2022-08-17T21:04:46Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218489225/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-17T21:04:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23489424087",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4622",
                "id": 1302633000,
                "node_id": "I_kwDOCNXKfM5NpJoo",
                "number": 4622,
                "title": "[Bug?]: `yarn workspaces list` shows folder names, not workspace names",
                "user": {
                    "login": "jbzcooper",
                    "id": 5839966,
                    "node_id": "MDQ6VXNlcjU4Mzk5NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5839966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jbzcooper",
                    "html_url": "https://github.com/jbzcooper",
                    "followers_url": "https://api.github.com/users/jbzcooper/followers",
                    "following_url": "https://api.github.com/users/jbzcooper/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jbzcooper/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jbzcooper/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jbzcooper/subscriptions",
                    "organizations_url": "https://api.github.com/users/jbzcooper/orgs",
                    "repos_url": "https://api.github.com/users/jbzcooper/repos",
                    "events_url": "https://api.github.com/users/jbzcooper/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jbzcooper/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-12T21:18:45Z",
                "updated_at": "2022-08-17T17:09:59Z",
                "closed_at": "2022-08-17T17:09:59Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nGiven a yarn workspace setup where the package names are different from the folder's they are in\r\nWhen a user enters the `yarn workspaces list` command\r\nThen we expect the workspace names to be returned.\r\n\r\nActual result: the folder names are returned.\n\n### To reproduce\n\n1. Create a new yarn project following these instructions https://classic.yarnpkg.com/lang/en/docs/workspaces/\r\n2. In the `workspace-a` folder, modify the `name` property of the package.json file to: \"a-workspace\"\r\n3. At the command prompt enter: `yarn workspaces list`\r\n\r\nExpected result:\r\na-workspace\r\nworkspace-b\r\n\r\nActual result:\r\nworkspace-a\r\nworkspace b\n\n### Environment\n\n```shell\nSystem:\r\n1. Zorin OS 16 (5.13.0-52-generic 20.04.1-Ubuntu)\r\n2. Windows 10.0.19044\r\nBinaries:\r\nmachine: /home/xxx/.nvm/versions/node/v16.13.0/bin/yarn version 1.22.15\r\nproject: <proj folder>/.yarn/yarn-3.2.1.cjs\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-17T17:09:59Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23410681260",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4622",
                "id": 1302633000,
                "node_id": "I_kwDOCNXKfM5NpJoo",
                "number": 4622,
                "title": "[Bug?]: `yarn workspaces list` shows folder names, not workspace names",
                "user": {
                    "login": "jbzcooper",
                    "id": 5839966,
                    "node_id": "MDQ6VXNlcjU4Mzk5NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5839966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jbzcooper",
                    "html_url": "https://github.com/jbzcooper",
                    "followers_url": "https://api.github.com/users/jbzcooper/followers",
                    "following_url": "https://api.github.com/users/jbzcooper/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jbzcooper/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jbzcooper/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jbzcooper/subscriptions",
                    "organizations_url": "https://api.github.com/users/jbzcooper/orgs",
                    "repos_url": "https://api.github.com/users/jbzcooper/repos",
                    "events_url": "https://api.github.com/users/jbzcooper/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jbzcooper/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-12T21:18:45Z",
                "updated_at": "2022-08-12T17:09:25Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nGiven a yarn workspace setup where the package names are different from the folder's they are in\r\nWhen a user enters the `yarn workspaces list` command\r\nThen we expect the workspace names to be returned.\r\n\r\nActual result: the folder names are returned.\n\n### To reproduce\n\n1. Create a new yarn project following these instructions https://classic.yarnpkg.com/lang/en/docs/workspaces/\r\n2. In the `workspace-a` folder, modify the `name` property of the package.json file to: \"a-workspace\"\r\n3. At the command prompt enter: `yarn workspaces list`\r\n\r\nExpected result:\r\na-workspace\r\nworkspace-b\r\n\r\nActual result:\r\nworkspace-a\r\nworkspace b\n\n### Environment\n\n```shell\nSystem:\r\n1. Zorin OS 16 (5.13.0-52-generic 20.04.1-Ubuntu)\r\n2. Windows 10.0.19044\r\nBinaries:\r\nmachine: /home/xxx/.nvm/versions/node/v16.13.0/bin/yarn version 1.22.15\r\nproject: <proj folder>/.yarn/yarn-3.2.1.cjs\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1213335261",
                "html_url": "https://github.com/yarnpkg/berry/issues/4622#issuecomment-1213335261",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622",
                "id": 1213335261,
                "node_id": "IC_kwDOCNXKfM5IUgbd",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-12T17:09:25Z",
                "updated_at": "2022-08-12T17:09:25Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1213335261/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-12T17:09:25Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23409658431",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4613",
                "id": 1299141818,
                "node_id": "I_kwDOCNXKfM5Nb1S6",
                "number": 4613,
                "title": "[Bug?]: .pnp.cjs priority issue",
                "user": {
                    "login": "qkrdmstlr3",
                    "id": 26402298,
                    "node_id": "MDQ6VXNlcjI2NDAyMjk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/26402298?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/qkrdmstlr3",
                    "html_url": "https://github.com/qkrdmstlr3",
                    "followers_url": "https://api.github.com/users/qkrdmstlr3/followers",
                    "following_url": "https://api.github.com/users/qkrdmstlr3/following{/other_user}",
                    "gists_url": "https://api.github.com/users/qkrdmstlr3/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/qkrdmstlr3/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/qkrdmstlr3/subscriptions",
                    "organizations_url": "https://api.github.com/users/qkrdmstlr3/orgs",
                    "repos_url": "https://api.github.com/users/qkrdmstlr3/repos",
                    "events_url": "https://api.github.com/users/qkrdmstlr3/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/qkrdmstlr3/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-08T15:07:00Z",
                "updated_at": "2022-08-12T16:05:05Z",
                "closed_at": "2022-08-12T16:05:05Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nHello. this is my first issue to opensource!\r\nThis is the folder structure that reproduces the problem situation.\r\n```\r\nhome\r\n\u3134 .yarn\r\n\u3134 folder_1\r\n    \u3134 .yarn\r\n    \u3134 folder_2\r\n        \u3134 index.ts\r\n        \u3134 package.json\r\n    \u3134 .pnp.cjs\r\n    \u3134 .pnp.loader.mjs\r\n    \u3134 .yarnrc.yml\r\n    \u3134 packagejson\r\n\u3134 .pnp.cjs\r\n```\r\nThe `folder_1` is managed as a monorepo and zero install using `pnp`.\r\nI ran the `yarn build` command in folder 2 (index.ts called installed library with `yarn`).\r\nThen following error was occured(home directory name is shell).\r\n<img width=\"472\" alt=\"\u1109\u1173\u110f\u1173\u1105\u1175\u11ab\u1109\u1163\u11ba 2022-07-08 \u110b\u1169\u1112\u116e 11 43 24\" src=\"https://user-images.githubusercontent.com/26402298/178015060-ef3615c1-ab46-48d2-86c0-39cc9377a092.png\">\r\nI didn't know what the error was at first.\r\nBut later I realized that `home/.pnp.cjs` was called and not `home/folder_1/.pnp.cjs`.\r\nBecause library which is used in index.ts is installed in `home/folder_1/.yarn/.cache`, .pnp.cjs couldn't find zip file in `home/.yarn/.cache`\r\nIt seems to run `.pnp.cjs`, which is located at the top, going back up from where I ran `yarn build`.\r\nI think that unconditionally executing the .pnp.cjs call above the parent can be a problem, what do you think?\r\n**If there is no problem, I think the error message should be more detailed.**\r\nThanks for listening to my opinion! Have a good day!\n\n### To reproduce\n\nProject is monorepo\r\nThere is .pnp.cjs outside of monorepo\r\nInstall the library with zero install from the monorepo and run it with the `yarn command`.\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 11.2.3\r\n  CPU: 2.3 GHz 8core Intel Core i9\r\nBinaries:\r\n  Yarn: 3.2.1\r\n  Node: 18.4.0\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-12T16:05:06Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23389104223",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4548",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4548",
                "id": 1271353715,
                "node_id": "I_kwDOCNXKfM5Lx1Fz",
                "number": 4548,
                "title": "[Bug?]: `yarn version` fails on CI (GitHub Actions)",
                "user": {
                    "login": "marcofugaro",
                    "id": 7217420,
                    "node_id": "MDQ6VXNlcjcyMTc0MjA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7217420?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/marcofugaro",
                    "html_url": "https://github.com/marcofugaro",
                    "followers_url": "https://api.github.com/users/marcofugaro/followers",
                    "following_url": "https://api.github.com/users/marcofugaro/following{/other_user}",
                    "gists_url": "https://api.github.com/users/marcofugaro/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/marcofugaro/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/marcofugaro/subscriptions",
                    "organizations_url": "https://api.github.com/users/marcofugaro/orgs",
                    "repos_url": "https://api.github.com/users/marcofugaro/repos",
                    "events_url": "https://api.github.com/users/marcofugaro/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/marcofugaro/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-06-14T20:52:08Z",
                "updated_at": "2022-08-11T16:04:45Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am trying to use the [yarn version](https://yarnpkg.com/cli/version) command on GitHub Actions.\r\n\r\nHowever it does not seem to work, this is the error:\r\n\r\n<img width=\"684\" alt=\"image\" src=\"https://user-images.githubusercontent.com/7217420/173685193-c9a54a0f-576b-4c08-a0e7-a2a6db16b1f8.png\">\r\n\r\n```\r\nNo ancestor could be found between any of HEAD and master, origin/master, upstream/master, main, origin/main, upstream/main\r\n```\r\n\r\nI am using the standard `actions/checkout@v2` to checkout the repo on GitHub Actions.\r\nThe branch where I trigger the action is the `dev` branch. So a custom one. Why `yarn version` only needs master/main branch?\n\n### To reproduce\n\n```yaml\r\non:\r\n  push:\r\n\r\njobs:\r\n  update-version:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - name: Check out repo\r\n        uses: actions/checkout@v2\r\n\r\n      - name: Set the version of package.json\r\n        run: yarn version 2.0.0\r\n```\n\n### Environment\n\n```shell\nGithub Actions\n```\n\n\n### Additional context\n\nI am using this to make a bot that auto-updates the package.json version wired to our internal semantic release system.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1212189797",
                "html_url": "https://github.com/yarnpkg/berry/issues/4548#issuecomment-1212189797",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548",
                "id": 1212189797,
                "node_id": "IC_kwDOCNXKfM5IQIxl",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-11T16:04:45Z",
                "updated_at": "2022-08-11T16:04:45Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1212189797/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-11T16:04:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23386373629",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4611",
                "id": 1297013896,
                "node_id": "I_kwDOCNXKfM5NTtyI",
                "number": 4611,
                "title": "[Bug]: yarn workspaces focus doesn't work with pnpm linker ",
                "user": {
                    "login": "entropitor",
                    "id": 896093,
                    "node_id": "MDQ6VXNlcjg5NjA5Mw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/896093?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/entropitor",
                    "html_url": "https://github.com/entropitor",
                    "followers_url": "https://api.github.com/users/entropitor/followers",
                    "following_url": "https://api.github.com/users/entropitor/following{/other_user}",
                    "gists_url": "https://api.github.com/users/entropitor/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/entropitor/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/entropitor/subscriptions",
                    "organizations_url": "https://api.github.com/users/entropitor/orgs",
                    "repos_url": "https://api.github.com/users/entropitor/repos",
                    "events_url": "https://api.github.com/users/entropitor/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/entropitor/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-07-07T08:21:50Z",
                "updated_at": "2022-08-11T14:04:34Z",
                "closed_at": "2022-08-11T14:04:34Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen you install using `yarn workspaces focus` and `pnpm` as nodeLinker, the packages you focussed are not in `node_modules` in the root. \n\n### To reproduce\n\nSet-up a mono-repo and install using `yarn workspaces focus` and inspect `node_modules` at the root, it's empty.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Alpine Linux\r\n    CPU: (5) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 12.22.0 - /tmp/xfs-ade9017b/node\r\n    Yarn: 3.2.1 - /tmp/xfs-ade9017b/yarn\r\n    npm: 6.14.11 - /usr/local/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-11T14:04:35Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23355583970",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4607",
                "id": 1295234810,
                "node_id": "I_kwDOCNXKfM5NM7b6",
                "number": 4607,
                "title": "[Bug?]: Adding devDependencies cause other dependencies to be duplicated in PnP mode",
                "user": {
                    "login": "smeng9",
                    "id": 38666763,
                    "node_id": "MDQ6VXNlcjM4NjY2NzYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/38666763?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/smeng9",
                    "html_url": "https://github.com/smeng9",
                    "followers_url": "https://api.github.com/users/smeng9/followers",
                    "following_url": "https://api.github.com/users/smeng9/following{/other_user}",
                    "gists_url": "https://api.github.com/users/smeng9/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/smeng9/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/smeng9/subscriptions",
                    "organizations_url": "https://api.github.com/users/smeng9/orgs",
                    "repos_url": "https://api.github.com/users/smeng9/repos",
                    "events_url": "https://api.github.com/users/smeng9/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/smeng9/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-06T06:18:32Z",
                "updated_at": "2022-08-10T07:04:42Z",
                "closed_at": "2022-08-10T07:04:42Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen adding @babel/core as devDependencies (I have some other scripts depend on this) to the repo here https://github.com/smeng9/vite-dup-package/tree/no-warning , it causes @emotion/react to be duplicated package and produce warnings https://github.com/smeng9/vite-dup-package/tree/main .\r\n\r\n![duplicate](https://user-images.githubusercontent.com/38666763/177479152-6c5ea998-69a2-4307-8deb-7957994eaacd.PNG)\r\n\r\nThe yarn.lock file does not have any duplicate package, but pnp.cjs file has duplicate package, which should not happen. The issue only happens in PnP mode, non-pnp mode using nodeLinker: node-modules does not have the issue.\r\n\r\n### To reproduce\r\n\r\nTo reproduce, clone https://github.com/smeng9/vite-dup-package and checkout branch `no-warning`\r\n\r\nPerform `$ yarn` to install of dependencies using PnP mode. Check generated yarn.lock file and there should be no duplicate @emotion/react packages as they all resolve to same version. Check generated pnp.cjs file, the virtual dependencies for @emotion/react all have the same hash. (you can see no warnings when starting project with `$ yarn dev` then open browser console)\r\n\r\nThen try to install `$ yarn add -D @babel/core` and check generated yarn.lock file and there should be no duplicate @emotion/react package. Check generated pnp.cjs file, the virtual dependencies for @emotion/react have different hashes. Similar as https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L589 and https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L613 . There will be warnings as shown in above image when `$ yarn dev` and open browser console\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Xeon(R) CPU E3-1240 v3 @ 3.40GHz\r\n  Binaries:\r\n    Node: 18.3.0 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\node.CMD\r\n    Yarn: 3.2.1 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\yarn.CMD\r\n    npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-10T07:04:42Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23328877520",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4602",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4602",
                "id": 1293668754,
                "node_id": "I_kwDOCNXKfM5NG9GS",
                "number": 4602,
                "title": "[Bug?]: 3rd Party Packages Fail to Augment Other 3rd Party Typescript Packages When Using Workspaces",
                "user": {
                    "login": "Alex-Yakubovsky",
                    "id": 4634869,
                    "node_id": "MDQ6VXNlcjQ2MzQ4Njk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4634869?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Alex-Yakubovsky",
                    "html_url": "https://github.com/Alex-Yakubovsky",
                    "followers_url": "https://api.github.com/users/Alex-Yakubovsky/followers",
                    "following_url": "https://api.github.com/users/Alex-Yakubovsky/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Alex-Yakubovsky/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Alex-Yakubovsky/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Alex-Yakubovsky/subscriptions",
                    "organizations_url": "https://api.github.com/users/Alex-Yakubovsky/orgs",
                    "repos_url": "https://api.github.com/users/Alex-Yakubovsky/repos",
                    "events_url": "https://api.github.com/users/Alex-Yakubovsky/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Alex-Yakubovsky/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-05T01:04:12Z",
                "updated_at": "2022-08-09T01:37:50Z",
                "closed_at": "2022-08-09T01:37:50Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nTypescript allows modules to [augment](https://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation) other Typescript modules. This works as expected when using Berry v3 (with PnP) without workspaces, but interfaces are not merged when using workspaces.\n\n### To reproduce\n\nhttps://yarnpkg.com/playground is giving me a 502 so I'm including a link to a minimal repo instead (hope that's okay): https://github.com/Alex-Yakubovsky/yarn-bug-repo\r\n\r\nInside the repo there are two examples; `happy-path` and `bad-path`. They contain the exact same code, but `bad-path` uses a workspace and `happy-path` does not. In both examples, I use `fastify` and `@fastify/static` as the only two dependencies (no knowledge of `fastify` is needed).  `@fastify/static` augments `fastify`'s `FastifyReply` here: https://github.com/fastify/fastify-static/blob/master/index.d.ts#L8-L17. The expectation is that a fastify instance should now have a `sendFile` method that typescript can pick up on.\r\n\r\nIn `happy-path`, typescript picks up of the `sendFile` method. You can verify by running:\r\n\r\n```bash\r\ncd happy-path\r\nyarn install\r\nyarn tsc --noEmit\r\n```\r\n\r\nIn the `bad-path`, typescript does not pick up on the `sendFile` method. You can verify by running:\r\n\r\n```bash\r\ncd bad-path\r\nyarn install\r\nyarn workspace app-1 tsc --noEmit\r\n```\r\n\r\nand you'll get:\r\n\r\n```\r\napp.ts:10:15 - error TS2339: Property 'sendFile' does not exist on type 'FastifyReply<http.Server, http.IncomingMessage, http.ServerResponse, RouteGenericInterface, unknown, FastifySchema, FastifyTypeProviderDefault, unknown>'.\r\n\r\n10         reply.sendFile('...')\r\n                 ~~~~~~~~\r\n```\r\n\r\nThe code itself is identical.\r\n\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.2.1\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.14.2 - /private/var/folders/4b/04__k99n7_7g7v7lbmlm8bdm0000gn/T/xfs-b6922feb/node\r\n    Yarn: 3.2.1 - /private/var/folders/4b/04__k99n7_7g7v7lbmlm8bdm0000gn/T/xfs-b6922feb/yarn\r\n    npm: 8.9.0 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-09T01:37:50Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23303048676",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4613",
                "id": 1299141818,
                "node_id": "I_kwDOCNXKfM5Nb1S6",
                "number": 4613,
                "title": "[Bug?]: .pnp.cjs priority issue",
                "user": {
                    "login": "qkrdmstlr3",
                    "id": 26402298,
                    "node_id": "MDQ6VXNlcjI2NDAyMjk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/26402298?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/qkrdmstlr3",
                    "html_url": "https://github.com/qkrdmstlr3",
                    "followers_url": "https://api.github.com/users/qkrdmstlr3/followers",
                    "following_url": "https://api.github.com/users/qkrdmstlr3/following{/other_user}",
                    "gists_url": "https://api.github.com/users/qkrdmstlr3/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/qkrdmstlr3/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/qkrdmstlr3/subscriptions",
                    "organizations_url": "https://api.github.com/users/qkrdmstlr3/orgs",
                    "repos_url": "https://api.github.com/users/qkrdmstlr3/repos",
                    "events_url": "https://api.github.com/users/qkrdmstlr3/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/qkrdmstlr3/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-08T15:07:00Z",
                "updated_at": "2022-08-07T16:04:44Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nHello. this is my first issue to opensource!\r\nThis is the folder structure that reproduces the problem situation.\r\n```\r\nhome\r\n\u3134 .yarn\r\n\u3134 folder_1\r\n    \u3134 .yarn\r\n    \u3134 folder_2\r\n        \u3134 index.ts\r\n        \u3134 package.json\r\n    \u3134 .pnp.cjs\r\n    \u3134 .pnp.loader.mjs\r\n    \u3134 .yarnrc.yml\r\n    \u3134 packagejson\r\n\u3134 .pnp.cjs\r\n```\r\nThe `folder_1` is managed as a monorepo and zero install using `pnp`.\r\nI ran the `yarn build` command in folder 2 (index.ts called installed library with `yarn`).\r\nThen following error was occured(home directory name is shell).\r\n<img width=\"472\" alt=\"\u1109\u1173\u110f\u1173\u1105\u1175\u11ab\u1109\u1163\u11ba 2022-07-08 \u110b\u1169\u1112\u116e 11 43 24\" src=\"https://user-images.githubusercontent.com/26402298/178015060-ef3615c1-ab46-48d2-86c0-39cc9377a092.png\">\r\nI didn't know what the error was at first.\r\nBut later I realized that `home/.pnp.cjs` was called and not `home/folder_1/.pnp.cjs`.\r\nBecause library which is used in index.ts is installed in `home/folder_1/.yarn/.cache`, .pnp.cjs couldn't find zip file in `home/.yarn/.cache`\r\nIt seems to run `.pnp.cjs`, which is located at the top, going back up from where I ran `yarn build`.\r\nI think that unconditionally executing the .pnp.cjs call above the parent can be a problem, what do you think?\r\n**If there is no problem, I think the error message should be more detailed.**\r\nThanks for listening to my opinion! Have a good day!\n\n### To reproduce\n\nProject is monorepo\r\nThere is .pnp.cjs outside of monorepo\r\nInstall the library with zero install from the monorepo and run it with the `yarn command`.\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 11.2.3\r\n  CPU: 2.3 GHz 8core Intel Core i9\r\nBinaries:\r\n  Yarn: 3.2.1\r\n  Node: 18.4.0\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207438224",
                "html_url": "https://github.com/yarnpkg/berry/issues/4613#issuecomment-1207438224",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613",
                "id": 1207438224,
                "node_id": "IC_kwDOCNXKfM5H-AuQ",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-07T16:04:44Z",
                "updated_at": "2022-08-07T16:04:44Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207438224/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-07T16:04:44Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23295546824",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4611",
                "id": 1297013896,
                "node_id": "I_kwDOCNXKfM5NTtyI",
                "number": 4611,
                "title": "[Bug]: yarn workspaces focus doesn't work with pnpm linker ",
                "user": {
                    "login": "entropitor",
                    "id": 896093,
                    "node_id": "MDQ6VXNlcjg5NjA5Mw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/896093?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/entropitor",
                    "html_url": "https://github.com/entropitor",
                    "followers_url": "https://api.github.com/users/entropitor/followers",
                    "following_url": "https://api.github.com/users/entropitor/following{/other_user}",
                    "gists_url": "https://api.github.com/users/entropitor/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/entropitor/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/entropitor/subscriptions",
                    "organizations_url": "https://api.github.com/users/entropitor/orgs",
                    "repos_url": "https://api.github.com/users/entropitor/repos",
                    "events_url": "https://api.github.com/users/entropitor/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/entropitor/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-07-07T08:21:50Z",
                "updated_at": "2022-08-06T14:04:29Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen you install using `yarn workspaces focus` and `pnpm` as nodeLinker, the packages you focussed are not in `node_modules` in the root. \n\n### To reproduce\n\nSet-up a mono-repo and install using `yarn workspaces focus` and inspect `node_modules` at the root, it's empty.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Alpine Linux\r\n    CPU: (5) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 12.22.0 - /tmp/xfs-ade9017b/node\r\n    Yarn: 3.2.1 - /tmp/xfs-ade9017b/yarn\r\n    npm: 6.14.11 - /usr/local/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207220530",
                "html_url": "https://github.com/yarnpkg/berry/issues/4611#issuecomment-1207220530",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611",
                "id": 1207220530,
                "node_id": "IC_kwDOCNXKfM5H9Lky",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-06T14:04:29Z",
                "updated_at": "2022-08-06T14:04:29Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207220530/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-06T14:04:30Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23275832244",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4607",
                "id": 1295234810,
                "node_id": "I_kwDOCNXKfM5NM7b6",
                "number": 4607,
                "title": "[Bug?]: Adding devDependencies cause other dependencies to be duplicated in PnP mode",
                "user": {
                    "login": "smeng9",
                    "id": 38666763,
                    "node_id": "MDQ6VXNlcjM4NjY2NzYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/38666763?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/smeng9",
                    "html_url": "https://github.com/smeng9",
                    "followers_url": "https://api.github.com/users/smeng9/followers",
                    "following_url": "https://api.github.com/users/smeng9/following{/other_user}",
                    "gists_url": "https://api.github.com/users/smeng9/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/smeng9/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/smeng9/subscriptions",
                    "organizations_url": "https://api.github.com/users/smeng9/orgs",
                    "repos_url": "https://api.github.com/users/smeng9/repos",
                    "events_url": "https://api.github.com/users/smeng9/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/smeng9/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-06T06:18:32Z",
                "updated_at": "2022-08-05T07:04:33Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen adding @babel/core as devDependencies (I have some other scripts depend on this) to the repo here https://github.com/smeng9/vite-dup-package/tree/no-warning , it causes @emotion/react to be duplicated package and produce warnings https://github.com/smeng9/vite-dup-package/tree/main .\r\n\r\n![duplicate](https://user-images.githubusercontent.com/38666763/177479152-6c5ea998-69a2-4307-8deb-7957994eaacd.PNG)\r\n\r\nThe yarn.lock file does not have any duplicate package, but pnp.cjs file has duplicate package, which should not happen. The issue only happens in PnP mode, non-pnp mode using nodeLinker: node-modules does not have the issue.\r\n\r\n### To reproduce\r\n\r\nTo reproduce, clone https://github.com/smeng9/vite-dup-package and checkout branch `no-warning`\r\n\r\nPerform `$ yarn` to install of dependencies using PnP mode. Check generated yarn.lock file and there should be no duplicate @emotion/react packages as they all resolve to same version. Check generated pnp.cjs file, the virtual dependencies for @emotion/react all have the same hash. (you can see no warnings when starting project with `$ yarn dev` then open browser console)\r\n\r\nThen try to install `$ yarn add -D @babel/core` and check generated yarn.lock file and there should be no duplicate @emotion/react package. Check generated pnp.cjs file, the virtual dependencies for @emotion/react have different hashes. Similar as https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L589 and https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L613 . There will be warnings as shown in above image when `$ yarn dev` and open browser console\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Xeon(R) CPU E3-1240 v3 @ 3.40GHz\r\n  Binaries:\r\n    Node: 18.3.0 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\node.CMD\r\n    Yarn: 3.2.1 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\yarn.CMD\r\n    npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116066",
                "html_url": "https://github.com/yarnpkg/berry/issues/4607#issuecomment-1206116066",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607",
                "id": 1206116066,
                "node_id": "IC_kwDOCNXKfM5H497i",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-05T07:04:33Z",
                "updated_at": "2022-08-05T07:04:33Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116066/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-05T07:04:34Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23275831611",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4608",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4608",
                "id": 1295255000,
                "node_id": "I_kwDOCNXKfM5NNAXY",
                "number": 4608,
                "title": "[Bug?]: Invalid option name (\"--production=false\")",
                "user": {
                    "login": "dtinth",
                    "id": 193136,
                    "node_id": "MDQ6VXNlcjE5MzEzNg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/193136?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dtinth",
                    "html_url": "https://github.com/dtinth",
                    "followers_url": "https://api.github.com/users/dtinth/followers",
                    "following_url": "https://api.github.com/users/dtinth/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dtinth/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dtinth/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dtinth/subscriptions",
                    "organizations_url": "https://api.github.com/users/dtinth/orgs",
                    "repos_url": "https://api.github.com/users/dtinth/repos",
                    "events_url": "https://api.github.com/users/dtinth/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dtinth/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-06T06:32:20Z",
                "updated_at": "2022-08-05T07:04:31Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nHeroku\u2019s Node.js buildpack is hardcoded to install packages using `yarn install --production=false`\r\n\r\nhttps://github.com/heroku/buildpacks-nodejs/blob/c6537360d8f4241d20118bacd04b0a43aea0bc6f/buildpacks/yarn/lib/build.sh#L82-L88\r\n\r\nIt works with Yarn Classic, but with Yarn Berry it fails.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\n// Heroku hardcodes \"--production=false\" in their buildpack.\r\n// https://github.com/heroku/buildpacks-nodejs/blob/c6537360d8f4241d20118bacd04b0a43aea0bc6f/buildpacks/yarn/lib/build.sh#L82-L88\r\nconst output = await yarn(`install`, `--production=false`);\r\nexpect(output).not.toContain(`Invalid option name`);\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.3\r\n    CPU: (8) x64 Apple M1\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/qk/bxhj0cs55vv8n4ghq8xh0k1h0000gn/T/xfs-189882af/node\r\n    Yarn: 3.2.1 - /private/var/folders/qk/bxhj0cs55vv8n4ghq8xh0k1h0000gn/T/xfs-189882af/yarn\r\n    npm: 8.11.0 - ~/.volta/tools/image/node/16.15.1/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThere is an issue open in Heroku\u2019s org since April:\r\n\r\n- https://github.com/heroku/buildpacks-nodejs/issues/246\r\n\r\nAlmost 3 months elapsed and no fix from Heroku side so far. Therefore I am filing this issue on Yarn side, hope that either party will be willing to work together to become more interoperable.\r\n\r\nThank you!",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116023",
                "html_url": "https://github.com/yarnpkg/berry/issues/4608#issuecomment-1206116023",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608",
                "id": 1206116023,
                "node_id": "IC_kwDOCNXKfM5H4963",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-05T07:04:31Z",
                "updated_at": "2022-08-05T07:04:31Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116023/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-05T07:04:31Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "25042628962",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4926",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4926",
                "id": 1393142538,
                "node_id": "I_kwDOCNXKfM5TCasK",
                "number": 4926,
                "title": "[Bug?]: `yarn workspace version apply` removes deferred versions for other packages",
                "user": {
                    "login": "NikkiDelRosso",
                    "id": 563879,
                    "node_id": "MDQ6VXNlcjU2Mzg3OQ==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/563879?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/NikkiDelRosso",
                    "html_url": "https://github.com/NikkiDelRosso",
                    "followers_url": "https://api.github.com/users/NikkiDelRosso/followers",
                    "following_url": "https://api.github.com/users/NikkiDelRosso/following{/other_user}",
                    "gists_url": "https://api.github.com/users/NikkiDelRosso/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/NikkiDelRosso/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/NikkiDelRosso/subscriptions",
                    "organizations_url": "https://api.github.com/users/NikkiDelRosso/orgs",
                    "repos_url": "https://api.github.com/users/NikkiDelRosso/repos",
                    "events_url": "https://api.github.com/users/NikkiDelRosso/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/NikkiDelRosso/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-10-01T00:22:01Z",
                "updated_at": "2022-11-04T23:04:57Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI have a workspace that has two packages which do not share a release cycle.\r\n\r\nI'm using deferred versioning on the packages with `yarn workspace <workspaceName> version <strategy> --deferred`, which creates `.yarn/versions/<hash>.yml` files defining the strategy just for my target workspace, as I would expect.\r\n\r\nWhen I run `yarn workspace <workspaceName> version apply`, the `package.json` file for the specified workspace is updated. As expected, the `package.json` for the other workspaces has not changed. However, the `.yarn/versions` files have removed the other deferred changes.\r\n\r\n### To reproduce\r\n\r\nI created a minimal repo using yarn berry with a workspace: https://github.com/NikkiDelRosso/yarn-workspace-version-deferred-issue\r\n\r\n1. Clone the repo above\r\n2. Run `yarn workspace package-b version apply`\r\n3. See that the `packages/package-b/package.json` version number has been bumped\r\n4. See that the `packages/package-a/package.json` version number has not changed (this is expected)\r\n5. See that the `package-a: patch` line in in `.yarn/versions/27f417a6.yml` has been removed\r\n6. Run `yarn workspace package-a version apply`\r\n7. Receive a message indicating that there is no version bump available for the workspace (even though it should have had been bumped for a patch)\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/kc/rkdxxgzx4q1b4cq6mpm343100000gn/T/xfs-80d59fb3/node\r\n    Yarn: 3.2.3 - /private/var/folders/kc/rkdxxgzx4q1b4cq6mpm343100000gn/T/xfs-80d59fb3/yarn\r\n    npm: 8.11.0 - ~/.nvm/versions/node/v16.15.1/bin/npm\r\n```\r\n\r\n\r\n<!-- ### Additional context\r\n\r\n\r\n<details><summary>Details: git diff showing relevant changed files after running `yarn workspace package-b version apply` on my example repo (click to expand)</summary>\r\n\r\n```diff\r\ndiff --git a/.yarn/versions/27f417a6.yml b/.yarn/versions/27f417a6.yml\r\nindex d565274..e69de29 100644\r\n--- a/.yarn/versions/27f417a6.yml\r\n+++ b/.yarn/versions/27f417a6.yml\r\n@@ -1,2 +0,0 @@\r\n-releases:\r\n-  package-a: patch\r\ndiff --git a/.yarn/versions/9fb57f43.yml b/.yarn/versions/9fb57f43.yml\r\nindex 8fb3158..e69de29 100644\r\n--- a/.yarn/versions/9fb57f43.yml\r\n+++ b/.yarn/versions/9fb57f43.yml\r\n@@ -1,2 +0,0 @@\r\n-releases:\r\n-  package-b: minor\r\ndiff --git a/package.json b/package.json\r\nindex 9a3d853..9a110a4 100644\r\n--- a/package.json\r\n+++ b/package.json\r\n@@ -1,5 +1,7 @@\r\n {\r\n   \"name\": \"yarn-workspace-version-deferred-issue\",\r\n   \"packageManager\": \"yarn@3.2.3\",\r\n-  \"workspaces\": [\"packages/*\"]\r\n+  \"workspaces\": [\r\n+    \"packages/*\"\r\n+  ]\r\n }\r\ndiff --git a/packages/package-a/package.json b/packages/package-a/package.json\r\nindex 162cd37..bb84166 100644\r\n--- a/packages/package-a/package.json\r\n+++ b/packages/package-a/package.json\r\n@@ -2,4 +2,3 @@\r\n   \"name\": \"package-a\",\r\n   \"version\": \"1.0.0\"\r\n }\r\n-\r\n```\r\n</details>-->",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1304325598",
                "html_url": "https://github.com/yarnpkg/berry/issues/4926#issuecomment-1304325598",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4926",
                "id": 1304325598,
                "node_id": "IC_kwDOCNXKfM5Nvm3e",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-04T23:04:57Z",
                "updated_at": "2022-11-04T23:04:57Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1304325598/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-04T23:04:57Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "25018697265",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/5022",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/5022",
                "id": 1434416469,
                "node_id": "I_kwDOCNXKfM5Vf3VV",
                "number": 5022,
                "title": "[Bug?]: `yarn bin` reports wrong bin from `installConfig.hoistingLimits` workspace (`nodeLinker: node-modules`)",
                "user": {
                    "login": "bradleyayers",
                    "id": 105820,
                    "node_id": "MDQ6VXNlcjEwNTgyMA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/105820?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bradleyayers",
                    "html_url": "https://github.com/bradleyayers",
                    "followers_url": "https://api.github.com/users/bradleyayers/followers",
                    "following_url": "https://api.github.com/users/bradleyayers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bradleyayers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bradleyayers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bradleyayers/subscriptions",
                    "organizations_url": "https://api.github.com/users/bradleyayers/orgs",
                    "repos_url": "https://api.github.com/users/bradleyayers/repos",
                    "events_url": "https://api.github.com/users/bradleyayers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bradleyayers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-11-03T10:19:02Z",
                "updated_at": "2022-11-03T21:24:45Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI have a few workspaces, they're depending on `@graphql-codegen/cli` which contributes a `graphql-codegen` bin script.\r\n\r\nOne of the workspaces `zapier` has `installConfig.hoistingLimits` set to `workspaces`, the other workspaces don't have this set.\r\n\r\nWhen I run `yarn bin graphql-codegen` in one of the other workspaces it gives a path under the `zapier` workspace.\r\n\r\nInstead I would expect it to give the path **not** from that workspace.\r\n\r\nThe problem this causes is that different copies of other packages end up getting imported within the same node process (e.g. `graphql` is particularly fragile for this).\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nconst fs = require('fs').promises;\r\n\r\nawait fs.writeFile('.yarnrc.yml', 'nodeLinker: node-modules');\r\n\r\nawait packageJsonAndInstall({\r\n  \"name\": \"root\",\r\n  \"workspaces\": [\r\n    \"packages/*\"\r\n  ],\r\n  \"dependencies\": {\r\n    \"rimraf\": \"^2.0.0\"\r\n  },\r\n});\r\n\r\nawait fs.mkdir('packages/nohoist', { recursive: true });\r\nawait fs.writeFile(\"packages/nohoist/package.json\", `{\r\n  \"dependencies\": {\r\n    \"rimraf\": \"^2.0.0\"\r\n  },\r\n  \"name\": \"nohoist\",\r\n  \"installConfig\": {\r\n    \"hoistingLimits\": \"workspaces\"\r\n  }\r\n}`);\r\n\r\nawait yarn(`install`);\r\n\r\nconst rootRimrafPath = await yarn(`bin`, `rimraf`)\r\nconst nohoistRimrafPath = await yarn(`workspace`, `nohoist`, `bin`, `rimraf`);\r\n\r\nexpect(rootRimrafPath).not.toEqual(nohoistRimrafPath);\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.6\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/jq/3x3ddtjx3rb9nwy79zxfwnj00000gn/T/xfs-6ab2aa01/node\r\n    Yarn: 3.2.4 - /private/var/folders/jq/3x3ddtjx3rb9nwy79zxfwnj00000gn/T/xfs-6ab2aa01/yarn\r\n    npm: 8.3.1 - ~/.n/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302680868",
                "html_url": "https://github.com/yarnpkg/berry/issues/5022#issuecomment-1302680868",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/5022",
                "id": 1302680868,
                "node_id": "IC_kwDOCNXKfM5NpVUk",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-03T21:24:44Z",
                "updated_at": "2022-11-03T21:24:44Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).not.toEqual(expected) // deep equality\n\nExpected: not \"/tmp/tmp-17b66RdRpKcsgC/packages/nohoist/node_modules/rimraf/bin.js\n\"\n\n    at module.exports (evalmachine.<anonymous>:32:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302680868/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-03T21:24:45Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "25013834573",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4933",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4933",
                "id": 1396462869,
                "node_id": "I_kwDOCNXKfM5TPFUV",
                "number": 4933,
                "title": "[Feature] --visual-verbose",
                "user": {
                    "login": "pablitomilenio",
                    "id": 34131550,
                    "node_id": "MDQ6VXNlcjM0MTMxNTUw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/34131550?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/pablitomilenio",
                    "html_url": "https://github.com/pablitomilenio",
                    "followers_url": "https://api.github.com/users/pablitomilenio/followers",
                    "following_url": "https://api.github.com/users/pablitomilenio/following{/other_user}",
                    "gists_url": "https://api.github.com/users/pablitomilenio/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/pablitomilenio/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/pablitomilenio/subscriptions",
                    "organizations_url": "https://api.github.com/users/pablitomilenio/orgs",
                    "repos_url": "https://api.github.com/users/pablitomilenio/repos",
                    "events_url": "https://api.github.com/users/pablitomilenio/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/pablitomilenio/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349891,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODkx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/enhancement",
                        "name": "enhancement",
                        "color": "92a4e5",
                        "default": true,
                        "description": "New feature or request"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-10-04T15:22:07Z",
                "updated_at": "2022-11-03T17:08:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "Hello !\r\n\r\nInstead of the --verbose flag outputting a lot of text that breaks around in the terminal and even if it would be structured I wouldn't understand\r\n\r\nI WOULD LIKE: more verbose progress bars\r\n\r\nIdeally like a arc/circle diagram that is rather big and that fills up clockwise. This should be optimized for very slow connections (remember that large part of the world does have no or slow internet)\r\n\r\nSo this circle should move a lot and fill up with the dumbest tasks.\r\n\r\nOne heuristic of implementing this could be that for every line that would be displayed in verbose mode in the terminal, the circle arc should increase by 5%\r\n\r\nThere should be 2 things\r\n\r\nA global progress indicator as a bar\r\nA subtask-progress indicator as a circle or arc\r\n\r\nThis way the user would see the dumbest slowest progress and everybody would understand\r\n\r\nThat would truly be in improvement\r\n\r\nBecause now it is either\r\n\r\nWaiting 10 minutes in the darkness\r\nOR: having the screen full of garbage potentially slowing everything down\r\n\r\nThanks",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302418532",
                "html_url": "https://github.com/yarnpkg/berry/issues/4933#issuecomment-1302418532",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4933",
                "id": 1302418532,
                "node_id": "IC_kwDOCNXKfM5NoVRk",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-03T17:08:04Z",
                "updated_at": "2022-11-03T17:08:04Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nIt seems like this issue as been marked as probably resolved, or missing important information blocking its progression. As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1302418532/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-03T17:08:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24976266322",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-11-02T08:06:11Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\r\n\r\n### To reproduce\r\n\r\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\n# With Corepack disabled, we need to get Yarn from somewhere else\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\r\n\r\nwith the following package.json:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n\r\nAs you can see, the version used for `yarn pack` is different:\r\n- with Corepack _enabled_, it's using v1.22.15\r\n- with Corepack _disabled_, it's using v2+, I think?\r\n\r\nNote that I have a global Yarn install from Homebrew:\r\n```sh\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n```\r\n\r\nThe same happens when Yarn is installed through npm (as per the Dockerfile repro).\r\n\r\nAnother interesting finding: no matter if Corepack is enabled or disabled, the Yarn binary & version stays the same:\r\n```sh\r\n# From my home directory\r\n# Results are the same from within my project directory, except the version is 3.2.3 there\r\n$ corepack disable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n$ corepack enable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1299756163",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1299756163",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1299756163,
                "node_id": "IC_kwDOCNXKfM5NeLSD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-11-02T08:06:11Z",
                "updated_at": "2022-11-02T08:06:11Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1299756163/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-11-02T08:06:11Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24927848479",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4885",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4885",
                "id": 1382392636,
                "node_id": "I_kwDOCNXKfM5SZaM8",
                "number": 4885,
                "title": "[Bug?]:  `--since` flag produces different results for `yarn workspaces foreach` and `yarn workspaces list`",
                "user": {
                    "login": "alexedwardjones",
                    "id": 5364820,
                    "node_id": "MDQ6VXNlcjUzNjQ4MjA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5364820?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alexedwardjones",
                    "html_url": "https://github.com/alexedwardjones",
                    "followers_url": "https://api.github.com/users/alexedwardjones/followers",
                    "following_url": "https://api.github.com/users/alexedwardjones/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alexedwardjones/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alexedwardjones/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alexedwardjones/subscriptions",
                    "organizations_url": "https://api.github.com/users/alexedwardjones/orgs",
                    "repos_url": "https://api.github.com/users/alexedwardjones/repos",
                    "events_url": "https://api.github.com/users/alexedwardjones/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alexedwardjones/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-22T12:45:24Z",
                "updated_at": "2022-10-31T09:06:31Z",
                "closed_at": "2022-10-31T09:06:31Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Describe the bug\r\n\r\n**Summary**\r\n\r\nAdding the `--since` flag to `yarn workspaces foreach` is running all workspaces not just the subset that have changed or their dependencies..\r\n\r\n### To reproduce\r\n\r\n**Example**\r\nI have a project that looks like the following when I run `yarn workspaces list --json`.\r\n```\r\n{\"location\":\".\",\"name\":\"project\"}\r\n{\"location\":\"packages/db-utils\",\"name\":\"db-utils\"}\r\n{\"location\":\"packages/api-utils\",\"name\":\"api-utils\"}\r\n{\"location\":\"apps/service-one\",\"name\":\"service-one\"}\r\n{\"location\":\"apps/service-two,\"name\":\"service-two\"}\r\n{\"location\":\"apps/service-three,\"name\":\"service-three\"}\r\n{\"location\":\"apps/service-four,\"name\":\"service-four\"}\r\n```\r\n\r\n\u2705 If I change a file in `db-utils` and run `yarn workspaces list --json --since=origin/main` I get the following which is what I expect...\r\n```\r\n{\"location\":\".\",\"name\":\"project\"}\r\n{\"location\":\"packages/db-utils\",\"name\":\"db-utils\"}\r\n```\r\n\r\n\u2705 If I change a file in `db-utils` and run `yarn workspaces list --json --since=origin/main --recursive` I get the following which is what I expect because `service-one` and `service-two` have `db-utils` as a dependency...\r\n```\r\n{\"location\":\".\",\"name\":\"project\"}\r\n{\"location\":\"packages/db-utils\",\"name\":\"db-utils\"}\r\n{\"location\":\"apps/service-one\",\"name\":\"service-one\"}\r\n{\"location\":\"apps/service-two,\"name\":\"service-two\"}\r\n```\r\n\r\nHowever when I start applying those same arguments to `foreach` every workspace gets run.\r\n- `yarn workspaces foreach --since=origin/main run lint` - Runs all workspaces \u274c \r\n- `yarn workspaces foreach --since=origin/main --recursive run lint` - Runs all workspaces \u274c \r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.16.0 - /private/var/folders/6m/m5yvxnzx6z10cyk51929x0400000gp/T/xfs-934c9136/node\r\n    Yarn: 3.2.3 - /private/var/folders/6m/m5yvxnzx6z10cyk51929x0400000gp/T/xfs-934c9136/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/67237_1663157503102/bin/npm\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4885/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-31T09:06:32Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24900239099",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11485404718,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "c69bc8bd1c356261cc04f1f140d1ede88f1b25d7",
            "before": "635257a6ae65aef14b33416502f5e7ca8dd36651",
            "commits": [
                {
                    "sha": "fb8bd4fd9c91d02872ca52b9d6355bdf941a90dd",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.27` |\n| `@yarnpkg/core` | `4.0.0-rc.27` |\n| `@yarnpkg/parsers` | `3.0.0-rc.27` |\n| `@yarnpkg/shell` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.27` |\n| `@yarnpkg/extensions` | `2.0.0-rc.9` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.27` |\n| `@yarnpkg/pnp` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.27` |\n| `@yarnpkg/sdks` | `3.0.0-rc.27` |\n| `@yarnpkg/fslib` | `3.0.0-rc.27` |\n| `@yarnpkg/libui` | `3.0.0-rc.27` |\n| `@yarnpkg/libzip` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.27` |\n| `vscode-zipfs` | `2.6.0-rc.16` |\n| `@yarnpkg/nm` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.27` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.27` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.27` |\n| `@yarnpkg/builder` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.27` |\n| `@yarnpkg/doctor` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.27` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.27` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.27` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/fb8bd4fd9c91d02872ca52b9d6355bdf941a90dd"
                },
                {
                    "sha": "c69bc8bd1c356261cc04f1f140d1ede88f1b25d7",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/c69bc8bd1c356261cc04f1f140d1ede88f1b25d7"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-28T20:01:38Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24872299428",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908",
                "id": 1387063752,
                "node_id": "I_kwDOCNXKfM5SrOnI",
                "number": 4908,
                "title": "[Bug?]: --cwd does not work with relative paths",
                "user": {
                    "login": "Shayan-To",
                    "id": 12458563,
                    "node_id": "MDQ6VXNlcjEyNDU4NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12458563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shayan-To",
                    "html_url": "https://github.com/Shayan-To",
                    "followers_url": "https://api.github.com/users/Shayan-To/followers",
                    "following_url": "https://api.github.com/users/Shayan-To/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shayan-To/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shayan-To/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shayan-To/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shayan-To/orgs",
                    "repos_url": "https://api.github.com/users/Shayan-To/repos",
                    "events_url": "https://api.github.com/users/Shayan-To/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shayan-To/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-09-27T04:29:58Z",
                "updated_at": "2022-10-27T16:05:14Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen using `--cwd` with a relative path, yarn seems to resolve the relative path twice (or even more times when `.../subdir/subdir` actually is a directory!). So running `yarn --cwd subdir`, it tries to access `.../subdir/subdir` and then it gives an error that the path does not exist.\n\n### To reproduce\n\n```js repro\r\nconst { mkdir } = require(\"fs/promises\");\r\n\r\nawait mkdir(\"subdir\");\r\nawait expect(yarn(\"--cwd\", \"subdir\", \"init\")).resolves.not.toThrow();\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-3537U CPU @ 2.00GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-ebd4110f/node\r\n    Yarn: 3.2.0 - /tmp/xfs-ebd4110f/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1293754774",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908#issuecomment-1293754774",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "id": 1293754774,
                "node_id": "IC_kwDOCNXKfM5NHSGW",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-27T16:05:14Z",
                "updated_at": "2022-10-27T16:05:14Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1293754774/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-27T16:05:14Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24866170884",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4884",
                "id": 1382325860,
                "node_id": "I_kwDOCNXKfM5SZJ5k",
                "number": 4884,
                "title": "[Bug?]: yarn create doesn't work with httpsCaFilePath",
                "user": {
                    "login": "oceandrama",
                    "id": 23439079,
                    "node_id": "MDQ6VXNlcjIzNDM5MDc5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/23439079?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/oceandrama",
                    "html_url": "https://github.com/oceandrama",
                    "followers_url": "https://api.github.com/users/oceandrama/followers",
                    "following_url": "https://api.github.com/users/oceandrama/following{/other_user}",
                    "gists_url": "https://api.github.com/users/oceandrama/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/oceandrama/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/oceandrama/subscriptions",
                    "organizations_url": "https://api.github.com/users/oceandrama/orgs",
                    "repos_url": "https://api.github.com/users/oceandrama/repos",
                    "events_url": "https://api.github.com/users/oceandrama/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/oceandrama/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-22T11:56:25Z",
                "updated_at": "2022-10-27T12:08:19Z",
                "closed_at": "2022-10-27T12:08:19Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nIf you have `httpsCaFilePath` in your config, `yarn create` trying to resolve relative path to cert in temp folder:\r\n\r\n.yarnrc.yml:\r\n```\r\nhttpsCaFilePath: ./some-cert.crt\r\nnodeLinker: node-modules\r\nnpmRegistryServer: \"https://custom-registry.com\"\r\nyarnPath: .yarn/releases/yarn-4.0.0-rc.20.cjs\r\n```\r\n\r\n`yarn create playwright`:\r\n\r\n\u27a4 YN0027: create-playwright@unknown can't be resolved to a satisfying range\r\n\u27a4 YN0001: Error: ENOENT: no such file or directory, open 'C:\\Users\\username\\AppData\\Local\\Temp\\xfs-cee34bdc\\dlx-18200\\some-cert.crt'\n\n### To reproduce\n\nyarn config set httpsCaFilePath ./some-cert.crt\r\nyarn create playwright\n\n### Environment\n\n```shell\nSystem:\r\n  OS: Windows 10 10.0.19044\r\n  CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Memory: 7.76 GB / 15.40 GB\r\nBinaries:\r\n  Node: 16.16.0 - C:\\Program Files\\nodejs\\node.EXE\r\n  Yarn: 4.0.0-rc.20 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\r\n  npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-27T12:08:20Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24837613106",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4904",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4904",
                "id": 1385165727,
                "node_id": "I_kwDOCNXKfM5Sj_Of",
                "number": 4904,
                "title": "[Bug?]: Module not found: Error: Can't resolve 'x' in 'y' packageExtensions binaries [arm, android win32-x64, darwin, gnu, linux]",
                "user": {
                    "login": "gruckion",
                    "id": 4559650,
                    "node_id": "MDQ6VXNlcjQ1NTk2NTA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4559650?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gruckion",
                    "html_url": "https://github.com/gruckion",
                    "followers_url": "https://api.github.com/users/gruckion/followers",
                    "following_url": "https://api.github.com/users/gruckion/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gruckion/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gruckion/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gruckion/subscriptions",
                    "organizations_url": "https://api.github.com/users/gruckion/orgs",
                    "repos_url": "https://api.github.com/users/gruckion/repos",
                    "events_url": "https://api.github.com/users/gruckion/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gruckion/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-09-25T21:08:22Z",
                "updated_at": "2022-10-26T10:04:46Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n[Mongodb](https://www.npmjs.com/package/mongodb) has dependencies that are not listed as peer dependencies. I tried to use `packageExtensions` to get around this but I am now getting dozens more errors from two libraries [Snappy](https://www.npmjs.com/package/snappy) and [@mongodb-js/zstd](https://www.npmjs.com/package/@mongodb-js/zstd).\r\n\r\n```\r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 89:28-70\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-arm-gnueabihf.node' in '/Users/sigex/workdir/backend/lambda/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n```\r\n\r\n```\r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:622-662\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-android-arm64' in '/Users/sigex/workdir/backend/lambda/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n```\r\n\r\nIt looks like it's trying to require all these different binaries for different machines.\r\n\r\nMy `packageExtensions` is below and it's managed to get most of the warnings to shut up.\r\n\r\n```yaml\r\npackageExtensions:\r\n  \"mongodb@*\":\r\n    dependencies:\r\n      bson-ext: \"*\"\r\n      kerberos: \"*\"\r\n      \"@mongodb-js/zstd\": \"*\"\r\n      aws4: \"*\"\r\n      mongodb-core: \"*\"\r\n      bson: \"*\"\r\n      node-gyp: \"*\"\r\n      \"mongodb-client-encryption\": \"*\"\r\n    peerDependenciesMeta:\r\n      \"@mongodb-js/zstd\":\r\n        optional: true\r\n      snappy:\r\n        optional: true\r\n      bson-ext:\r\n        optional: true\r\n      kerberos:\r\n        optional: true\r\n```\r\n\r\n### To reproduce\r\n\r\nI created a repo here, see branch `mongodb-broken-pnp`.\r\n\r\nhttps://github.com/gruckion/yarn-berry-serverless-workspaces/tree/mongodb-broken-pnp\r\n\r\nRun `yarn; yarn package` to reproduce the errors.\r\n\r\n```\r\n\u276f yarn package\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: Packaging lambdas-hello for stage testing (us-east-1)\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: Warning: in ../../.yarn/__virtual__/mongodb-virtual-904dd890e4/0/cache/mongodb-npm-4.10.0-99903c2c4a-4847fe69b6.zip/node_modules/mongodb/lib/utils.js 993:38-93\r\n\u27a4 YN0000:   Critical dependency: the request of a dependency is an expression\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 17:28-65\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.win32-x64-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 19:28-70\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-win32-x64-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 35:28-61\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.darwin-x64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 37:28-66\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-darwin-x64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 47:28-63\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.darwin-arm64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 65:28-64\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-x64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 67:28-69\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-linux-x64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 77:28-66\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-arm64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 79:28-71\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-linux-arm64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 89:28-70\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './zstd.linux-arm-gnueabihf.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd/index.js 91:28-75\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@mongodb-js/zstd-linux-arm-gnueabihf' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/@mongodb-js-zstd-npm-1.0.0-1751370982-73e82a30be.zip/node_modules/@mongodb-js/zstd'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:569-607\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.android-arm64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:622-662\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-android-arm64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:811-852\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.android-arm-eabi.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:867-910\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-android-arm-eabi' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1159-1198\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.win32-x64-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1213-1254\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-win32-x64-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1403-1443\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.win32-ia32-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1458-1500\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-win32-ia32-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1651-1692\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.win32-arm64-msvc.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1707-1750\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-win32-arm64-msvc' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:1997-2032\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.darwin-x64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2047-2084\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-darwin-x64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2231-2268\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.darwin-arm64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2626-2662\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.freebsd-x64.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2677-2715\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-freebsd-x64' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2900-2939\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-x64-musl.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:2954-2995\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-x64-musl' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3131-3169\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-x64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3184-3224\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-x64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3389-3430\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-arm64-musl.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3445-3488\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-arm64-musl' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3626-3666\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-arm64-gnu.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3681-3723\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-arm64-gnu' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3876-3920\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve './snappy.linux-arm-gnueabihf.node' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy/index.js 1:3935-3981\r\n\u27a4 YN0000:   Module not found: Error: Can't resolve '@napi-rs/snappy-linux-arm-gnueabihf' in '/Users/sigex/workdir/serverless-workspaces-pnp/.yarn/cache/snappy-npm-7.1.2-2cf48206bf-7381485fdd.zip/node_modules/snappy'\r\n\u27a4 YN0000: Environment: darwin, node 16.13.2, framework 3.22.0 (local), plugin 6.2.2, SDK 4.3.2\r\n\u27a4 YN0000: Docs:        docs.serverless.com\r\n\u27a4 YN0000: Support:     forum.serverless.com\r\n\u27a4 YN0000: Bugs:        github.com/serverless/serverless/issues\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: Error:\r\n\u27a4 YN0000: Webpack compilation failed:\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: in ../../.yarn/unplugged/@mongodb-js-zstd-darwin-arm64-npm-1.0.0-df74982a20/node_modules/@mongodb-js/zstd-darwin-arm64/zstd.darwin-arm64.node 1:0\r\n\u27a4 YN0000:   Module parse failed: Unexpected character '\ufffd' (1:0)\r\n\u27a4 YN0000:   You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\r\n\u27a4 YN0000:   (Source code omitted for this binary file)\r\n\u27a4 YN0000:   \r\n\u27a4 YN0000:   in ../../.yarn/unplugged/@napi-rs-snappy-darwin-arm64-npm-7.1.2-605592bf69/node_modules/@napi-rs/snappy-darwin-arm64/snappy.darwin-arm64.node 1:0\r\n\u27a4 YN0000:   Module parse failed: Unexpected character '\ufffd' (1:0)\r\n\u27a4 YN0000:   You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\r\n\u27a4 YN0000:   (Source code omitted for this binary file)\r\n\u27a4 YN0000: \r\n\u27a4 YN0000: 1 deprecation found: run 'serverless doctor' for more details\r\n\u27a4 YN0000: Done in 17s 69ms\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 13.0\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 16.13.2 - /private/var/folders/mv/dtw39jks6ml64s3pd1pnv_640000gn/T/xfs-7dfef409/node\r\n    Yarn: 3.2.3 - /private/var/folders/mv/dtw39jks6ml64s3pd1pnv_640000gn/T/xfs-7dfef409/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.2/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nMongodb has created 3 PRs to \"support PnP\", but have written no documentation. But this issue is not specific to them, it is more about how we handle libraries that have missing peer dependencies that happen to be binaries.\r\n\r\nhttps://github.com/mongodb/node-mongodb-native/pulls?q=pnp\r\n\r\nI also posted a comment on this PR as Mongodb and Mongodb'sissue section on Jira and on Snappy's library\r\n\r\nhttps://github.com/mongodb/node-mongodb-native/pull/2606\r\nhttps://jira.mongodb.org/browse/NODE-4659\r\nhttps://github.com/Brooooooklyn/snappy/issues/93\r\n\r\nI am also using `pnp-webpack-plugin`",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291798210",
                "html_url": "https://github.com/yarnpkg/berry/issues/4904#issuecomment-1291798210",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4904",
                "id": 1291798210,
                "node_id": "IC_kwDOCNXKfM5M_0bC",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-26T10:04:46Z",
                "updated_at": "2022-10-26T10:04:46Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291798210/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-26T10:04:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24833760960",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4803",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4803",
                "id": 1356029300,
                "node_id": "I_kwDOCNXKfM5Q0110",
                "number": 4803,
                "title": "[Bug?]: Handling of package.json#exports is not working correctly with intermediate wildcard.",
                "user": {
                    "login": "gpickell",
                    "id": 5531747,
                    "node_id": "MDQ6VXNlcjU1MzE3NDc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5531747?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/gpickell",
                    "html_url": "https://github.com/gpickell",
                    "followers_url": "https://api.github.com/users/gpickell/followers",
                    "following_url": "https://api.github.com/users/gpickell/following{/other_user}",
                    "gists_url": "https://api.github.com/users/gpickell/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/gpickell/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/gpickell/subscriptions",
                    "organizations_url": "https://api.github.com/users/gpickell/orgs",
                    "repos_url": "https://api.github.com/users/gpickell/repos",
                    "events_url": "https://api.github.com/users/gpickell/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/gpickell/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1647295654,
                        "node_id": "MDU6TGFiZWwxNjQ3Mjk1NjU0",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/external%20bug",
                        "name": "external bug",
                        "color": "fcc7e5",
                        "default": false,
                        "description": "This issue highlights a bug in another project"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-08-30T16:33:42Z",
                "updated_at": "2022-10-26T07:06:27Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen using yarn with pnp linking, the handling of the * in a package.json#exports has a compatibility issue. Mainly, if the * appears in the middle, it fails, but this is supported with node out-of-the-box.\r\n\r\npackage.json:\r\n```\r\n  ...\r\n\r\n  \"exports\": {\r\n    \"./*/index\": \"./src/*.mjs\", // not honored when linking pnp-style but works otherwise\r\n    \"./*\": \"./src/*.mjs\" // works always\r\n  }\r\n\r\n  ...\r\n```\n\n### To reproduce\n\nSee: https://github.com/gpickell/yarn-bug-exports-handling\r\n\r\n```\r\nyarn\r\nyarn test # works\r\n# remove nodeLinker line from .yarnrc.yml\r\nyarn\r\nyarn test # fails\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (16) x64 AMD Ryzen 7 5800X 8-Core Processor\r\n  Binaries:\r\n    Node: 16.16.0 - ~\\AppData\\Local\\Temp\\xfs-a40a0340\\node.CMD\r\n    Yarn: 3.2.3 - ~\\AppData\\Local\\Temp\\xfs-a40a0340\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\nvs\\node\\16.16.0\\x64\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291592363",
                "html_url": "https://github.com/yarnpkg/berry/issues/4803#issuecomment-1291592363",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4803",
                "id": 1291592363,
                "node_id": "IC_kwDOCNXKfM5M_CKr",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-26T07:06:27Z",
                "updated_at": "2022-10-26T07:06:27Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1291592363/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-26T07:06:27Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24765030464",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4884",
                "id": 1382325860,
                "node_id": "I_kwDOCNXKfM5SZJ5k",
                "number": 4884,
                "title": "[Bug?]: yarn create doesn't work with httpsCaFilePath",
                "user": {
                    "login": "oceandrama",
                    "id": 23439079,
                    "node_id": "MDQ6VXNlcjIzNDM5MDc5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/23439079?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/oceandrama",
                    "html_url": "https://github.com/oceandrama",
                    "followers_url": "https://api.github.com/users/oceandrama/followers",
                    "following_url": "https://api.github.com/users/oceandrama/following{/other_user}",
                    "gists_url": "https://api.github.com/users/oceandrama/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/oceandrama/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/oceandrama/subscriptions",
                    "organizations_url": "https://api.github.com/users/oceandrama/orgs",
                    "repos_url": "https://api.github.com/users/oceandrama/repos",
                    "events_url": "https://api.github.com/users/oceandrama/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/oceandrama/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-09-22T11:56:25Z",
                "updated_at": "2022-10-22T12:06:56Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nIf you have `httpsCaFilePath` in your config, `yarn create` trying to resolve relative path to cert in temp folder:\r\n\r\n.yarnrc.yml:\r\n```\r\nhttpsCaFilePath: ./some-cert.crt\r\nnodeLinker: node-modules\r\nnpmRegistryServer: \"https://custom-registry.com\"\r\nyarnPath: .yarn/releases/yarn-4.0.0-rc.20.cjs\r\n```\r\n\r\n`yarn create playwright`:\r\n\r\n\u27a4 YN0027: create-playwright@unknown can't be resolved to a satisfying range\r\n\u27a4 YN0001: Error: ENOENT: no such file or directory, open 'C:\\Users\\username\\AppData\\Local\\Temp\\xfs-cee34bdc\\dlx-18200\\some-cert.crt'\n\n### To reproduce\n\nyarn config set httpsCaFilePath ./some-cert.crt\r\nyarn create playwright\n\n### Environment\n\n```shell\nSystem:\r\n  OS: Windows 10 10.0.19044\r\n  CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Memory: 7.76 GB / 15.40 GB\r\nBinaries:\r\n  Node: 16.16.0 - C:\\Program Files\\nodejs\\node.EXE\r\n  Yarn: 4.0.0-rc.20 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\r\n  npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1287773710",
                "html_url": "https://github.com/yarnpkg/berry/issues/4884#issuecomment-1287773710",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4884",
                "id": 1287773710,
                "node_id": "IC_kwDOCNXKfM5Mwd4O",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-22T12:06:56Z",
                "updated_at": "2022-10-22T12:06:56Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1287773710/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-22T12:06:56Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24731807411",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4876",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4876",
                "id": 1379713662,
                "node_id": "I_kwDOCNXKfM5SPMJ-",
                "number": 4876,
                "title": "[Bug]: Calling `yarn rebuild` in postinstall calls it infinitely recursively",
                "user": {
                    "login": "Litarvan",
                    "id": 8712146,
                    "node_id": "MDQ6VXNlcjg3MTIxNDY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8712146?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Litarvan",
                    "html_url": "https://github.com/Litarvan",
                    "followers_url": "https://api.github.com/users/Litarvan/followers",
                    "following_url": "https://api.github.com/users/Litarvan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Litarvan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Litarvan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Litarvan/subscriptions",
                    "organizations_url": "https://api.github.com/users/Litarvan/orgs",
                    "repos_url": "https://api.github.com/users/Litarvan/repos",
                    "events_url": "https://api.github.com/users/Litarvan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Litarvan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-20T16:49:32Z",
                "updated_at": "2022-10-20T18:16:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen calling `yarn rebuild` in a `postinstall` script, the `rebuild` command will call the `postinstall` script after being finished (or before? doesn't matter), which will call `rebuild` again and do so indefinitely.\r\n\r\nThis behavior doesn't happen on NPM which I presume does not run `postinstall` after `npm rebuild`, but apparently Yarn does. Since Yarn doesn't provide a way to disable scripts for `rebuild`, I can't do something like `\"postinstall\": \"yarn rebuild --ignore-scripts sharp\"`, and disabling it globally via `.yarnrc.yml` would also ruin the purpose.\r\n\r\nI know that the doc recommends not to use `postinstall`, but since I'm running my project in a Docker container (Linux + MUSL) with a `node_modules` created with Yarn in local (on Darwin), I have to use this script to rebuild sharp for the `linuxmusl` platform (alongside the `darwin` platform it was originally built with) so that it can run in the container. (Related to #3853)\r\n\r\nThe reason I made this `postinstall` script is that using `supportedArchitectures` also doesn't work for sharp (which uses .node bindings in itself), but does for `esbuild` (which uses a separate dependency for each platform). This could make another issue maybe?\r\n\r\n### To reproduce\r\n\r\nThis can be reproduced by running `yarn` with the following package.json:\r\n```json\r\n{\r\n  \"name\": \"test\",\r\n  \"scripts\": {\r\n    \"postinstall\": \"yarn rebuild sharp\"\r\n  },\r\n  \"dependencies\": {\r\n    \"sharp\": \"^0.31.0\"\r\n  },\r\n  \"packageManager\": \"yarn@3.2.3\"\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n  OS: macOS 12.4\r\n  CPU: (16) x64 AMD Ryzen 7 3800X 8-Core Processor\r\nBinaries:\r\n  Node: 18.8.0 - /private/var/folders/4_/k05ccxxd13j3n60930rkvz880000gn/T/xfs-c714cf0d/node\r\n  Yarn: 3.2.3 - /private/var/folders/4_/k05ccxxd13j3n60930rkvz880000gn/T/xfs-c714cf0d/yarn\r\n  npm: 8.18.0 - ~/.nix-profile/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nIt's my first time using the new Yarn version, I migrated to use the `supportedArchitectures` feature for the Docker platform compatibility issue I had with `esbuild` and `sharp` as described earlier, but sadly it didn't fix it for `sharp` without the `postinstall` script, which itself only works using npm and not yarn. Since it works running `npm` in the `postinstall` script and still using yarn, this isn't a major issue, but still is a bug I felt had to be reported.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1285958275",
                "html_url": "https://github.com/yarnpkg/berry/issues/4876#issuecomment-1285958275",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4876",
                "id": 1285958275,
                "node_id": "IC_kwDOCNXKfM5MpiqD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-20T18:16:04Z",
                "updated_at": "2022-10-20T18:16:04Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1285958275/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-20T18:16:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24704930173",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4856",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4856",
                "id": 1376697033,
                "node_id": "I_kwDOCNXKfM5SDrrJ",
                "number": 4856,
                "title": "[Bug?]: This package doesn't seem to be present in your lockfile; run \"yarn install\" to update the lockfile",
                "user": {
                    "login": "Jexsie",
                    "id": 104269786,
                    "node_id": "U_kgDOBjcH2g",
                    "avatar_url": "https://avatars.githubusercontent.com/u/104269786?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Jexsie",
                    "html_url": "https://github.com/Jexsie",
                    "followers_url": "https://api.github.com/users/Jexsie/followers",
                    "following_url": "https://api.github.com/users/Jexsie/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Jexsie/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Jexsie/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Jexsie/subscriptions",
                    "organizations_url": "https://api.github.com/users/Jexsie/orgs",
                    "repos_url": "https://api.github.com/users/Jexsie/repos",
                    "events_url": "https://api.github.com/users/Jexsie/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Jexsie/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-17T07:37:44Z",
                "updated_at": "2022-10-19T18:13:19Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI have got this issue after upgrading to yarn 3.x\r\nYarn throws that \"internal error\" as shown in the screenshot everytime I execute commands like \"yarn install,\" \"yarn build,\"  in different projects am working on. \r\n![dfvfv](https://user-images.githubusercontent.com/104269786/190845975-abbeddfb-561f-41ce-9968-d14f2a99783f.png)\r\n\n\n### To reproduce\n\nInternal Error: @openmrs/esm-core@workspace:.: This package doesn't seem to be present in your lockfile; run \"yarn install\" to update the lockfile\r\n    at OR.getCandidates (/home/coder/.yarn/releases/yarn-3.2.3.cjs:435:5209)\r\n    at Bd.getCandidates (/home/coder/.yarn/releases/yarn-3.2.3.cjs:391:1281)\r\n    at /home/coder/.yarn/releases/yarn-3.2.3.cjs:439:7764\r\n    at Tg (/home/coder/.yarn/releases/yarn-3.2.3.cjs:390:11154)\r\n    at ce (/home/coder/.yarn/releases/yarn-3.2.3.cjs:439:7744)\r\n\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.5 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-6600U CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-c26faf78/node\r\n    Yarn: 3.2.3 - /tmp/xfs-c26faf78/yarn\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1284396152",
                "html_url": "https://github.com/yarnpkg/berry/issues/4856#issuecomment-1284396152",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4856",
                "id": 1284396152,
                "node_id": "IC_kwDOCNXKfM5MjlR4",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-19T18:13:19Z",
                "updated_at": "2022-10-19T18:13:19Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1284396152/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-19T18:13:20Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24678628285",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11371454439,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "2b14decf17f20c54e253d67ed981ab35b7e002d6",
            "before": "bf4c5b0039cf62badaa96695c638434225820050",
            "commits": [
                {
                    "sha": "5e4c35e21d53b2192f4560d1c3ae29dc2d400f58",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.26` |\n| `@yarnpkg/core` | `4.0.0-rc.26` |\n| `@yarnpkg/parsers` | `3.0.0-rc.26` |\n| `@yarnpkg/shell` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.26` |\n| `@yarnpkg/extensions` | `2.0.0-rc.8` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.26` |\n| `@yarnpkg/pnp` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.26` |\n| `@yarnpkg/sdks` | `3.0.0-rc.26` |\n| `@yarnpkg/fslib` | `3.0.0-rc.26` |\n| `@yarnpkg/libui` | `3.0.0-rc.26` |\n| `@yarnpkg/libzip` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.26` |\n| `vscode-zipfs` | `2.6.0-rc.15` |\n| `@yarnpkg/nm` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.26` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.26` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.26` |\n| `@yarnpkg/builder` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.26` |\n| `@yarnpkg/doctor` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.26` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.26` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.26` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/5e4c35e21d53b2192f4560d1c3ae29dc2d400f58"
                },
                {
                    "sha": "2b14decf17f20c54e253d67ed981ab35b7e002d6",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/2b14decf17f20c54e253d67ed981ab35b7e002d6"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-18T19:12:27Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24668420462",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4843",
                "id": 1370848211,
                "node_id": "I_kwDOCNXKfM5RtXvT",
                "number": 4843,
                "title": "[Bug?]: Unable to use yarn2 for development",
                "user": {
                    "login": "raja-jamwal",
                    "id": 1223189,
                    "node_id": "MDQ6VXNlcjEyMjMxODk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1223189?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/raja-jamwal",
                    "html_url": "https://github.com/raja-jamwal",
                    "followers_url": "https://api.github.com/users/raja-jamwal/followers",
                    "following_url": "https://api.github.com/users/raja-jamwal/following{/other_user}",
                    "gists_url": "https://api.github.com/users/raja-jamwal/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/raja-jamwal/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/raja-jamwal/subscriptions",
                    "organizations_url": "https://api.github.com/users/raja-jamwal/orgs",
                    "repos_url": "https://api.github.com/users/raja-jamwal/repos",
                    "events_url": "https://api.github.com/users/raja-jamwal/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/raja-jamwal/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-13T04:46:47Z",
                "updated_at": "2022-10-18T12:07:55Z",
                "closed_at": "2022-10-18T12:07:55Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nUpgraded a multi workspace project to use `yarn2`, deleted old node_modules, yarn.lock, did a fresh `yarn install`. On trying to run `yarn start`, it errors out as \r\n\r\n``` something@workspace:.: This package doesn't seem to be present in your lockfile; try to make an install to update your resolution```\r\n\r\nAlso there is no `yarn.lock`.\r\n\r\nI followed this (https://stackoverflow.com/questions/64722201/yarn-command-yarn-import-error-this-package-doesnt-seem-to-be-present-in-you/66734056#66734056) but there are no nested `yarn.lock` and workspaces are also correctly configured.\n\n### To reproduce\n\nmulti workspace \n\n### Environment\n\n```shell\nOS: Mac\r\n\r\nNode: v16.13.1\r\n\r\nNPM: 8.1.2\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-18T12:07:55Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24662898165",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4863",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4863",
                "id": 1376959469,
                "node_id": "I_kwDOCNXKfM5SErvt",
                "number": 4863,
                "title": "[Bug?]: `yarn set version stable` stopped working",
                "user": {
                    "login": "dylanh724",
                    "id": 8840024,
                    "node_id": "MDQ6VXNlcjg4NDAwMjQ=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8840024?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dylanh724",
                    "html_url": "https://github.com/dylanh724",
                    "followers_url": "https://api.github.com/users/dylanh724/followers",
                    "following_url": "https://api.github.com/users/dylanh724/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dylanh724/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dylanh724/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dylanh724/subscriptions",
                    "organizations_url": "https://api.github.com/users/dylanh724/orgs",
                    "repos_url": "https://api.github.com/users/dylanh724/repos",
                    "events_url": "https://api.github.com/users/dylanh724/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dylanh724/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-18T06:21:09Z",
                "updated_at": "2022-10-18T08:09:11Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`yarn set version stable` -> not found.\r\n\r\nI can `yarn set version berry`, and it saves it to .yarn/releases/, but *still* doesn't set the version.\r\n\r\nPossibly related to: \r\n* https://github.com/yarnpkg/berry/issues/4234\r\n* https://github.com/yarnpkg/berry/issues/4797\r\n\r\n> error An unexpected error occurred: \"Release not found: stable\".\r\ninfo If you think this is a bug, please open a bug report with the information provided in \"/mnt/c/Repos/home/{myProj}/yarn-error.log\".    \r\n\r\n![image](https://user-images.githubusercontent.com/8840024/190890495-65d5b50c-b588-4df6-a166-516c38a960fa.png)\r\n\r\n### To reproduce\r\n\r\n1. `yarn -v` == 1.22.11\r\n2. Go into your proj dir\r\n3. type `yarn set version stable`\r\n\r\n### Environment\r\n\r\n```shell\r\nCommand \"dlx\" not found. // This is a yarn v2+ feat?\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n> Trace: \r\n  Error: Release not found: stable\r\n      at /home/{myUser}/.yarn/releases/yarn-1.22.11.cjs:98340:17\r\n      at Generator.next (<anonymous>)\r\n      at step (/home/{myUser}/.yarn/releases/yarn-1.22.11.cjs:310:30)\r\n      at /home/{myUser}/.yarn/releases/yarn-1.22.11.cjs:321:13\r\n      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1281982534",
                "html_url": "https://github.com/yarnpkg/berry/issues/4863#issuecomment-1281982534",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4863",
                "id": 1281982534,
                "node_id": "IC_kwDOCNXKfM5MaYBG",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-18T08:09:11Z",
                "updated_at": "2022-10-18T08:09:11Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1281982534/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-18T08:09:11Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24616078856",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/3997",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/3997",
                "id": 1108983752,
                "node_id": "I_kwDOCNXKfM5CGb_I",
                "number": 3997,
                "title": "[Feature] Allow plugin usage in scripts",
                "user": {
                    "login": "johnameyer",
                    "id": 3662655,
                    "node_id": "MDQ6VXNlcjM2NjI2NTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3662655?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/johnameyer",
                    "html_url": "https://github.com/johnameyer",
                    "followers_url": "https://api.github.com/users/johnameyer/followers",
                    "following_url": "https://api.github.com/users/johnameyer/following{/other_user}",
                    "gists_url": "https://api.github.com/users/johnameyer/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/johnameyer/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/johnameyer/subscriptions",
                    "organizations_url": "https://api.github.com/users/johnameyer/orgs",
                    "repos_url": "https://api.github.com/users/johnameyer/repos",
                    "events_url": "https://api.github.com/users/johnameyer/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/johnameyer/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-01-20T08:06:22Z",
                "updated_at": "2022-10-15T10:28:21Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI expected to be able to use the `workspaces` command from inside my `package.json` scripts but installing it as a plugin or as a dev dependency did not bring it into scope.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\n\r\nawait packageJsonAndInstall({\r\n  scripts: {\r\n    test: \"yarn workspaces foreach exec echo hello\"\r\n  }\r\n});\r\n\r\n// await yarn(`plugin`, `import`, `workspace-tools`);\r\n// ^ plugin lookup 404s with 3.2.0-rc.11.dev\r\nawait yarn(`plugin`, `import`, `https://github.com/yarnpkg/berry/raw/@yarnpkg/cli/3.1.1/packages/plugin-workspace-tools/bin/%40yarnpkg/plugin-workspace-tools.js`);\r\n\r\nawait yarn(`workspaces`, `foreach`, `exec`, `echo`, `hello`); // Expected outcome\r\n\r\nlet result = \"\";\r\ntry {\r\n  result = await yarn(`test`);\r\n} catch (e) {\r\n  expect(e.toString()).not.toMatch('command not found: workspaces');\r\n}\r\nexpect(result).toMatch(\"hello\"); \r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.10 Ubuntu 18.04.1 LTS (Bionic Beaver)\r\n    CPU: (2) x64 Intel(R) Core(TM) i5-8300H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.6.0 - /tmp/xfs-9ffddeeb/node\r\n    Yarn: 3.1.1 - /tmp/xfs-9ffddeeb/yarn\r\n    npm: 7.24.0 - /usr/local/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1279715267",
                "html_url": "https://github.com/yarnpkg/berry/issues/3997#issuecomment-1279715267",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/3997",
                "id": 1279715267,
                "node_id": "IC_kwDOCNXKfM5MRufD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-15T10:28:21Z",
                "updated_at": "2022-10-15T10:28:21Z",
                "author_association": "COLLABORATOR",
                "body": "We couldn't reproduce your issue (all the assertions passed on master).",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1279715267/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-15T10:28:22Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24575628977",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4843",
                "id": 1370848211,
                "node_id": "I_kwDOCNXKfM5RtXvT",
                "number": 4843,
                "title": "[Bug?]: Unable to use yarn2 for development",
                "user": {
                    "login": "raja-jamwal",
                    "id": 1223189,
                    "node_id": "MDQ6VXNlcjEyMjMxODk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1223189?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/raja-jamwal",
                    "html_url": "https://github.com/raja-jamwal",
                    "followers_url": "https://api.github.com/users/raja-jamwal/followers",
                    "following_url": "https://api.github.com/users/raja-jamwal/following{/other_user}",
                    "gists_url": "https://api.github.com/users/raja-jamwal/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/raja-jamwal/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/raja-jamwal/subscriptions",
                    "organizations_url": "https://api.github.com/users/raja-jamwal/orgs",
                    "repos_url": "https://api.github.com/users/raja-jamwal/repos",
                    "events_url": "https://api.github.com/users/raja-jamwal/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/raja-jamwal/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-13T04:46:47Z",
                "updated_at": "2022-10-13T12:07:52Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nUpgraded a multi workspace project to use `yarn2`, deleted old node_modules, yarn.lock, did a fresh `yarn install`. On trying to run `yarn start`, it errors out as \r\n\r\n``` something@workspace:.: This package doesn't seem to be present in your lockfile; try to make an install to update your resolution```\r\n\r\nAlso there is no `yarn.lock`.\r\n\r\nI followed this (https://stackoverflow.com/questions/64722201/yarn-command-yarn-import-error-this-package-doesnt-seem-to-be-present-in-you/66734056#66734056) but there are no nested `yarn.lock` and workspaces are also correctly configured.\n\n### To reproduce\n\nmulti workspace \n\n### Environment\n\n```shell\nOS: Mac\r\n\r\nNode: v16.13.1\r\n\r\nNPM: 8.1.2\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1277509112",
                "html_url": "https://github.com/yarnpkg/berry/issues/4843#issuecomment-1277509112",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4843",
                "id": 1277509112,
                "node_id": "IC_kwDOCNXKfM5MJT34",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-13T12:07:52Z",
                "updated_at": "2022-10-13T12:07:52Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1277509112/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-13T12:07:52Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24558704731",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4802",
                "id": 1354309072,
                "node_id": "I_kwDOCNXKfM5QuR3Q",
                "number": 4802,
                "title": "[Bug?]: Patch isn't applying fully to @rnmapbox/maps",
                "user": {
                    "login": "natew",
                    "id": 12100,
                    "node_id": "MDQ6VXNlcjEyMTAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12100?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/natew",
                    "html_url": "https://github.com/natew",
                    "followers_url": "https://api.github.com/users/natew/followers",
                    "following_url": "https://api.github.com/users/natew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/natew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/natew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/natew/subscriptions",
                    "organizations_url": "https://api.github.com/users/natew/orgs",
                    "repos_url": "https://api.github.com/users/natew/repos",
                    "events_url": "https://api.github.com/users/natew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/natew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-29T13:32:58Z",
                "updated_at": "2022-10-12T18:10:23Z",
                "closed_at": "2022-10-12T18:10:23Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### To reproduce\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M2\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/node\r\n    Yarn: 3.1.1 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/yarn\r\n    npm: 8.15.0 - ~/Library/Caches/fnm_multishells/69747_1653603955297/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-12T18:10:23Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24511146887",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11284817637,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "b7f42424f6a13ffdb0bd1e7e03693ba03b8e1eda",
            "before": "9655cb21e6529c43b987a7748924a77b6cde6699",
            "commits": [
                {
                    "sha": "b933b4ca72eaf6781462ff506b0deb9d86346a0c",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.25` |\n| `@yarnpkg/core` | `4.0.0-rc.25` |\n| `@yarnpkg/parsers` | `3.0.0-rc.25` |\n| `@yarnpkg/shell` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.25` |\n| `@yarnpkg/extensions` | `2.0.0-rc.7` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.25` |\n| `@yarnpkg/pnp` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.25` |\n| `@yarnpkg/sdks` | `3.0.0-rc.25` |\n| `@yarnpkg/fslib` | `3.0.0-rc.25` |\n| `@yarnpkg/libui` | `3.0.0-rc.25` |\n| `@yarnpkg/libzip` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.25` |\n| `vscode-zipfs` | `2.6.0-rc.14` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.25` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.25` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.25` |\n| `@yarnpkg/builder` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.25` |\n| `@yarnpkg/nm` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.25` |\n| `@yarnpkg/doctor` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.25` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.25` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.25` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/b933b4ca72eaf6781462ff506b0deb9d86346a0c"
                },
                {
                    "sha": "b7f42424f6a13ffdb0bd1e7e03693ba03b8e1eda",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/b7f42424f6a13ffdb0bd1e7e03693ba03b8e1eda"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-10T21:39:30Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24484256708",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4790",
                "id": 1347419210,
                "node_id": "I_kwDOCNXKfM5QT_xK",
                "number": 4790,
                "title": "[Bug?]: yarn npm publish has different \"request\" then npm publish",
                "user": {
                    "login": "yarinsa",
                    "id": 44482362,
                    "node_id": "MDQ6VXNlcjQ0NDgyMzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44482362?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarinsa",
                    "html_url": "https://github.com/yarinsa",
                    "followers_url": "https://api.github.com/users/yarinsa/followers",
                    "following_url": "https://api.github.com/users/yarinsa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarinsa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarinsa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarinsa/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarinsa/orgs",
                    "repos_url": "https://api.github.com/users/yarinsa/repos",
                    "events_url": "https://api.github.com/users/yarinsa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarinsa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-23T06:39:44Z",
                "updated_at": "2022-10-09T08:05:37Z",
                "closed_at": "2022-10-09T08:05:37Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am using private registry by JFrog. Trying to publish a package. \r\n\r\nTook me a while to work with scoped private repo (had to base64 user:password) and use it as npmAuthIdent.\r\n\r\nWhen I  finally got it to work,\r\n Seems like everything is great but the package cant be found. \r\nAfter comparison with running  \"npm publish\" vs \"yarn npm publish\" I saw that the diff is that yarn uploads json file, and npm uploads a directory the contains the tgz.\r\nNot sure how to point the problem. \n\n### To reproduce\n\nNot sure how to upload reproduction \n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) x64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.13.1 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/node\r\n    Yarn: 3.2.2 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-09T08:05:37Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24484256607",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4816",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4816",
                "id": 1361064853,
                "node_id": "I_kwDOCNXKfM5RIDOV",
                "number": 4816,
                "title": "[Bug?]: can't query latest version - yarn npm view doesn't work with nested fields",
                "user": {
                    "login": "yarinsa",
                    "id": 44482362,
                    "node_id": "MDQ6VXNlcjQ0NDgyMzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44482362?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarinsa",
                    "html_url": "https://github.com/yarinsa",
                    "followers_url": "https://api.github.com/users/yarinsa/followers",
                    "following_url": "https://api.github.com/users/yarinsa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarinsa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarinsa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarinsa/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarinsa/orgs",
                    "repos_url": "https://api.github.com/users/yarinsa/repos",
                    "events_url": "https://api.github.com/users/yarinsa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarinsa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-04T07:10:43Z",
                "updated_at": "2022-10-09T08:05:36Z",
                "closed_at": "2022-10-09T08:05:36Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nI would like to query the artifactory  for the latest version released.\r\nAccording to npm docs I could do something like\r\n`yarn npm info {package_name} --fields \"dist-tags.latest`\r\nTo get nested properties inside \"dist-tags\". \r\nYarn returns \" The dist-tags.latest field doesn't exist inside {package_name}'s information\"\n\n### To reproduce\n\nExpected:\r\n  yarn npm info react --fields dist-tags.latest -> 18.2.0\r\n\r\nActual:\r\n yarn npm info react --fields dist-tags.latest -> The dist-tags.latest field doesn't exist inside react's information\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) x64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.13.1 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-b1e6bf51/node\r\n    Yarn: 3.2.2 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-b1e6bf51/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\n```\n\n\n### Additional context\n\nI could use npm view otherwise. But yarn doesn't have \"yarn view || yarn npm view\". Would be willing to help with that as well",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4816/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-09T08:05:37Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24480078781",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4808",
                "id": 1359723803,
                "node_id": "I_kwDOCNXKfM5RC70b",
                "number": 4808,
                "title": "Yarn Syntax Error - .yarnrc.yml: SyntaxError: ';' expected",
                "user": {
                    "login": "Shakti2303",
                    "id": 40260455,
                    "node_id": "MDQ6VXNlcjQwMjYwNDU1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/40260455?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shakti2303",
                    "html_url": "https://github.com/Shakti2303",
                    "followers_url": "https://api.github.com/users/Shakti2303/followers",
                    "following_url": "https://api.github.com/users/Shakti2303/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shakti2303/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shakti2303/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shakti2303/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shakti2303/orgs",
                    "repos_url": "https://api.github.com/users/Shakti2303/repos",
                    "events_url": "https://api.github.com/users/Shakti2303/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shakti2303/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-02T05:34:05Z",
                "updated_at": "2022-10-08T18:05:03Z",
                "closed_at": "2022-10-08T18:05:03Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n\r\n\r\nI have an angular project with Yarn (3.2.3) installed. While running `yarn run format:check`, it reads .yarnrc.yml file and throws below error:\r\n```\r\n.yarnrc.yml: SyntaxError: ';' expected \r\n[error]   3 | npmRegistryServer: 'SOME_SERVER'\r\n[error]   4 | npmScopes:\r\n[error] > 5 |   \"my-private-repo\":\r\n[error]     |                      ^\r\n[error]   6 |     npmRegistryServer: 'SOME_SERVER'\r\n[error]   7 |   ionic:\r\n[error]   8 |     npmRegistryServer: 'SOME_SERVER'\r\n```\r\n\r\n### To reproduce\r\n\r\nHere is my .yarnrc.yml configuration:\r\n```yaml\r\nyarnPath: \".yarn/releases/yarn-3.2.3.cjs\"\r\nnodeLinker: node-modules\r\nnpmRegistryServer: 'SOME_SERVER'\r\nnpmScopes:\r\n  \"my-private-repo\":\r\n    npmRegistryServer: 'SOME_SERVER'\r\n  ionic:\r\n    npmRegistryServer: 'SOME_SERVER'\r\nenableStrictSsl: false\r\nhttpRetry: 2\r\nhttpTimeout: 60000\r\n```\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?\r\n\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nNode Version : 14.15.4\r\nYarn : 3.2.3\r\nmacOS : 11.6.5\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-08T18:05:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24479312537",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11266986413,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "bd0ad90334be381abb5bed303a33ba0bd6e1e54d",
            "before": "bb8fe0a4a95992d0210e75386ff7530c93e8071a",
            "commits": [
                {
                    "sha": "3bc86a50b8cc9d55060e9b91a93cb19ca5be596e",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.24` |\n| `@yarnpkg/core` | `4.0.0-rc.24` |\n| `@yarnpkg/parsers` | `3.0.0-rc.24` |\n| `@yarnpkg/shell` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.24` |\n| `@yarnpkg/extensions` | `2.0.0-rc.6` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.24` |\n| `@yarnpkg/pnp` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.24` |\n| `@yarnpkg/sdks` | `3.0.0-rc.24` |\n| `@yarnpkg/fslib` | `3.0.0-rc.24` |\n| `@yarnpkg/libui` | `3.0.0-rc.24` |\n| `@yarnpkg/libzip` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.24` |\n| `vscode-zipfs` | `2.6.0-rc.13` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.24` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.24` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.24` |\n| `@yarnpkg/builder` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.24` |\n| `@yarnpkg/nm` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.24` |\n| `@yarnpkg/doctor` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.24` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.24` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.24` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/3bc86a50b8cc9d55060e9b91a93cb19ca5be596e"
                },
                {
                    "sha": "bd0ad90334be381abb5bed303a33ba0bd6e1e54d",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/bd0ad90334be381abb5bed303a33ba0bd6e1e54d"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-08T15:59:57Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24478433336",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4612",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4612",
                "id": 1298863461,
                "node_id": "I_kwDOCNXKfM5NaxVl",
                "number": 4612,
                "title": "[Bug?]: Regression error for `yarn dedupe`.",
                "user": {
                    "login": "liuxingbaoyu",
                    "id": 30521560,
                    "node_id": "MDQ6VXNlcjMwNTIxNTYw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/30521560?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/liuxingbaoyu",
                    "html_url": "https://github.com/liuxingbaoyu",
                    "followers_url": "https://api.github.com/users/liuxingbaoyu/followers",
                    "following_url": "https://api.github.com/users/liuxingbaoyu/following{/other_user}",
                    "gists_url": "https://api.github.com/users/liuxingbaoyu/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/liuxingbaoyu/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/liuxingbaoyu/subscriptions",
                    "organizations_url": "https://api.github.com/users/liuxingbaoyu/orgs",
                    "repos_url": "https://api.github.com/users/liuxingbaoyu/repos",
                    "events_url": "https://api.github.com/users/liuxingbaoyu/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/liuxingbaoyu/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    },
                    {
                        "id": 2124593803,
                        "node_id": "MDU6TGFiZWwyMTI0NTkzODAz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/upholded",
                        "name": "upholded",
                        "color": "35d668",
                        "default": false,
                        "description": "Real issues without formal reproduction"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-07-08T11:00:44Z",
                "updated_at": "2022-10-08T13:41:06Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`yarn dedupe --check` shows that there is a package that can be dedupe but running `yarn dedupe` has no effect.\r\nThis is a regression bug that worked fine in 3.1.1 but was broken in 3.2.0 until the current main branch.\r\n\r\n```\r\nPS F:\\babel> yarn dedupe --check\r\n\u27a4 YN0000: \u250c Deduplication step\r\n\u27a4 YN0000: \u2502 eslint@npm:eslint@^8.0.0 can be deduped from eslint@npm:8.0.0 to eslint@npm:8.9.0\r\n\u27a4 YN0000: \u2502 One package can be deduped using the highest strategy\r\n\u27a4 YN0000: \u2514 Completed\r\n```\r\n\r\n### To reproduce\r\n\r\n#### Sherlock\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    [`eslint`]: `^8.9.0`,\r\n    [`eslint-8`]: `npm:eslint@^8.0.0`,\r\n  },\r\n});\r\n\r\nawait yarn(`set`, `resolution`, `eslint-8@npm:eslint@^8.0.0`, `npm:eslint@8.0.0`);\r\n\r\nawait yarn(`dedupe`);\r\n\r\nawait expect(yarn(`dedupe`, `--check`))\r\n  .resolves.toBeTruthy();\r\n```\r\n\r\n#### Babel repo (latest commit doesn't repro, go back to an older commit such as `41582ee444debf24dc0702cef2919f608d06b235`)\r\n\r\n```sh\r\ngit clone https://github.com/babel/babel\r\ncd babel\r\nyarn set version stable\r\nyarn dedupe\r\nyarn dedupe --check\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (24) x64 AMD Ryzen Threadripper 1920X 12-Core Processor\r\n  Binaries:\r\n    Node: 18.3.0 - C:\\Users\\liuxingbaoyu\\AppData\\Local\\Temp\\xfs-fd8c095c\\node.CMD\r\n    Yarn: 3.2.0 - C:\\Users\\liuxingbaoyu\\AppData\\Local\\Temp\\xfs-fd8c095c\\yarn.CMD\r\n    npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/reactions",
                    "total_count": 1,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 1
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1272323341",
                "html_url": "https://github.com/yarnpkg/berry/issues/4612#issuecomment-1272323341",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4612",
                "id": 1272323341,
                "node_id": "IC_kwDOCNXKfM5L1h0N",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-08T13:41:06Z",
                "updated_at": "2022-10-08T13:41:06Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js dedupe --check\n\n\u27a4 YN0000: \u250c Deduplication step\n::group::Deduplication step\n\u27a4 YN0000: \u2502 eslint@npm:eslint@^8.0.0 can be deduped from eslint@npm:8.0.0 to eslint@npm:8.25.0\n\u27a4 YN0000: \u2502 One package can be deduped using the highest strategy\n::endgroup::\n\u27a4 YN0000: \u2514 Completed\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:13:7)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1272323341/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-08T13:41:06Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24477172073",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11265563892,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "e6e314eed22dcfd2217e9678643b0a649523ecfe",
            "before": "578dbe7f1c97ca686730bc62396bfc944c03f8db",
            "commits": [
                {
                    "sha": "8c8de6f982a89c0d383169689969b1e97f3a05f5",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.23` |\n| `@yarnpkg/core` | `4.0.0-rc.23` |\n| `@yarnpkg/parsers` | `3.0.0-rc.23` |\n| `@yarnpkg/shell` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.23` |\n| `@yarnpkg/extensions` | `2.0.0-rc.5` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.23` |\n| `@yarnpkg/pnp` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.23` |\n| `@yarnpkg/sdks` | `3.0.0-rc.23` |\n| `@yarnpkg/fslib` | `3.0.0-rc.23` |\n| `@yarnpkg/libui` | `3.0.0-rc.23` |\n| `@yarnpkg/libzip` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.23` |\n| `vscode-zipfs` | `2.6.0-rc.12` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.23` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.23` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.23` |\n| `@yarnpkg/builder` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.23` |\n| `@yarnpkg/nm` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.23` |\n| `@yarnpkg/doctor` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.23` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.23` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.23` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/8c8de6f982a89c0d383169689969b1e97f3a05f5"
                },
                {
                    "sha": "e6e314eed22dcfd2217e9678643b0a649523ecfe",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/e6e314eed22dcfd2217e9678643b0a649523ecfe"
                }
            ]
        },
        "public": true,
        "created_at": "2022-10-08T10:14:29Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24469372833",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4802",
                "id": 1354309072,
                "node_id": "I_kwDOCNXKfM5QuR3Q",
                "number": 4802,
                "title": "[Bug?]: Patch isn't applying fully to @rnmapbox/maps",
                "user": {
                    "login": "natew",
                    "id": 12100,
                    "node_id": "MDQ6VXNlcjEyMTAw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12100?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/natew",
                    "html_url": "https://github.com/natew",
                    "followers_url": "https://api.github.com/users/natew/followers",
                    "following_url": "https://api.github.com/users/natew/following{/other_user}",
                    "gists_url": "https://api.github.com/users/natew/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/natew/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/natew/subscriptions",
                    "organizations_url": "https://api.github.com/users/natew/orgs",
                    "repos_url": "https://api.github.com/users/natew/repos",
                    "events_url": "https://api.github.com/users/natew/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/natew/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1406463941,
                        "node_id": "MDU6TGFiZWwxNDA2NDYzOTQx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/can't%20repro",
                        "name": "can't repro",
                        "color": "dddddd",
                        "default": false,
                        "description": "Will soon be closed unless a repro is found"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-29T13:32:58Z",
                "updated_at": "2022-10-07T18:09:50Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### To reproduce\n\n```\r\nyarn add @rnmapbox/maps\r\nyarn patch @rnmapbox/maps\r\ncd [tmp folder]\r\nnpm i -g typescript\r\nnpx tsc --declaration false --noImplicitAny false\r\ncd -\r\nyarn patch-commit -s  [tmp folder]\r\n```\r\n\r\nThis will create a patch that for some reason adds a `b` directory instead of the `lib` directory thats added from typescript. Further, if you make any changes to `package.json` before patch-commit, those are entirely lost.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M2\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/node\r\n    Yarn: 3.1.1 - /private/var/folders/w3/nl3nl7ks6s36641hzl_gls9m0000gn/T/xfs-f997a031/yarn\r\n    npm: 8.15.0 - ~/Library/Caches/fnm_multishells/69747_1653603955297/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1271894942",
                "html_url": "https://github.com/yarnpkg/berry/issues/4802#issuecomment-1271894942",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4802",
                "id": 1271894942,
                "node_id": "IC_kwDOCNXKfM5Lz5Oe",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-07T18:09:50Z",
                "updated_at": "2022-10-07T18:09:50Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1271894942/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-07T18:09:51Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24441915083",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824",
                "id": 1363352463,
                "node_id": "I_kwDOCNXKfM5RQxuP",
                "number": 4824,
                "title": "[Bug?]: peerdependency version being ignored?",
                "user": {
                    "login": "lucas-zimerman",
                    "id": 8229322,
                    "node_id": "MDQ6VXNlcjgyMjkzMjI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8229322?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lucas-zimerman",
                    "html_url": "https://github.com/lucas-zimerman",
                    "followers_url": "https://api.github.com/users/lucas-zimerman/followers",
                    "following_url": "https://api.github.com/users/lucas-zimerman/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lucas-zimerman/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lucas-zimerman/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lucas-zimerman/subscriptions",
                    "organizations_url": "https://api.github.com/users/lucas-zimerman/orgs",
                    "repos_url": "https://api.github.com/users/lucas-zimerman/repos",
                    "events_url": "https://api.github.com/users/lucas-zimerman/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lucas-zimerman/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-09-06T14:11:04Z",
                "updated_at": "2022-10-06T15:06:21Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am adding this as a bug since the behavior is different from npm.\r\nIn short, running the bellow command has different behaviors, npm adds @sentry/angular using the version defined on the peerDependency of @sentry/capacitor@0.9.0 where yarn ignores that version number and uses the latest version of the package.\r\n\r\n\r\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"packageManager\": \"yarn@3.2.3\",\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.12.1\",\r\n    \"@sentry/capacitor\": \"0.9.0\",\r\n  }\r\n}\r\n```\r\n\r\nnpm install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.8.1\",\r\n    \"@sentry/capacitor\": \"^0.9.0\"\r\n  }\r\n}\r\n```\r\n\r\nsentry angular is defined as a peer dependency here:\r\nhttps://github.com/getsentry/sentry-capacitor/blob/0.9.0/package.json#L40\r\n\r\nIf not a bug, it would be great to know how `yarn` could behave the same as `npm` in this case where users type for example `yarn add @sentry/capacitor @sentry/angular` where @sentry/capacitor has a peer dependency  version lower than the latest release of @sentry/angular.\n\n### To reproduce\n\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n\r\nno need to add additional code, the build will break because the types are incompatible with the latest version of @sentry/angular\r\n\r\n```js repro\r\n// Sherlock reproduction. For instance:\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    [`@sentry/capacitor`]: `0.9.0`,\r\n    [`@sentry/angular`]: ``,\r\n  },\r\n});\r\n```\r\n\n\n### Environment\n\n```shell\nSame was reproduced by other users on different machines.\r\n\r\n  System:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 18.7.0 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\node.CMD\r\n    Yarn: 3.2.3 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\yarn.CMD\r\n    npm: 8.19.1 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1270229281",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824#issuecomment-1270229281",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "id": 1270229281,
                "node_id": "IC_kwDOCNXKfM5Ltikh",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-06T15:06:21Z",
                "updated_at": "2022-10-06T15:06:21Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1270229281/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-06T15:06:21Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24380301495",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4790",
                "id": 1347419210,
                "node_id": "I_kwDOCNXKfM5QT_xK",
                "number": 4790,
                "title": "[Bug?]: yarn npm publish has different \"request\" then npm publish",
                "user": {
                    "login": "yarinsa",
                    "id": 44482362,
                    "node_id": "MDQ6VXNlcjQ0NDgyMzYy",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44482362?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarinsa",
                    "html_url": "https://github.com/yarinsa",
                    "followers_url": "https://api.github.com/users/yarinsa/followers",
                    "following_url": "https://api.github.com/users/yarinsa/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarinsa/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarinsa/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarinsa/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarinsa/orgs",
                    "repos_url": "https://api.github.com/users/yarinsa/repos",
                    "events_url": "https://api.github.com/users/yarinsa/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarinsa/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-08-23T06:39:44Z",
                "updated_at": "2022-10-04T07:12:08Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am using private registry by JFrog. Trying to publish a package. \r\n\r\nTook me a while to work with scoped private repo (had to base64 user:password) and use it as npmAuthIdent.\r\n\r\nWhen I  finally got it to work,\r\n Seems like everything is great but the package cant be found. \r\nAfter comparison with running  \"npm publish\" vs \"yarn npm publish\" I saw that the diff is that yarn uploads json file, and npm uploads a directory the contains the tgz.\r\nNot sure how to point the problem. \n\n### To reproduce\n\nNot sure how to upload reproduction \n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) x64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.13.1 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/node\r\n    Yarn: 3.2.2 - /private/var/folders/n_/c3nqmfn54qnbtq0zgvvcvh4r0000gp/T/xfs-8d05ed64/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1266506951",
                "html_url": "https://github.com/yarnpkg/berry/issues/4790#issuecomment-1266506951",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4790",
                "id": 1266506951,
                "node_id": "IC_kwDOCNXKfM5LfVzH",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-04T07:12:08Z",
                "updated_at": "2022-10-04T07:12:08Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1266506951/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-04T07:12:08Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24368707159",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4808",
                "id": 1359723803,
                "node_id": "I_kwDOCNXKfM5RC70b",
                "number": 4808,
                "title": "Yarn Syntax Error - .yarnrc.yml: SyntaxError: ';' expected",
                "user": {
                    "login": "Shakti2303",
                    "id": 40260455,
                    "node_id": "MDQ6VXNlcjQwMjYwNDU1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/40260455?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shakti2303",
                    "html_url": "https://github.com/Shakti2303",
                    "followers_url": "https://api.github.com/users/Shakti2303/followers",
                    "following_url": "https://api.github.com/users/Shakti2303/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shakti2303/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shakti2303/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shakti2303/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shakti2303/orgs",
                    "repos_url": "https://api.github.com/users/Shakti2303/repos",
                    "events_url": "https://api.github.com/users/Shakti2303/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shakti2303/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-02T05:34:05Z",
                "updated_at": "2022-10-03T17:17:18Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n\r\n\r\nI have an angular project with Yarn (3.2.3) installed. While running `yarn run format:check`, it reads .yarnrc.yml file and throws below error:\r\n```\r\n.yarnrc.yml: SyntaxError: ';' expected \r\n[error]   3 | npmRegistryServer: 'SOME_SERVER'\r\n[error]   4 | npmScopes:\r\n[error] > 5 |   \"my-private-repo\":\r\n[error]     |                      ^\r\n[error]   6 |     npmRegistryServer: 'SOME_SERVER'\r\n[error]   7 |   ionic:\r\n[error]   8 |     npmRegistryServer: 'SOME_SERVER'\r\n```\r\n\r\n### To reproduce\r\n\r\nHere is my .yarnrc.yml configuration:\r\n```yaml\r\nyarnPath: \".yarn/releases/yarn-3.2.3.cjs\"\r\nnodeLinker: node-modules\r\nnpmRegistryServer: 'SOME_SERVER'\r\nnpmScopes:\r\n  \"my-private-repo\":\r\n    npmRegistryServer: 'SOME_SERVER'\r\n  ionic:\r\n    npmRegistryServer: 'SOME_SERVER'\r\nenableStrictSsl: false\r\nhttpRetry: 2\r\nhttpTimeout: 60000\r\n```\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?\r\n\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nNode Version : 14.15.4\r\nYarn : 3.2.3\r\nmacOS : 11.6.5\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nSyntax error is thrown at \"my-private-repo\" . I figured out that maybe the issue is with the hyphens in that private repository as when I removed that repo, the command passes successfully. I cannot rename that private repo as its a legacy repo. Any clues how to fix this issue ?",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265774562",
                "html_url": "https://github.com/yarnpkg/berry/issues/4808#issuecomment-1265774562",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4808",
                "id": 1265774562,
                "node_id": "IC_kwDOCNXKfM5Lci_i",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-03T17:17:18Z",
                "updated_at": "2022-10-03T17:17:18Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265774562/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-03T17:17:18Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24356608752",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-10-03T08:03:51Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\r\n\r\n### To reproduce\r\n\r\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\n# With Corepack disabled, we need to get Yarn from somewhere else\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\r\n\r\nwith the following package.json:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n\r\nAs you can see, the version used for `yarn pack` is different:\r\n- with Corepack _enabled_, it's using v1.22.15\r\n- with Corepack _disabled_, it's using v2+, I think?\r\n\r\nNote that I have a global Yarn install from Homebrew:\r\n```sh\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n```\r\n\r\nThe same happens when Yarn is installed through npm (as per the Dockerfile repro).\r\n\r\nAnother interesting finding: no matter if Corepack is enabled or disabled, the Yarn binary & version stays the same:\r\n```sh\r\n# From my home directory\r\n# Results are the same from within my project directory, except the version is 3.2.3 there\r\n$ corepack disable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n$ corepack enable\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n$ yarn --version\r\n1.22.19\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265078078",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1265078078",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1265078078,
                "node_id": "IC_kwDOCNXKfM5LZ48-",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-03T08:03:51Z",
                "updated_at": "2022-10-03T08:03:51Z",
                "author_association": "COLLABORATOR",
                "body": "The reproduction case in your issue seems broken (ie it neither pass nor fail due to throwing an unmanaged exception):\n```\nError: spawn /usr/bin/corepack ENOENT\n\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n    at onErrorNT (node:internal/child_process:478:16)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\n```\n\nRemember: any non-Jest exceptions will cause the test to be reported as broken. If you expect something to pass without throwing, you must wrap it into something like `await expect(...).resolves.toBeTruthy()`. If you instead expect something to throw, you need to wrap it into `await expect(...).rejects.toThrow()`.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265078078/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-03T08:03:51Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24356478734",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-10-03T07:57:23Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\r\n\r\n### To reproduce\r\n\r\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\n# With Corepack disabled, we need to get Yarn from somewhere else\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\r\n\r\nwith the following package.json:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n\r\nAs you can see, the version used for `yarn pack` is different:\r\n- with Corepack _enabled_, it's using v1.22.15\r\n- with Corepack _disabled_, it's using v2+, I think?\r\n\r\nNote that I have a global Yarn install from Homebrew:\r\n```sh\r\n$ which yarn\r\n/opt/homebrew/bin/yarn\r\n```\r\n\r\nThe same happens when Yarn is installed through npm (as per the Dockerfile repro)",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265070925",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1265070925",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1265070925,
                "node_id": "IC_kwDOCNXKfM5LZ3NN",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-10-03T07:57:23Z",
                "updated_at": "2022-10-03T07:57:23Z",
                "author_association": "COLLABORATOR",
                "body": "The reproduction case in your issue seems broken (ie it neither pass nor fail due to throwing an unmanaged exception):\n```\nError: spawn /usr/bin/corepack ENOENT\n\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n    at onErrorNT (node:internal/child_process:478:16)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\n```\n\nRemember: any non-Jest exceptions will cause the test to be reported as broken. If you expect something to pass without throwing, you must wrap it into something like `await expect(...).resolves.toBeTruthy()`. If you instead expect something to throw, you need to wrap it into `await expect(...).rejects.toThrow()`.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1265070925/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-10-03T07:57:24Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24336327345",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4799",
                "id": 1352936412,
                "node_id": "I_kwDOCNXKfM5QpCvc",
                "number": 4799,
                "title": "[Bug?]: yarn version applied wrong prelease version",
                "user": {
                    "login": "Brooooooklyn",
                    "id": 3468483,
                    "node_id": "MDQ6VXNlcjM0Njg0ODM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3468483?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Brooooooklyn",
                    "html_url": "https://github.com/Brooooooklyn",
                    "followers_url": "https://api.github.com/users/Brooooooklyn/followers",
                    "following_url": "https://api.github.com/users/Brooooooklyn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Brooooooklyn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Brooooooklyn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Brooooooklyn/subscriptions",
                    "organizations_url": "https://api.github.com/users/Brooooooklyn/orgs",
                    "repos_url": "https://api.github.com/users/Brooooooklyn/repos",
                    "events_url": "https://api.github.com/users/Brooooooklyn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Brooooooklyn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-27T04:17:37Z",
                "updated_at": "2022-10-01T05:29:15Z",
                "closed_at": "2022-10-01T05:29:15Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nCurrent version: `0.0.1-alpha.0`\r\n\r\nRun command: `yarn version 0.0.1-alpha.1 -d && yarn version apply --all`\r\n\r\nThe version became `0.0.1-0`\r\n\r\nIt should be `0.0.1-alpha.1`\r\n\r\n### Environment\r\n\r\n```shell\r\nos: macos 12\r\nnode: 16.17.0\r\nyarn: 3.2.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-10-01T05:29:15Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24320283755",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4797",
                "id": 1352023722,
                "node_id": "I_kwDOCNXKfM5Qlj6q",
                "number": 4797,
                "title": "[Bug?]: Error: Release not found",
                "user": {
                    "login": "jweboy",
                    "id": 16516645,
                    "node_id": "MDQ6VXNlcjE2NTE2NjQ1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16516645?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jweboy",
                    "html_url": "https://github.com/jweboy",
                    "followers_url": "https://api.github.com/users/jweboy/followers",
                    "following_url": "https://api.github.com/users/jweboy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jweboy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jweboy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jweboy/subscriptions",
                    "organizations_url": "https://api.github.com/users/jweboy/orgs",
                    "repos_url": "https://api.github.com/users/jweboy/repos",
                    "events_url": "https://api.github.com/users/jweboy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jweboy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-26T09:42:32Z",
                "updated_at": "2022-09-30T10:05:52Z",
                "closed_at": "2022-09-30T10:05:52Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nyarn set version /berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\nyarn set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\n```bash\r\nArguments:\r\n  /Users/jianglei/.volta/tools/image/node/16.15.0/bin/node /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin/yarn.js set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n\r\nPATH:\r\n  /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin:/Users/jianglei/.volta/tools/image/node/16.15.0/bin:/Users/jianglei/.volta/bin:/Users/jianglei/bin:/Users/jianglei/.deno/bin:/Users/jianglei/.nvs/default/bin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/jianglei/.cargo/bin:/Users/jianglei/Development/flutter/bin:/Users/jianglei/.pub-cache/bin:/Users/jianglei/Development/golang/bin:/usr/local/opt/go/libexec/bin:/Users/jianglei/Development/Docker:/Users/jianglei/Development/emsdk:/Users/jianglei/Development/ngrok\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\r\n\r\nTrace:\r\n  Error: Release not found: https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:86351:17\r\n      at Generator.next (<anonymous>)\r\n      at step (/Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:310:30)\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:321:13\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```\n\n### To reproduce\n\n-\n\n### Environment\n\n```shell\nmacOS\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-09-30T10:05:53Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24315904931",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4920",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4920",
                "id": 1391877191,
                "node_id": "I_kwDOCNXKfM5S9lxH",
                "number": 4920,
                "title": "[Bug?]: `fs.promises.open` doesn't throw `ENOENT` when path doesn't exist",
                "user": {
                    "login": "alvinleung1996",
                    "id": 17541320,
                    "node_id": "MDQ6VXNlcjE3NTQxMzIw",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17541320?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alvinleung1996",
                    "html_url": "https://github.com/alvinleung1996",
                    "followers_url": "https://api.github.com/users/alvinleung1996/followers",
                    "following_url": "https://api.github.com/users/alvinleung1996/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alvinleung1996/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alvinleung1996/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alvinleung1996/subscriptions",
                    "organizations_url": "https://api.github.com/users/alvinleung1996/orgs",
                    "repos_url": "https://api.github.com/users/alvinleung1996/repos",
                    "events_url": "https://api.github.com/users/alvinleung1996/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alvinleung1996/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-30T06:02:56Z",
                "updated_at": "2022-09-30T06:15:07Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`fs.promises.open` resolves with a `FileHandle` object when given an non-existing file path.\r\n\r\nThe correct behavior should be throwing an error with code `ENOENT`.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    'tslib': '*',\r\n  },\r\n})\r\n\r\nconst realPath = await node(`require.resolve('tslib/package.json')`)\r\nconst fakePath = `${realPath}.fake`\r\n\r\nconst result = await node(`\r\n  require('fs/promises')\r\n    .open(${JSON.stringify(fakePath)})\r\n    .then(() => 'resolved')\r\n    .catch((err) => \\`rejected: \\${err.code}\\`)\r\n`)\r\nexpect(result).toBe('rejected: ENOENT')\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n  OS: Linux 5.10 Alpine Linux\r\n  CPU: (8) x64 Intel(R) Core(TM) i7-6920HQ CPU @ 2.90GHz\r\nBinaries:\r\n  Node: 16.17.1 - /tmp/xfs-28478f54/node\r\n  Yarn: 3.2.3 - /tmp/xfs-28478f54/yarn\r\n  npm: 8.15.0 - /usr/local/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1263148601",
                "html_url": "https://github.com/yarnpkg/berry/issues/4920#issuecomment-1263148601",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4920",
                "id": 1263148601,
                "node_id": "IC_kwDOCNXKfM5LSh45",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-30T06:15:06Z",
                "updated_at": "2022-09-30T06:15:06Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"rejected: ENOENT\"\nReceived: \"resolved\"\n    at module.exports (evalmachine.<anonymous>:17:16)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1263148601/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-30T06:15:07Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24308872047",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4795",
                "id": 1351340797,
                "node_id": "I_kwDOCNXKfM5Qi9L9",
                "number": 4795,
                "title": "[Bug?]: Spaces in Windows username causes yarn create to fail",
                "user": {
                    "login": "Miladiir",
                    "id": 1358063,
                    "node_id": "MDQ6VXNlcjEzNTgwNjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1358063?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Miladiir",
                    "html_url": "https://github.com/Miladiir",
                    "followers_url": "https://api.github.com/users/Miladiir/followers",
                    "following_url": "https://api.github.com/users/Miladiir/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Miladiir/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Miladiir/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Miladiir/subscriptions",
                    "organizations_url": "https://api.github.com/users/Miladiir/orgs",
                    "repos_url": "https://api.github.com/users/Miladiir/repos",
                    "events_url": "https://api.github.com/users/Miladiir/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Miladiir/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-25T19:11:40Z",
                "updated_at": "2022-09-29T20:05:25Z",
                "closed_at": "2022-09-29T20:05:25Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n### To reproduce\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n1. Install Windows, e.g. 10 or 11\r\n2. Create a user with a space in the name\r\n3. Try to use yarn for anything, e.g. `yarn create vite`\r\n4. Boom\r\n\r\n### Environment\r\n\r\n`yarn dlx -q envinfo --preset jest` fails for me aswell.\r\nIt's a windows machine. My username contains a space, which is perfectly fine for npm, npx etc.\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-09-29T20:05:25Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24280125668",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11165131328,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "c26001a65a997dc5c2b3f219a12cb51247d7d50e",
            "before": "3092cfc155ad8eaadcf663c11816f7b73ec9922a",
            "commits": [
                {
                    "sha": "74eb9033d56c3bf208cf8ea0c624e1e4a9c0f631",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.22` |\n| `@yarnpkg/core` | `4.0.0-rc.22` |\n| `@yarnpkg/parsers` | `3.0.0-rc.22` |\n| `@yarnpkg/shell` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.22` |\n| `@yarnpkg/extensions` | `2.0.0-rc.4` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.22` |\n| `@yarnpkg/pnp` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.22` |\n| `@yarnpkg/sdks` | `3.0.0-rc.22` |\n| `@yarnpkg/fslib` | `3.0.0-rc.22` |\n| `@yarnpkg/libui` | `3.0.0-rc.22` |\n| `@yarnpkg/libzip` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.22` |\n| `vscode-zipfs` | `2.6.0-rc.11` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.22` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.22` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.22` |\n| `@yarnpkg/builder` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.22` |\n| `@yarnpkg/nm` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.22` |\n| `@yarnpkg/doctor` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.22` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.22` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.22` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/74eb9033d56c3bf208cf8ea0c624e1e4a9c0f631"
                },
                {
                    "sha": "c26001a65a997dc5c2b3f219a12cb51247d7d50e",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/c26001a65a997dc5c2b3f219a12cb51247d7d50e"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-28T16:39:14Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24280087851",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917",
                "id": 1389649508,
                "node_id": "I_kwDOCNXKfM5S1F5k",
                "number": 4917,
                "title": "[Bug?]: Checksum mismatch between corepack and non-corepack installs because of newline in package.json",
                "user": {
                    "login": "TuurDutoit",
                    "id": 4077287,
                    "node_id": "MDQ6VXNlcjQwNzcyODc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4077287?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/TuurDutoit",
                    "html_url": "https://github.com/TuurDutoit",
                    "followers_url": "https://api.github.com/users/TuurDutoit/followers",
                    "following_url": "https://api.github.com/users/TuurDutoit/following{/other_user}",
                    "gists_url": "https://api.github.com/users/TuurDutoit/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/TuurDutoit/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/TuurDutoit/subscriptions",
                    "organizations_url": "https://api.github.com/users/TuurDutoit/orgs",
                    "repos_url": "https://api.github.com/users/TuurDutoit/repos",
                    "events_url": "https://api.github.com/users/TuurDutoit/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/TuurDutoit/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489592435,
                        "node_id": "MDU6TGFiZWwxNDg5NTkyNDM1",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/broken-repro",
                        "name": "broken-repro",
                        "color": "000000",
                        "default": false,
                        "description": "The reproduction in this issue is broken"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-28T16:35:10Z",
                "updated_at": "2022-09-28T16:37:20Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen switching between `corepack enable` and `corepack disable`, Yarn complains about a checksum mismatch on a package installed with the `git:` protocol. This seems to be because the packing happens with a different version of Yarn, which adds / removes an extra newline at the end of the `package.json` of the dependency.\r\n\r\nI had a similar problem before with Yarn 3.2.1 (adding a `packageManager` field to the package.json, IIRC). I upgraded to v3.2.3, which should have resolved that problem, but now I have this.\n\n### To reproduce\n\nSteps to reproduce:\r\n- Create a new, empty directory\r\n- Create the following `package.json`:\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  }\r\n}\r\n```\r\n- `yarn set version berry` or `yarn set version from sources` (I could reproduce with both)\r\n- `corepack disable`\r\n- `yarn`\r\n- `corepack enable` (you can switch these around - first enable, then disable fails for me too)\r\n- `rm -rf node_modules`\r\n- `yarn cache clean --all`\r\n- `yarn` -> fails with `YN0018: \u2502 timecop@https://github.com/jamesarosen/Timecop.js.git#commit=d421df9b00386266bda93eb9c2ea15fedc888761: The remote archive doesn't match the expected checksum`\r\n\r\nI tried to make a reproducible case with Sherlock, as suggested - I made this, but it works fine there:\r\n```js repro\r\nconst path = require('path')\r\nconst {execFile} = require(`child_process`)\r\nconst {promisify} = require(`util`)\r\n\r\nconst execFileP = promisify(execFile)\r\n\r\nasync function exec(execPath, args = [], opts = {}) {\r\n  try {\r\n    const {stdout} = await execFileP(execPath, args, opts)\r\n    return stdout\r\n  } catch (error) {\r\n    error.message += `\\n${error.stdout}`;\r\n    throw error;\r\n  }\r\n};\r\n\r\nawait packageJson({\r\n  \"dependencies\": {\r\n    \"timecop\": \"git+https://github.com/jamesarosen/Timecop.js.git#d421df9b00386266bda93eb9c2ea15fedc888761\"\r\n  },\r\n})\r\n\r\nconst nodePath = process.argv[0]\r\nconst corepackPath = path.resolve(nodePath, '../corepack')\r\n\r\nawait yarn('set', 'version', 'berry')\r\nawait exec(corepackPath, ['enable'])\r\nawait yarn('install', '--inline-builds')\r\n\r\nawait exec(corepackPath, ['disable'])\r\nawait exec('rm', ['-rf', 'node_modules'])\r\nawait yarn('cache', 'clean', '--all')\r\nawait expect(yarn('install', '--inline-builds')).resolves.toMatch(/Done in \\d+s/)\r\n```\r\n\r\nAs an alternative, I put these steps in a Dockerfile, which does fail on the last step:\r\n```Dockerfile\r\n# Prepare\r\nFROM node:18\r\nWORKDIR /project\r\nCOPY package.template.json package.json\r\nRUN yarn set version berry\r\n\r\n# Corepack: ENABLED\r\nRUN corepack enable\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n\r\n# Corepack: DISABLED\r\nRUN corepack disable\r\nRUN npm install -g yarn\r\nRUN rm -rf node_modules\r\nRUN yarn cache clean --all\r\nRUN yarn --version\r\nRUN yarn\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/node\r\n    Yarn: 3.2.3 - /private/var/folders/fk/c9z1tyhj02nfdn9dz_71vjk80000gq/T/xfs-4a2199df/yarn\r\n    npm: 8.11.0 - ~/Library/Caches/fnm_multishells/59621_1664283223571/bin/npm\r\n  npmPackages:\r\n    jest: ^26.6.3 => 26.6.3\n```\n\n\n### Additional context\n\nI managed to get the zip archives from the Yarn cache, as well as the logs from the `yarn pack`:\r\n- with corepack **enabled**:\r\n    - [timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip](https://github.com/yarnpkg/berry/files/9667021/timecop-https-21fab97b94-b209b91b1f-corepack-enabled.zip)\r\n    - [corepack-enabled.log](https://github.com/yarnpkg/berry/files/9667046/corepack-enabled.log)\r\n- with corepack **disabled**:\r\n    - [timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip](https://github.com/yarnpkg/berry/files/9667049/timecop-https-21fab97b94-fbbbc614ae-corepack-disabled.zip)\r\n    - [corepack-disabled.log](https://github.com/yarnpkg/berry/files/9667050/corepack-disabled.log)\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1261167898",
                "html_url": "https://github.com/yarnpkg/berry/issues/4917#issuecomment-1261167898",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4917",
                "id": 1261167898,
                "node_id": "IC_kwDOCNXKfM5LK-Ua",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-28T16:37:20Z",
                "updated_at": "2022-09-28T16:37:20Z",
                "author_association": "COLLABORATOR",
                "body": "The reproduction case in your issue seems broken (ie it neither pass nor fail due to throwing an unmanaged exception):\n```\nError: spawn /usr/bin/corepack ENOENT\n\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n    at onErrorNT (node:internal/child_process:478:16)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\n```\n\nRemember: any non-Jest exceptions will cause the test to be reported as broken. If you expect something to pass without throwing, you must wrap it into something like `await expect(...).resolves.toBeTruthy()`. If you instead expect something to throw, you need to wrap it into `await expect(...).rejects.toThrow()`.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1261167898/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-28T16:37:21Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24243881090",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909",
                "id": 1387379336,
                "node_id": "I_kwDOCNXKfM5SsbqI",
                "number": 4909,
                "title": "[Bug?]: ENOENT when trying to install a package tarball that references another tarball",
                "user": {
                    "login": "AlCalzone",
                    "id": 17641229,
                    "node_id": "MDQ6VXNlcjE3NjQxMjI5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17641229?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/AlCalzone",
                    "html_url": "https://github.com/AlCalzone",
                    "followers_url": "https://api.github.com/users/AlCalzone/followers",
                    "following_url": "https://api.github.com/users/AlCalzone/following{/other_user}",
                    "gists_url": "https://api.github.com/users/AlCalzone/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/AlCalzone/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/AlCalzone/subscriptions",
                    "organizations_url": "https://api.github.com/users/AlCalzone/orgs",
                    "repos_url": "https://api.github.com/users/AlCalzone/repos",
                    "events_url": "https://api.github.com/users/AlCalzone/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/AlCalzone/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-09-27T08:52:49Z",
                "updated_at": "2022-09-27T08:59:51Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to install a package tarball that references another package tarball via a relative path, yarn fails to resolve the referenced tarball. To reproduce, create the following file structure:\r\n* `package.json`, references `file:./package-2.tgz`\r\n* `package-2.tgz`, contains a file `package/package.json` which references `file:./package-1.tgz`\r\n* `package-1.tgz`, contains another file `package/package.json`\r\n\r\nIt looks like yarn tries resolving from the installed location (node_modules) instead of the source tarball location. The same works fine when using `npm`, or when using absolute paths (`file:/path/to/package-1.tgz`) with yarn.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2();\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2() {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': 'file:./package-1.tgz'\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.15 Ubuntu 22.04.1 LTS 22.04.1 LTS (Jammy Jellyfish)\r\n    CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Binaries:\r\n    Node: 16.17.0 - /tmp/xfs-5b1c2183/node\r\n    Yarn: 3.2.3 - /tmp/xfs-5b1c2183/yarn\r\n    npm: 8.19.2 - /usr/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThis does NOT fail, since `package-2` references `package-1` via an absolute path:\r\n\r\n```js\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2(tar1);\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2(tar1Path) {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': `file:${tar1Path}`\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259200793",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909#issuecomment-1259200793",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "id": 1259200793,
                "node_id": "IC_kwDOCNXKfM5LDeEZ",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-27T08:59:51Z",
                "updated_at": "2022-09-27T08:59:51Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js install\n\n\u27a4 YN0000: \u250c Resolution step\n::group::Resolution step\n\u27a4 YN0001: \u2502 Error: package-1@file:./package-1.tgz::locator=package-2%40file%3A%2Ftmp%2Ftmp-17RoKWjEH5N53Z%2Fpackage-2.tgz%3A%3Alocator%3Dapplication%2540workspace%253A.: ENOENT: no such file or directory, open 'node_modules/package-2/package-1.tgz'\n    at makeError (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:2:24)\n    at Object.ENOENT (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:22:10)\n    at ZipFS.readFileBuffer (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1447:20)\n    at ZipFS.readFilePromise (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1420:29)\n    at LazyFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at AliasFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at TarballFileFetcher.fetchFromDisk (/github/workspace/packages/plugin-file/sources/TarballFileFetcher.ts:62:41)\n    at loadPackageThroughMirror (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:252:23)\n    at loadPackage (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:268:58)\n    at loadPackageThroughMutex (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:350:16)\n::endgroup::\n\u27a4 YN0000: \u2514 Completed in 0s 383ms\n\u27a4 YN0000: Failed with errors in 0s 386ms\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:20:7)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259200793/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-27T08:59:51Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24243786994",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909",
                "id": 1387379336,
                "node_id": "I_kwDOCNXKfM5SsbqI",
                "number": 4909,
                "title": "[Bug?]: ENOENT when trying to install a package tarball that references another tarball",
                "user": {
                    "login": "AlCalzone",
                    "id": 17641229,
                    "node_id": "MDQ6VXNlcjE3NjQxMjI5",
                    "avatar_url": "https://avatars.githubusercontent.com/u/17641229?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/AlCalzone",
                    "html_url": "https://github.com/AlCalzone",
                    "followers_url": "https://api.github.com/users/AlCalzone/followers",
                    "following_url": "https://api.github.com/users/AlCalzone/following{/other_user}",
                    "gists_url": "https://api.github.com/users/AlCalzone/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/AlCalzone/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/AlCalzone/subscriptions",
                    "organizations_url": "https://api.github.com/users/AlCalzone/orgs",
                    "repos_url": "https://api.github.com/users/AlCalzone/repos",
                    "events_url": "https://api.github.com/users/AlCalzone/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/AlCalzone/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-27T08:52:49Z",
                "updated_at": "2022-09-27T08:55:41Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to install a package tarball that references another package tarball via a relative path, yarn fails to resolve the referenced tarball. To reproduce, create the following file structure:\r\n* `package.json`, references `file:./package-2.tgz`\r\n* `package-2.tgz`, contains `package/package.json` which references `file:./package-1.tgz`\r\n* `package-1.tgz`, contains `package/package.json`\r\n\r\nIt looks like yarn tries resolving from the installed location (node_modules) instead of the source tarball location. The same works fine when using `npm`, or when using absolute paths (`file:/path/to/package-1.tgz`) with yarn.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2();\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2() {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': 'file:./package-1.tgz'\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Linux 5.15 Ubuntu 22.04.1 LTS 22.04.1 LTS (Jammy Jellyfish)\r\n    CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz\r\n  Binaries:\r\n    Node: 16.17.0 - /tmp/xfs-5b1c2183/node\r\n    Yarn: 3.2.3 - /tmp/xfs-5b1c2183/yarn\r\n    npm: 8.19.2 - /usr/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThis does NOT fail, since `package-2` references `package-1` via an absolute path:\r\n\r\n```js\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst childProcess = require('child_process');\r\n\r\n// Create two package tarballs, one referencing the other\r\nconsole.log(\"creating tarball 1\");\r\nconst tar1 = await createTar1();\r\nconsole.log(\"creating tarball 2\");\r\nconst tar2 = await createTar2(tar1);\r\n\r\nconsole.log(\"installing...\");\r\nconst installPromise = packageJsonAndInstall({\r\n  name: \"application\",\r\n  dependencies: {\r\n    [`package-2`]: `file:${tar2}`,\r\n  }\r\n});\r\n\r\nawait expect(installPromise).resolves.toBeTruthy();\r\n\r\n//\r\n// Helpers\r\n//\r\n\r\nasync function createTar1() {\r\n    const tmpDir = path.resolve('/tmp/package-1');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-1.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-1',\r\n        version: '0.0.0',\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n\r\nasync function createTar2(tar1Path) {\r\n    const tmpDir = path.resolve('/tmp/package-2');\r\n    const pkgJsonPath = path.join(tmpDir, 'package/package.json');\r\n    const tarOutPath = path.resolve('./package-2.tgz');\r\n    \r\n    await fs.promises.mkdir(path.dirname(pkgJsonPath), {recursive: true});\r\n    await fs.promises.writeFile(pkgJsonPath, JSON.stringify({\r\n        name: 'package-2',\r\n        version: '0.0.0',\r\n        dependencies: {\r\n            'package-1': `file:${tar1Path}`\r\n        }\r\n    }, null, 2));\r\n\r\n    // Creates a tarball like yarn pack would\r\n    await childProcess.spawnSync('tar', ['-cf', tarOutPath, './package'], {\r\n      cwd: tmpDir\r\n    });\r\n    \r\n    return tarOutPath;    \r\n}\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259196129",
                "html_url": "https://github.com/yarnpkg/berry/issues/4909#issuecomment-1259196129",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4909",
                "id": 1259196129,
                "node_id": "IC_kwDOCNXKfM5LDc7h",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-27T08:55:40Z",
                "updated_at": "2022-09-27T08:55:40Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js install\n\n\u27a4 YN0000: \u250c Resolution step\n::group::Resolution step\n\u27a4 YN0001: \u2502 Error: package-1@file:./package-1.tgz::locator=package-2%40file%3A%2Ftmp%2Ftmp-17RboMfTN62WRn%2Fpackage-2.tgz%3A%3Alocator%3Dapplication%2540workspace%253A.: ENOENT: no such file or directory, open 'node_modules/package-2/package-1.tgz'\n    at makeError (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:2:24)\n    at Object.ENOENT (/github/workspace/packages/yarnpkg-fslib/sources/errors.ts:22:10)\n    at ZipFS.readFileBuffer (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1447:20)\n    at ZipFS.readFilePromise (/github/workspace/.yarn/__virtual__/@yarnpkg-libzip-virtual-4957b34c08/1/packages/yarnpkg-libzip/sources/ZipFS.ts:1420:29)\n    at LazyFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at AliasFS.readFilePromise (/github/workspace/packages/yarnpkg-fslib/sources/ProxiedFS.ts:309:24)\n    at TarballFileFetcher.fetchFromDisk (/github/workspace/packages/plugin-file/sources/TarballFileFetcher.ts:62:41)\n    at loadPackageThroughMirror (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:252:23)\n    at loadPackage (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:268:58)\n    at loadPackageThroughMutex (/github/workspace/packages/yarnpkg-core/sources/Cache.ts:350:16)\n::endgroup::\n\u27a4 YN0000: \u2514 Completed in 0s 378ms\n\u27a4 YN0000: Failed with errors in 0s 382ms\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:20:7)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1259196129/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-27T08:55:41Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24239334025",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908",
                "id": 1387063752,
                "node_id": "I_kwDOCNXKfM5SrOnI",
                "number": 4908,
                "title": "[Bug?]: --cwd does not work with relative paths",
                "user": {
                    "login": "Shayan-To",
                    "id": 12458563,
                    "node_id": "MDQ6VXNlcjEyNDU4NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/12458563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Shayan-To",
                    "html_url": "https://github.com/Shayan-To",
                    "followers_url": "https://api.github.com/users/Shayan-To/followers",
                    "following_url": "https://api.github.com/users/Shayan-To/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Shayan-To/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Shayan-To/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Shayan-To/subscriptions",
                    "organizations_url": "https://api.github.com/users/Shayan-To/orgs",
                    "repos_url": "https://api.github.com/users/Shayan-To/repos",
                    "events_url": "https://api.github.com/users/Shayan-To/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Shayan-To/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-27T04:29:58Z",
                "updated_at": "2022-09-27T04:32:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen using `--cwd` with a relative path, yarn seems to resolve the relative path twice (or even more times when `.../subdir/subdir` actually is a directory!). So running `yarn --cwd subdir`, it tries to access `.../subdir/subdir` and then it gives an error that the path does not exist.\n\n### To reproduce\n\n```js repro\r\nconst { mkdir } = require(\"fs/promises\");\r\n\r\nawait mkdir(\"subdir\");\r\nawait expect(yarn(\"--cwd\", \"subdir\", \"init\")).resolves.not.toThrow();\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-3537U CPU @ 2.00GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-ebd4110f/node\r\n    Yarn: 3.2.0 - /tmp/xfs-ebd4110f/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1258956225",
                "html_url": "https://github.com/yarnpkg/berry/issues/4908#issuecomment-1258956225",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4908",
                "id": 1258956225,
                "node_id": "IC_kwDOCNXKfM5LCiXB",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-27T04:32:04Z",
                "updated_at": "2022-09-27T04:32:04Z",
                "author_association": "COLLABORATOR",
                "body": "We couldn't reproduce your issue (all the assertions passed on master).",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1258956225/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-27T04:32:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24218153355",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11134755534,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "8ff27df294a3bf056d26675f12d85aeb553d8402",
            "before": "23873788ed56b0c3d41ab8a2f7b774084c0309df",
            "commits": [
                {
                    "sha": "6ab69dda2872ef39540619f89b52dec67f604222",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.21` |\n| `@yarnpkg/core` | `4.0.0-rc.21` |\n| `@yarnpkg/parsers` | `3.0.0-rc.21` |\n| `@yarnpkg/shell` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.21` |\n| `@yarnpkg/extensions` | `2.0.0-rc.3` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.21` |\n| `@yarnpkg/pnp` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.21` |\n| `@yarnpkg/sdks` | `3.0.0-rc.21` |\n| `@yarnpkg/fslib` | `3.0.0-rc.21` |\n| `@yarnpkg/libui` | `3.0.0-rc.21` |\n| `@yarnpkg/libzip` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.21` |\n| `vscode-zipfs` | `2.6.0-rc.10` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.21` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.21` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.21` |\n| `@yarnpkg/builder` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.21` |\n| `@yarnpkg/nm` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.21` |\n| `@yarnpkg/doctor` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.21` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.21` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.21` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/6ab69dda2872ef39540619f89b52dec67f604222"
                },
                {
                    "sha": "8ff27df294a3bf056d26675f12d85aeb553d8402",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/8ff27df294a3bf056d26675f12d85aeb553d8402"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-26T08:37:39Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24214405510",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4799",
                "id": 1352936412,
                "node_id": "I_kwDOCNXKfM5QpCvc",
                "number": 4799,
                "title": "[Bug?]: yarn version applied wrong prelease version",
                "user": {
                    "login": "Brooooooklyn",
                    "id": 3468483,
                    "node_id": "MDQ6VXNlcjM0Njg0ODM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/3468483?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Brooooooklyn",
                    "html_url": "https://github.com/Brooooooklyn",
                    "followers_url": "https://api.github.com/users/Brooooooklyn/followers",
                    "following_url": "https://api.github.com/users/Brooooooklyn/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Brooooooklyn/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Brooooooklyn/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Brooooooklyn/subscriptions",
                    "organizations_url": "https://api.github.com/users/Brooooooklyn/orgs",
                    "repos_url": "https://api.github.com/users/Brooooooklyn/repos",
                    "events_url": "https://api.github.com/users/Brooooooklyn/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Brooooooklyn/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-08-27T04:17:37Z",
                "updated_at": "2022-09-26T04:44:08Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nCurrent version: `0.0.1-alpha.0`\r\n\r\nRun command: `yarn version 0.0.1-alpha.1 -d && yarn version apply --all`\r\n\r\nThe version became `0.0.1-0`\r\n\r\nIt should be `0.0.1-alpha.1`\r\n\r\n### Environment\r\n\r\n```shell\r\nos: macos 12\r\nnode: 16.17.0\r\nyarn: 3.2.3\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257474757",
                "html_url": "https://github.com/yarnpkg/berry/issues/4799#issuecomment-1257474757",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4799",
                "id": 1257474757,
                "node_id": "IC_kwDOCNXKfM5K84rF",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-26T04:44:08Z",
                "updated_at": "2022-09-26T04:44:08Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257474757/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-26T04:44:08Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24206547670",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4797",
                "id": 1352023722,
                "node_id": "I_kwDOCNXKfM5Qlj6q",
                "number": 4797,
                "title": "[Bug?]: Error: Release not found",
                "user": {
                    "login": "jweboy",
                    "id": 16516645,
                    "node_id": "MDQ6VXNlcjE2NTE2NjQ1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16516645?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jweboy",
                    "html_url": "https://github.com/jweboy",
                    "followers_url": "https://api.github.com/users/jweboy/followers",
                    "following_url": "https://api.github.com/users/jweboy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jweboy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jweboy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jweboy/subscriptions",
                    "organizations_url": "https://api.github.com/users/jweboy/orgs",
                    "repos_url": "https://api.github.com/users/jweboy/repos",
                    "events_url": "https://api.github.com/users/jweboy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jweboy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-26T09:42:32Z",
                "updated_at": "2022-09-25T10:04:42Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nyarn set version /berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\nyarn set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\nActual: error An unexpected error occurred: \"Release not found ...\".\r\n\r\n```bash\r\nArguments:\r\n  /Users/jianglei/.volta/tools/image/node/16.15.0/bin/node /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin/yarn.js set version https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n\r\nPATH:\r\n  /Users/jianglei/.volta/tools/image/yarn/1.22.18/bin:/Users/jianglei/.volta/tools/image/node/16.15.0/bin:/Users/jianglei/.volta/bin:/Users/jianglei/bin:/Users/jianglei/.deno/bin:/Users/jianglei/.nvs/default/bin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/jianglei/.cargo/bin:/Users/jianglei/Development/flutter/bin:/Users/jianglei/.pub-cache/bin:/Users/jianglei/Development/golang/bin:/usr/local/opt/go/libexec/bin:/Users/jianglei/Development/Docker:/Users/jianglei/Development/emsdk:/Users/jianglei/Development/ngrok\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\r\n\r\nTrace:\r\n  Error: Release not found: https://third-party-library.oss-cn-hangzhou.aliyuncs.com/js/berry.js\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:86351:17\r\n      at Generator.next (<anonymous>)\r\n      at step (/Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:310:30)\r\n      at /Users/jianglei/.volta/tools/image/yarn/1.22.18/lib/cli.js:321:13\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```\n\n### To reproduce\n\n-\n\n### Environment\n\n```shell\nmacOS\r\n\r\nYarn version:\r\n  1.22.18\r\n\r\nNode version:\r\n  16.15.0\r\n\r\nPlatform:\r\n  darwin x64\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257159922",
                "html_url": "https://github.com/yarnpkg/berry/issues/4797#issuecomment-1257159922",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4797",
                "id": 1257159922,
                "node_id": "IC_kwDOCNXKfM5K7rzy",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-25T10:04:41Z",
                "updated_at": "2022-09-25T10:04:41Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257159922/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-25T10:04:42Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24202745554",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4795",
                "id": 1351340797,
                "node_id": "I_kwDOCNXKfM5Qi9L9",
                "number": 4795,
                "title": "[Bug?]: Spaces in Windows username causes yarn create to fail",
                "user": {
                    "login": "Miladiir",
                    "id": 1358063,
                    "node_id": "MDQ6VXNlcjEzNTgwNjM=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/1358063?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Miladiir",
                    "html_url": "https://github.com/Miladiir",
                    "followers_url": "https://api.github.com/users/Miladiir/followers",
                    "following_url": "https://api.github.com/users/Miladiir/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Miladiir/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Miladiir/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Miladiir/subscriptions",
                    "organizations_url": "https://api.github.com/users/Miladiir/orgs",
                    "repos_url": "https://api.github.com/users/Miladiir/repos",
                    "events_url": "https://api.github.com/users/Miladiir/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Miladiir/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-25T19:11:40Z",
                "updated_at": "2022-09-24T20:04:54Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n### To reproduce\r\n\r\nsee https://github.com/yarnpkg/yarn/issues/6630\r\n\r\n1. Install Windows, e.g. 10 or 11\r\n2. Create a user with a space in the name\r\n3. Try to use yarn for anything, e.g. `yarn create vite`\r\n4. Boom\r\n\r\n### Environment\r\n\r\n`yarn dlx -q envinfo --preset jest` fails for me aswell.\r\nIt's a windows machine. My username contains a space, which is perfectly fine for npm, npx etc.\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257056214",
                "html_url": "https://github.com/yarnpkg/berry/issues/4795#issuecomment-1257056214",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4795",
                "id": 1257056214,
                "node_id": "IC_kwDOCNXKfM5K7SfW",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-24T20:04:54Z",
                "updated_at": "2022-09-24T20:04:54Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1257056214/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-24T20:04:54Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24100869334",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4750",
                "id": 1339559287,
                "node_id": "I_kwDOCNXKfM5P2A13",
                "number": 4750,
                "title": "[Bug?]: install cache didn't save on cacheFolder",
                "user": {
                    "login": "bluelovers",
                    "id": 167966,
                    "node_id": "MDQ6VXNlcjE2Nzk2Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/167966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bluelovers",
                    "html_url": "https://github.com/bluelovers",
                    "followers_url": "https://api.github.com/users/bluelovers/followers",
                    "following_url": "https://api.github.com/users/bluelovers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bluelovers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bluelovers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bluelovers/subscriptions",
                    "organizations_url": "https://api.github.com/users/bluelovers/orgs",
                    "repos_url": "https://api.github.com/users/bluelovers/repos",
                    "events_url": "https://api.github.com/users/bluelovers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bluelovers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-15T21:58:00Z",
                "updated_at": "2022-09-20T00:24:46Z",
                "closed_at": "2022-09-20T00:24:46Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\ninstall cache didn't save on cacheFolder\r\n\r\n### To reproduce\r\n\r\n1. run yarn install\r\n\r\ncached file should save in `T:\\cache\\yarn-cache`\r\nbut it save at `C:\\Users\\User\\AppData\\Local\\Yarn\\Berry\\cache`\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nyarn-3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n~/.yarnrc.yml\r\n```\r\nnpmRegistryServer: \"https://registry.npmjs.org/\"\r\ncacheFolder: \"T:\\\\cache\\\\yarn-cache\"\r\nenableColors: true\r\nnodeLinker: node-modules\r\n\r\nplugins:\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-workspace-tools\"\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-interactive-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-interactive-tools\"\r\n\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184725032-c55ff5d5-1f98-4c2c-a895-16513a55f8d1.png)\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184726697-34a11ffd-8305-4e92-9f75-2b4793846f4a.png)\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/timeline",
                "performed_via_github_app": null,
                "state_reason": "not_planned"
            }
        },
        "public": true,
        "created_at": "2022-09-20T00:24:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24085675193",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11065566068,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "9d24ec2deb8f01b233f2d3f10e5dcbd185a77212",
            "before": "5d71ebccf1eae6e573083eddb8a17cc0971708dd",
            "commits": [
                {
                    "sha": "04808022cc15208a89e9f6cf5c7cbf489385f802",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.20` |\n| `@yarnpkg/core` | `4.0.0-rc.20` |\n| `@yarnpkg/parsers` | `3.0.0-rc.20` |\n| `@yarnpkg/shell` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.20` |\n| `@yarnpkg/extensions` | `2.0.0-rc.2` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.20` |\n| `@yarnpkg/pnp` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.20` |\n| `@yarnpkg/sdks` | `3.0.0-rc.20` |\n| `@yarnpkg/fslib` | `3.0.0-rc.20` |\n| `@yarnpkg/libui` | `3.0.0-rc.20` |\n| `@yarnpkg/libzip` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.20` |\n| `vscode-zipfs` | `2.6.0-rc.9` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.20` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.20` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.20` |\n| `@yarnpkg/builder` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.20` |\n| `@yarnpkg/nm` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.20` |\n| `@yarnpkg/doctor` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.20` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.20` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.20` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/04808022cc15208a89e9f6cf5c7cbf489385f802"
                },
                {
                    "sha": "9d24ec2deb8f01b233f2d3f10e5dcbd185a77212",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/9d24ec2deb8f01b233f2d3f10e5dcbd185a77212"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-19T10:41:56Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24085054856",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 11065251652,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "1939f90630df68efab973b295d5547466218c101",
            "before": "bd18da32110bdb4a059188213c3ec8be37d8e6ea",
            "commits": [
                {
                    "sha": "d26b74a1b92d30caef946f89f7af818066c2774d",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.19` |\n| `@yarnpkg/core` | `4.0.0-rc.19` |\n| `@yarnpkg/parsers` | `3.0.0-rc.19` |\n| `@yarnpkg/shell` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.19` |\n| `@yarnpkg/extensions` | `2.0.0-rc.1` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.19` |\n| `@yarnpkg/pnp` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.19` |\n| `@yarnpkg/sdks` | `3.0.0-rc.19` |\n| `@yarnpkg/fslib` | `3.0.0-rc.19` |\n| `@yarnpkg/libui` | `3.0.0-rc.19` |\n| `@yarnpkg/libzip` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.19` |\n| `vscode-zipfs` | `2.6.0-rc.8` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.19` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.19` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.19` |\n| `@yarnpkg/builder` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.19` |\n| `@yarnpkg/nm` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.19` |\n| `@yarnpkg/doctor` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.19` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.19` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.19` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/d26b74a1b92d30caef946f89f7af818066c2774d"
                },
                {
                    "sha": "1939f90630df68efab973b295d5547466218c101",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/1939f90630df68efab973b295d5547466218c101"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-19T10:09:20Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24061226185",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4855",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4855",
                "id": 1376571194,
                "node_id": "I_kwDOCNXKfM5SDM86",
                "number": 4855,
                "title": "[Bug?]: Shrelock Playground gets stuck at \"running the repro\" state with errors in Console",
                "user": {
                    "login": "trivikr",
                    "id": 16024985,
                    "node_id": "MDQ6VXNlcjE2MDI0OTg1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16024985?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/trivikr",
                    "html_url": "https://github.com/trivikr",
                    "followers_url": "https://api.github.com/users/trivikr/followers",
                    "following_url": "https://api.github.com/users/trivikr/following{/other_user}",
                    "gists_url": "https://api.github.com/users/trivikr/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/trivikr/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/trivikr/subscriptions",
                    "organizations_url": "https://api.github.com/users/trivikr/orgs",
                    "repos_url": "https://api.github.com/users/trivikr/repos",
                    "events_url": "https://api.github.com/users/trivikr/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/trivikr/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-16T22:56:34Z",
                "updated_at": "2022-09-16T23:07:34Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nShrelock Playground gets stuck at \"running the repro\" state with errors in Console\r\n\r\n### To reproduce\r\n\r\nVisit Sherlock Playground at [viko0.sse.codesandbox.io](https://viko0.sse.codesandbox.io/)\r\n\r\nAdd an example code for repro, and press run:\r\n```js repro\r\nconst tscVersion = \"4.8.2\";\r\n\r\nawait packageJsonAndInstall({\r\n  name: \"test-tsc-version\",\r\n  devDependencies: {\r\n    [\"typescript\"]: tscVersion\r\n  }\r\n});\r\n\r\nconst tscVersionOutput = await expect(yarn(`tsc`, `--version`));\r\nexpect(tscVersionOutput).toEqual(expect.stringContaining(tscVersion));\r\n```\r\n\r\nNotice that CORS error is thrown in Console:\r\n```console\r\nAccess to fetch at 'https://viko0.sse.codesandbox.io/api/sherlock?code=const%20tscVersion%20%3D%20%224.8.2%22%3B%0A%0Aawait%20packageJsonAndInstall(%7B%0A%20%20name%3A%20%22test-tsc-version%22%2C%0A%20%20devDependencies%3A%20%7B%0A%20%20%20%20%5B%22typescript%22%5D%3A%20tscVersion%0A%20%20%7D%0A%7D)%3B%0A%0Aconst%20tscVersionOutput%20%3D%20await%20expect(yarn(%60tsc%60%2C%20%60--version%60))%3B%0Aexpect(tscVersionOutput).stringContaining(tscVersion)%3B' from origin 'https://yarnpkg.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n  OS: macOS 12.1\r\n  CPU: (8) arm64 Apple M1 Pro\r\nBrowsers:\r\n  Brave Browser: 105.1.43.89\r\n  Safari: 15.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n<img width=\"1367\" alt=\"sherlock-playground-running-the-repro\" src=\"https://user-images.githubusercontent.com/16024985/190827918-dcf79e8a-200f-49f1-b921-a21efbb5ca5e.png\">\r\n\r\n</details>",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1249926563",
                "html_url": "https://github.com/yarnpkg/berry/issues/4855#issuecomment-1249926563",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4855",
                "id": 1249926563,
                "node_id": "IC_kwDOCNXKfM5KgF2j",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-16T23:07:34Z",
                "updated_at": "2022-09-16T23:07:34Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).toEqual(expected) // deep equality\n\nExpected: StringContaining \"4.8.2\"\nReceived: {\"lastCalledWith\": [Function throwingMatcher], \"lastReturnedWith\": [Function throwingMatcher], \"not\": {\"lastCalledWith\": [Function throwingMatcher], \"lastReturnedWith\": [Function throwingMatcher], \"nthCalledWith\": [Function throwingMatcher], \"nthReturnedWith\": [Function throwingMatcher], \"toBe\": [Function throwingMatcher], \"toBeCalled\": [Function throwingMatcher], \"toBeCalledTimes\": [Function throwingMatcher], \"toBeCalledWith\": [Function throwingMatcher], \"toBeCloseTo\": [Function throwingMatcher], \"toBeDefined\": [Function throwingMatcher], \"toBeFalsy\": [Function throwingMatcher], \"toBeGreaterThan\": [Function throwingMatcher], \"toBeGreaterThanOrEqual\": [Function throwingMatcher], \"toBeInstanceOf\": [Function throwingMatcher], \"toBeLessThan\": [Function throwingMatcher], \"toBeLessThanOrEqual\": [Function throwingMatcher], \"toBeNaN\": [Function throwingMatcher], \"toBeNull\": [Function throwingMatcher], \"toBeTruthy\": [Function throwingMatcher], \"toBeUndefined\": [Function throwingMatcher], \"toContain\": [Function throwingMatcher], \"toContainEqual\": [Function throwingMatcher], \"toEqual\": [Function throwingMatcher], \"toHaveBeenCalled\": [Function throwingMatcher], \"toHaveBeenCalledTimes\": [Function throwingMatcher], \"toHaveBeenCalledWith\": [Function throwingMatcher], \"toHaveBeenLastCalledWith\": [Function throwingMatcher], \"toHaveBeenNthCalledWith\": [Function throwingMatcher], \"toHaveLastReturnedWith\": [Function throwingMatcher], \"toHaveLength\": [Function throwingMatcher], \"toHaveNthReturnedWith\": [Function throwingMatcher], \"toHaveProperty\": [Function throwingMatcher], \"toHaveReturned\": [Function throwingMatcher], \"toHaveReturnedTimes\": [Function throwingMatcher], \"toHaveReturnedWith\": [Function throwingMatcher], \"toMatch\": [Function throwingMatcher], \"toMatchObject\": [Function throwingMatcher], \"toReturn\": [Function throwingMatcher], \"toReturnTimes\": [Function throwingMatcher], \"toReturnWith\": [Function throwingMatcher], \"toStrictEqual\": [Function throwingMatcher], \"toThrow\": [Function throwingMatcher], \"toThrowError\": [Function throwingMatcher]}, \"nthCalledWith\": [Function throwingMatcher], \"nthReturnedWith\": [Function throwingMatcher], \"rejects\": {\"lastCalledWith\": [Function anonymous], \"lastReturnedWith\": [Function anonymous], \"not\": [Object], \"nthCalledWith\": [Function anonymous], \"nthReturnedWith\": [Function anonymous], \"toBe\": [Function anonymous], \"toBeCalled\": [Function anonymous], \"toBeCalledTimes\": [Function anonymous], \"toBeCalledWith\": [Function anonymous], \"toBeCloseTo\": [Function anonymous], \"toBeDefined\": [Function anonymous], \"toBeFalsy\": [Function anonymous], \"toBeGreaterThan\": [Function anonymous], \"toBeGreaterThanOrEqual\": [Function anonymous], \"toBeInstanceOf\": [Function anonymous], \"toBeLessThan\": [Function anonymous], \"toBeLessThanOrEqual\": [Function anonymous], \"toBeNaN\": [Function anonymous], \"toBeNull\": [Function anonymous], \"toBeTruthy\": [Function anonymous], \"toBeUndefined\": [Function anonymous], \"toContain\": [Function anonymous], \"toContainEqual\": [Function anonymous], \"toEqual\": [Function anonymous], \"toHaveBeenCalled\": [Function anonymous], \"toHaveBeenCalledTimes\": [Function anonymous], \"toHaveBeenCalledWith\": [Function anonymous], \"toHaveBeenLastCalledWith\": [Function anonymous], \"toHaveBeenNthCalledWith\": [Function anonymous], \"toHaveLastReturnedWith\": [Function anonymous], \"toHaveLength\": [Function anonymous], \"toHaveNthReturnedWith\": [Function anonymous], \"toHaveProperty\": [Function anonymous], \"toHaveReturned\": [Function anonymous], \"toHaveReturnedTimes\": [Function anonymous], \"toHaveReturnedWith\": [Function anonymous], \"toMatch\": [Function anonymous], \"toMatchObject\": [Function anonymous], \"toReturn\": [Function anonymous], \"toReturnTimes\": [Function anonymous], \"toReturnWith\": [Function anonymous], \"toStrictEqual\": [Function anonymous], \"toThrow\": [Function anonymous], \"toThrowError\": [Function anonymous]}, \"resolves\": {\"lastCalledWith\": [Function anonymous], \"lastReturnedWith\": [Function anonymous], \"not\": [Object], \"nthCalledWith\": [Function anonymous], \"nthReturnedWith\": [Function anonymous], \"toBe\": [Function anonymous], \"toBeCalled\": [Function anonymous], \"toBeCalledTimes\": [Function anonymous], \"toBeCalledWith\": [Function anonymous], \"toBeCloseTo\": [Function anonymous], \"toBeDefined\": [Function anonymous], \"toBeFalsy\": [Function anonymous], \"toBeGreaterThan\": [Function anonymous], \"toBeGreaterThanOrEqual\": [Function anonymous], \"toBeInstanceOf\": [Function anonymous], \"toBeLessThan\": [Function anonymous], \"toBeLessThanOrEqual\": [Function anonymous], \"toBeNaN\": [Function anonymous], \"toBeNull\": [Function anonymous], \"toBeTruthy\": [Function anonymous], \"toBeUndefined\": [Function anonymous], \"toContain\": [Function anonymous], \"toContainEqual\": [Function anonymous], \"toEqual\": [Function anonymous], \"toHaveBeenCalled\": [Function anonymous], \"toHaveBeenCalledTimes\": [Function anonymous], \"toHaveBeenCalledWith\": [Function anonymous], \"toHaveBeenLastCalledWith\": [Function anonymous], \"toHaveBeenNthCalledWith\": [Function anonymous], \"toHaveLastReturnedWith\": [Function anonymous], \"toHaveLength\": [Function anonymous], \"toHaveNthReturnedWith\": [Function anonymous], \"toHaveProperty\": [Function anonymous], \"toHaveReturned\": [Function anonymous], \"toHaveReturnedTimes\": [Function anonymous], \"toHaveReturnedWith\": [Function anonymous], \"toMatch\": [Function anonymous], \"toMatchObject\": [Function anonymous], \"toReturn\": [Function anonymous], \"toReturnTimes\": [Function anonymous], \"toReturnWith\": [Function anonymous], \"toStrictEqual\": [Function anonymous], \"toThrow\": [Function anonymous], \"toThrowError\": [Function anonymous]}, \"toBe\": [Function throwingMatcher], \"toBeCalled\": [Function throwingMatcher], \"toBeCalledTimes\": [Function throwingMatcher], \"toBeCalledWith\": [Function throwingMatcher], \"toBeCloseTo\": [Function throwingMatcher], \"toBeDefined\": [Function throwingMatcher], \"toBeFalsy\": [Function throwingMatcher], \"toBeGreaterThan\": [Function throwingMatcher], \"toBeGreaterThanOrEqual\": [Function throwingMatcher], \"toBeInstanceOf\": [Function throwingMatcher], \"toBeLessThan\": [Function throwingMatcher], \"toBeLessThanOrEqual\": [Function throwingMatcher], \"toBeNaN\": [Function throwingMatcher], \"toBeNull\": [Function throwingMatcher], \"toBeTruthy\": [Function throwingMatcher], \"toBeUndefined\": [Function throwingMatcher], \"toContain\": [Function throwingMatcher], \"toContainEqual\": [Function throwingMatcher], \"toEqual\": [Function throwingMatcher], \"toHaveBeenCalled\": [Function throwingMatcher], \"toHaveBeenCalledTimes\": [Function throwingMatcher], \"toHaveBeenCalledWith\": [Function throwingMatcher], \"toHaveBeenLastCalledWith\": [Function throwingMatcher], \"toHaveBeenNthCalledWith\": [Function throwingMatcher], \"toHaveLastReturnedWith\": [Function throwingMatcher], \"toHaveLength\": [Function throwingMatcher], \"toHaveNthReturnedWith\": [Function throwingMatcher], \"toHaveProperty\": [Function throwingMatcher], \"toHaveReturned\": [Function throwingMatcher], \"toHaveReturnedTimes\": [Function throwingMatcher], \"toHaveReturnedWith\": [Function throwingMatcher], \"toMatch\": [Function throwingMatcher], \"toMatchObject\": [Function throwingMatcher], \"toReturn\": [Function throwingMatcher], \"toReturnTimes\": [Function throwingMatcher], \"toReturnWith\": [Function throwingMatcher], \"toStrictEqual\": [Function throwingMatcher], \"toThrow\": [Function throwingMatcher], \"toThrowError\": [Function throwingMatcher]}\n    at module.exports (evalmachine.<anonymous>:12:26)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1249926563/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-16T23:07:35Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24031705230",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760",
                "id": 1340346503,
                "node_id": "I_kwDOCNXKfM5P5BCH",
                "number": 4760,
                "title": "[Bug?]: Shrelock Playground gets stuck at \"checking the repo\" state with errors in Console",
                "user": {
                    "login": "trivikr",
                    "id": 16024985,
                    "node_id": "MDQ6VXNlcjE2MDI0OTg1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16024985?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/trivikr",
                    "html_url": "https://github.com/trivikr",
                    "followers_url": "https://api.github.com/users/trivikr/followers",
                    "following_url": "https://api.github.com/users/trivikr/following{/other_user}",
                    "gists_url": "https://api.github.com/users/trivikr/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/trivikr/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/trivikr/subscriptions",
                    "organizations_url": "https://api.github.com/users/trivikr/orgs",
                    "repos_url": "https://api.github.com/users/trivikr/repos",
                    "events_url": "https://api.github.com/users/trivikr/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/trivikr/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    },
                    {
                        "id": 2124593803,
                        "node_id": "MDU6TGFiZWwyMTI0NTkzODAz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/upholded",
                        "name": "upholded",
                        "color": "35d668",
                        "default": false,
                        "description": "Real issues without formal reproduction"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-08-16T13:19:17Z",
                "updated_at": "2022-09-15T15:30:14Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nShrelock Playground gets stuck at \"checking the repo\" state with errors in Console\r\n\r\n### To reproduce\r\n\r\nVisit Sherlock Playground at https://viko0.sse.codesandbox.io/\r\nNotice that several fetch and 404 errors are thrown when page loads.\r\n\r\nAdd an example code for repro, and press run:\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  \"name\": \"test-yarn-version\",\r\n  \"packageManager\": \"yarn@1.12.19\"\r\n});\r\n\r\nawait expect(yarn(`--version`)).resolves.toBe(\"1.12.19\");\r\n```\r\n\r\nNotice that CORS error is thrown in Console:\r\n```console\r\nAccess to fetch at 'https://viko0.sse.codesandbox.io/api/check-repo' from origin 'https://yarnpkg.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\r\n```\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n<img width=\"1512\" alt=\"Sherlock-playground-CORS-error\" src=\"https://user-images.githubusercontent.com/16024985/184889566-7fac7b88-9482-4bd0-8f9a-4ad79eaeb60a.png\">\r\n\r\n\r\n</details>\r\n\r\n### Environment\r\n\r\n```shell\r\n  System:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n  Browsers:\r\n    Brave Browser: 104.1.42.88\r\n    Safari: 15.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/reactions",
                    "total_count": 2,
                    "+1": 2,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248265956",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760#issuecomment-1248265956",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "id": 1248265956,
                "node_id": "IC_kwDOCNXKfM5KZwbk",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-15T15:30:14Z",
                "updated_at": "2022-09-15T15:30:14Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBe(expected) // Object.is equality\n\nExpected: \"1.12.19\"\nReceived: \"4.0.0-rc.18.dev\n\"\n    at Object.toBe (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:202:20)\n    at module.exports (evalmachine.<anonymous>:7:42)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:13\n    at async executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:16)\n    at async executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:12)\n    at async ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:38)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248265956/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-15T15:30:15Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24029702330",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760",
                "id": 1340346503,
                "node_id": "I_kwDOCNXKfM5P5BCH",
                "number": 4760,
                "title": "[Bug?]: Shrelock Playground gets stuck at \"checking the repo\" state with errors in Console",
                "user": {
                    "login": "trivikr",
                    "id": 16024985,
                    "node_id": "MDQ6VXNlcjE2MDI0OTg1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/16024985?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/trivikr",
                    "html_url": "https://github.com/trivikr",
                    "followers_url": "https://api.github.com/users/trivikr/followers",
                    "following_url": "https://api.github.com/users/trivikr/following{/other_user}",
                    "gists_url": "https://api.github.com/users/trivikr/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/trivikr/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/trivikr/subscriptions",
                    "organizations_url": "https://api.github.com/users/trivikr/orgs",
                    "repos_url": "https://api.github.com/users/trivikr/repos",
                    "events_url": "https://api.github.com/users/trivikr/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/trivikr/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-08-16T13:19:17Z",
                "updated_at": "2022-09-15T14:12:08Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nShrelock Playground gets stuck at \"checking the repo\" state with errors in Console\r\n\r\n### To reproduce\r\n\r\nVisit Sherlock Playground at https://viko0.sse.codesandbox.io/\r\nNotice that several fetch and 404 errors are thrown when page loads.\r\n\r\nAdd an example code for repro, and press run:\r\n\r\n```js repro\r\nawait packageJsonAndInstall({\r\n  \"name\": \"test-yarn-version\",\r\n  \"packageManager\": \"yarn@1.12.19\"\r\n});\r\n\r\nawait expect(yarn(`--version`)).resolves.toBe(\"1.12.19\");\r\n```\r\n\r\nNotice that CORS error is thrown in Console:\r\n```console\r\nAccess to fetch at 'https://viko0.sse.codesandbox.io/api/check-repo' from origin 'https://yarnpkg.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\r\n```\r\n\r\n<details>\r\n<summary>Screenshot</summary>\r\n\r\n<img width=\"1512\" alt=\"Sherlock-playground-CORS-error\" src=\"https://user-images.githubusercontent.com/16024985/184889566-7fac7b88-9482-4bd0-8f9a-4ad79eaeb60a.png\">\r\n\r\n\r\n</details>\r\n\r\n### Environment\r\n\r\n```shell\r\n  System:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n  Browsers:\r\n    Brave Browser: 104.1.42.88\r\n    Safari: 15.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/reactions",
                    "total_count": 2,
                    "+1": 2,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248159176",
                "html_url": "https://github.com/yarnpkg/berry/issues/4760#issuecomment-1248159176",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4760",
                "id": 1248159176,
                "node_id": "IC_kwDOCNXKfM5KZWXI",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-15T14:12:08Z",
                "updated_at": "2022-09-15T14:12:08Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1248159176/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-15T14:12:08Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24014967758",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4750",
                "id": 1339559287,
                "node_id": "I_kwDOCNXKfM5P2A13",
                "number": 4750,
                "title": "[Bug?]: install cache didn't save on cacheFolder",
                "user": {
                    "login": "bluelovers",
                    "id": 167966,
                    "node_id": "MDQ6VXNlcjE2Nzk2Ng==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/167966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/bluelovers",
                    "html_url": "https://github.com/bluelovers",
                    "followers_url": "https://api.github.com/users/bluelovers/followers",
                    "following_url": "https://api.github.com/users/bluelovers/following{/other_user}",
                    "gists_url": "https://api.github.com/users/bluelovers/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/bluelovers/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/bluelovers/subscriptions",
                    "organizations_url": "https://api.github.com/users/bluelovers/orgs",
                    "repos_url": "https://api.github.com/users/bluelovers/repos",
                    "events_url": "https://api.github.com/users/bluelovers/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/bluelovers/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-15T21:58:00Z",
                "updated_at": "2022-09-14T23:04:48Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\ninstall cache didn't save on cacheFolder\r\n\r\n### To reproduce\r\n\r\n1. run yarn install\r\n\r\ncached file should save in `T:\\cache\\yarn-cache`\r\nbut it save at `C:\\Users\\User\\AppData\\Local\\Yarn\\Berry\\cache`\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nyarn-3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n~/.yarnrc.yml\r\n```\r\nnpmRegistryServer: \"https://registry.npmjs.org/\"\r\ncacheFolder: \"T:\\\\cache\\\\yarn-cache\"\r\nenableColors: true\r\nnodeLinker: node-modules\r\n\r\nplugins:\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-workspace-tools\"\r\n  - path: \"C:/Users/User/.yarn/plugins/@yarnpkg/plugin-interactive-tools.cjs\"\r\n    spec: \"@yarnpkg/plugin-interactive-tools\"\r\n\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184725032-c55ff5d5-1f98-4c2c-a895-16513a55f8d1.png)\r\n\r\n![image](https://user-images.githubusercontent.com/167966/184726697-34a11ffd-8305-4e92-9f75-2b4793846f4a.png)\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1247386820",
                "html_url": "https://github.com/yarnpkg/berry/issues/4750#issuecomment-1247386820",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4750",
                "id": 1247386820,
                "node_id": "IC_kwDOCNXKfM5KWZzE",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-14T23:04:48Z",
                "updated_at": "2022-09-14T23:04:48Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1247386820/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-14T23:04:48Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24004977147",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4730",
                "id": 1334626317,
                "node_id": "I_kwDOCNXKfM5PjMgN",
                "number": 4730,
                "title": "[Bug?]: Alias packages cannot be fetched from registry",
                "user": {
                    "login": "Tom-O-Chan",
                    "id": 44817925,
                    "node_id": "MDQ6VXNlcjQ0ODE3OTI1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44817925?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Tom-O-Chan",
                    "html_url": "https://github.com/Tom-O-Chan",
                    "followers_url": "https://api.github.com/users/Tom-O-Chan/followers",
                    "following_url": "https://api.github.com/users/Tom-O-Chan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Tom-O-Chan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Tom-O-Chan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Tom-O-Chan/subscriptions",
                    "organizations_url": "https://api.github.com/users/Tom-O-Chan/orgs",
                    "repos_url": "https://api.github.com/users/Tom-O-Chan/repos",
                    "events_url": "https://api.github.com/users/Tom-O-Chan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Tom-O-Chan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-10T13:25:57Z",
                "updated_at": "2022-09-14T14:12:39Z",
                "closed_at": "2022-09-14T14:12:39Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to add a package using an alias, the following error occurs:\r\n```\r\n% yarn add custom@react    \r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0016: \u2502 custom@npm:react: Registry failed to return tag \"react\"\r\n\u27a4 YN0000: \u2514 Completed in 0s 283ms\r\n\u27a4 YN0000: Failed with errors in 0s 284ms\r\n```\r\n\r\nAccording to the [Protocols page](https://yarnpkg.com/features/protocols#table), this should be allowed\r\n\r\n### To reproduce\r\n\r\nRun `yarn add custom@react`\r\n\r\n```repro\r\nyarn add custom@react;\r\n```\r\n\r\n(Tried using the sandbox, but kept getting 502: Bad Gateway)\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\nBinaries:\r\n    Node: 14.18.3 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/node\r\n    Yarn: 3.2.1 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v14.18.3/bin/npm\r\nnpmPackages:\r\n    jest: ^28.1.2 => 28.1.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-09-14T14:12:40Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "24003568155",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4749",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4749",
                "id": 1338979203,
                "node_id": "I_kwDOCNXKfM5PzzOD",
                "number": 4749,
                "title": "[Bug?]: prefersUnplugged should take precedence over pkg.conditions",
                "user": {
                    "login": "jonaskuske",
                    "id": 30421456,
                    "node_id": "MDQ6VXNlcjMwNDIxNDU2",
                    "avatar_url": "https://avatars.githubusercontent.com/u/30421456?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jonaskuske",
                    "html_url": "https://github.com/jonaskuske",
                    "followers_url": "https://api.github.com/users/jonaskuske/followers",
                    "following_url": "https://api.github.com/users/jonaskuske/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jonaskuske/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jonaskuske/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jonaskuske/subscriptions",
                    "organizations_url": "https://api.github.com/users/jonaskuske/orgs",
                    "repos_url": "https://api.github.com/users/jonaskuske/repos",
                    "events_url": "https://api.github.com/users/jonaskuske/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jonaskuske/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-08-15T13:06:00Z",
                "updated_at": "2022-09-14T13:19:30Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nIn this comment, esbuild was recommended to add `prefersUnplugged: false` to its optional platform-specific deps so they don't get extracted: https://github.com/yarnpkg/berry/issues/3317#issuecomment-925410441. And indeed, all esbuild variants include the `preferUnplugged` key: https://unpkg.com/browse/esbuild-linux-arm@0.15.3/package.json\r\n\r\nUnfortunately the `prefersUnplugged` key is ignored and all of the optional deps are extracted anyway, because the `pkg.conditions !== null` check takes precedence over `preferUnplugged`: https://github.com/yarnpkg/berry/blob/cf67f3a15052cf809cefcc0df58937874ad3c34d/packages/plugin-pnp/sources/PnpLinker.ts#L434-L438\r\n\r\nThese checks should be in reverse order. By reversing the two checks, everything works: `esbuild` is unplugged but its optional dependencies are not. When running esbuild, it copies the correct platform-specific binary into its writable, unplugged dir and executes it.\r\n\r\nAnd if you change the location where esbuild stores the platform-specific binary (as I proposed in this PR: https://github.com/evanw/esbuild/pull/2457), it even works with `enableScripts: false` and nothing unplugged.\n\n### To reproduce\n\n```bash\r\nmkdir repro && cd $_\r\nyarn init -2 -y\r\nyarn add esbuild\r\n# should be empty but prints opt dep:\r\nls .yarn/unplugged | grep -P 'esbuild-(?!(npm))'\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Ubuntu 20.04.4 LTS (Focal Fossa)\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-8650U CPU @ 1.90GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /tmp/xfs-96532741/node\r\n    Yarn: 3.2.2 - /tmp/xfs-96532741/yarn\r\n    npm: 8.5.0 - /mnt/wslg/runtime-dir/fnm_multishells/15691_1660563665547/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1246755063",
                "html_url": "https://github.com/yarnpkg/berry/issues/4749#issuecomment-1246755063",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4749",
                "id": 1246755063,
                "node_id": "IC_kwDOCNXKfM5KT_j3",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-14T13:19:30Z",
                "updated_at": "2022-09-14T13:19:30Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1246755063/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-14T13:19:30Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23960985473",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4719",
                "id": 1332154666,
                "node_id": "I_kwDOCNXKfM5PZxEq",
                "number": 4719,
                "title": "[Bug?]:  Yarn PnP and NextJS does not work with next-transpile-modules",
                "user": {
                    "login": "yaronvhop",
                    "id": 76743257,
                    "node_id": "MDQ6VXNlcjc2NzQzMjU3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/76743257?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yaronvhop",
                    "html_url": "https://github.com/yaronvhop",
                    "followers_url": "https://api.github.com/users/yaronvhop/followers",
                    "following_url": "https://api.github.com/users/yaronvhop/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yaronvhop/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yaronvhop/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yaronvhop/subscriptions",
                    "organizations_url": "https://api.github.com/users/yaronvhop/orgs",
                    "repos_url": "https://api.github.com/users/yaronvhop/repos",
                    "events_url": "https://api.github.com/users/yaronvhop/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yaronvhop/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-08T17:09:38Z",
                "updated_at": "2022-09-12T19:05:28Z",
                "closed_at": "2022-09-12T19:05:28Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ yes ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nHey,\r\nI am having issues with using NextJS with Yarn PNP. \r\nIt seems someone had the exact issue I had: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199\r\n\r\nI put more details in the issue with the comment: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199#issuecomment-1208377418\r\n\r\nIt seems NextJS spawn worker nodes, which causes the transpilation process to compare modules with different virtual paths \r\n\r\n/Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-6b51d9b693/1/packages/test-bb/index.ts /Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-eb81ca8611/1/packages/test-bb\r\n\r\nAnd not get transpiled. \r\n\r\nThanks!\r\n\r\n### To reproduce\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error\r\n\r\nNeed to run this:\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error/blob/master/packages/test-c/package.json#L6\r\n\r\ngoto http://127.0.0.1:3000/\r\n\r\nObserve module failing to transpile\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n OS: Mac 12.4\r\n CPU: M1 ARM x64\r\nNode: 16.16.0\r\nYarn: 3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-09-12T19:05:28Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23917805167",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4730",
                "id": 1334626317,
                "node_id": "I_kwDOCNXKfM5PjMgN",
                "number": 4730,
                "title": "[Bug?]: Alias packages cannot be fetched from registry",
                "user": {
                    "login": "Tom-O-Chan",
                    "id": 44817925,
                    "node_id": "MDQ6VXNlcjQ0ODE3OTI1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/44817925?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Tom-O-Chan",
                    "html_url": "https://github.com/Tom-O-Chan",
                    "followers_url": "https://api.github.com/users/Tom-O-Chan/followers",
                    "following_url": "https://api.github.com/users/Tom-O-Chan/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Tom-O-Chan/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Tom-O-Chan/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Tom-O-Chan/subscriptions",
                    "organizations_url": "https://api.github.com/users/Tom-O-Chan/orgs",
                    "repos_url": "https://api.github.com/users/Tom-O-Chan/repos",
                    "events_url": "https://api.github.com/users/Tom-O-Chan/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Tom-O-Chan/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-10T13:25:57Z",
                "updated_at": "2022-09-09T14:10:18Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen trying to add a package using an alias, the following error occurs:\r\n```\r\n% yarn add custom@react    \r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0016: \u2502 custom@npm:react: Registry failed to return tag \"react\"\r\n\u27a4 YN0000: \u2514 Completed in 0s 283ms\r\n\u27a4 YN0000: Failed with errors in 0s 284ms\r\n```\r\n\r\nAccording to the [Protocols page](https://yarnpkg.com/features/protocols#table), this should be allowed\r\n\r\n### To reproduce\r\n\r\nRun `yarn add custom@react`\r\n\r\n```repro\r\nyarn add custom@react;\r\n```\r\n\r\n(Tried using the sandbox, but kept getting 502: Bad Gateway)\r\n\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\nBinaries:\r\n    Node: 14.18.3 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/node\r\n    Yarn: 3.2.1 - /private/var/folders/0k/ssx0ng791616ypyh8y1z2j7m0000gn/T/xfs-014bbb9f/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v14.18.3/bin/npm\r\nnpmPackages:\r\n    jest: ^28.1.2 => 28.1.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1242024200",
                "html_url": "https://github.com/yarnpkg/berry/issues/4730#issuecomment-1242024200",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4730",
                "id": 1242024200,
                "node_id": "IC_kwDOCNXKfM5KB8kI",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-09T14:10:18Z",
                "updated_at": "2022-09-09T14:10:18Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1242024200/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-09T14:10:19Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23875954922",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4719",
                "id": 1332154666,
                "node_id": "I_kwDOCNXKfM5PZxEq",
                "number": 4719,
                "title": "[Bug?]:  Yarn PnP and NextJS does not work with next-transpile-modules",
                "user": {
                    "login": "yaronvhop",
                    "id": 76743257,
                    "node_id": "MDQ6VXNlcjc2NzQzMjU3",
                    "avatar_url": "https://avatars.githubusercontent.com/u/76743257?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yaronvhop",
                    "html_url": "https://github.com/yaronvhop",
                    "followers_url": "https://api.github.com/users/yaronvhop/followers",
                    "following_url": "https://api.github.com/users/yaronvhop/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yaronvhop/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yaronvhop/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yaronvhop/subscriptions",
                    "organizations_url": "https://api.github.com/users/yaronvhop/orgs",
                    "repos_url": "https://api.github.com/users/yaronvhop/repos",
                    "events_url": "https://api.github.com/users/yaronvhop/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yaronvhop/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-08-08T17:09:38Z",
                "updated_at": "2022-09-07T19:04:44Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ yes ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nHey,\r\nI am having issues with using NextJS with Yarn PNP. \r\nIt seems someone had the exact issue I had: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199\r\n\r\nI put more details in the issue with the comment: \r\n\r\nhttps://github.com/martpie/next-transpile-modules/issues/199#issuecomment-1208377418\r\n\r\nIt seems NextJS spawn worker nodes, which causes the transpilation process to compare modules with different virtual paths \r\n\r\n/Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-6b51d9b693/1/packages/test-bb/index.ts /Users/user/Downloads/next-yarn-test/.yarn/__virtual__/test-bb-virtual-eb81ca8611/1/packages/test-bb\r\n\r\nAnd not get transpiled. \r\n\r\nThanks!\r\n\r\n### To reproduce\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error\r\n\r\nNeed to run this:\r\n\r\nhttps://github.com/smulikHakipod/next-yarn-transpile-error/blob/master/packages/test-c/package.json#L6\r\n\r\ngoto http://127.0.0.1:3000/\r\n\r\nObserve module failing to transpile\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n OS: Mac 12.4\r\n CPU: M1 ARM x64\r\nNode: 16.16.0\r\nYarn: 3.2.2\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1239769477",
                "html_url": "https://github.com/yarnpkg/berry/issues/4719#issuecomment-1239769477",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4719",
                "id": 1239769477,
                "node_id": "IC_kwDOCNXKfM5J5WGF",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-07T19:04:44Z",
                "updated_at": "2022-09-07T19:04:44Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1239769477/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-07T19:04:44Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23853645331",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4825",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4825",
                "id": 1363779757,
                "node_id": "I_kwDOCNXKfM5RSaCt",
                "number": 4825,
                "title": "[Bug?]: Attempting to add package with specific dist tag pattern(s) throws resolver error",
                "user": {
                    "login": "favna",
                    "id": 4019718,
                    "node_id": "MDQ6VXNlcjQwMTk3MTg=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4019718?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/favna",
                    "html_url": "https://github.com/favna",
                    "followers_url": "https://api.github.com/users/favna/followers",
                    "following_url": "https://api.github.com/users/favna/following{/other_user}",
                    "gists_url": "https://api.github.com/users/favna/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/favna/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/favna/subscriptions",
                    "organizations_url": "https://api.github.com/users/favna/orgs",
                    "repos_url": "https://api.github.com/users/favna/repos",
                    "events_url": "https://api.github.com/users/favna/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/favna/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489591623,
                        "node_id": "MDU6TGFiZWwxNDg5NTkxNjIz",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/reproducible",
                        "name": "reproducible",
                        "color": "8bed92",
                        "default": false,
                        "description": "This issue can be successfully reproduced"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-06T20:28:56Z",
                "updated_at": "2022-09-06T20:31:01Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nRecently it has come to my attention that if a package's dist-tag has a specific format, I.e. the regex format of `/v\\d{2}-[a-z]{1,}/` that yarn throws an error:\r\n\r\n```\r\n\u276f yarn add discord.js@v13-lts\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: discord.js@v13-lts isn't supported by any available resolver\r\n    at Bd.getResolverByDescriptor (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:391:1664)\r\n    at Bd.bindDescriptor (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:391:1053)\r\n    at ee (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:6954)\r\n    at async Promise.allSettled (index 0)\r\n    at async ho (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:390:10446)\r\n    at async /Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:8292\r\n    at async Je.startProgressPromise (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:390:48066)\r\n    at async ze.resolveEverything (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:6285)\r\n    at async /Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:442:2132\r\n    at async Je.startSectionPromise (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:409:3303)\r\n\u27a4 YN0000: \u2514 Completed\r\n\u27a4 YN0000: Failed with errors in 0s 17ms\r\n```\r\n\r\nLikewise the format of `/v\\d{2}/` also doesn't work:\r\n```\r\n\u276f yarn add @favware/skip-dependency@v13\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: @favware/skip-dependency@npm:v13: No candidates found\r\n    at ce (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:439:7864)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async Promise.allSettled (index 0)\r\n    at async ho (/Users/favna/workspace/temp/.yarn/releases/yarn-3.2.3.cjs:390:10446)\r\n\u27a4 YN0000: \u2514 Completed in 2s 593ms\r\n\u27a4 YN0000: Failed with errors in 2s 595ms\r\n```\r\n\r\nBoth of these dist-tags install just fine with Yarn v1, NPM and PNPM.\n\n### To reproduce\n\n```js repro\r\nconst installPromise = packageJsonAndInstall({\r\n  dependencies: {\r\n    [`discord.js`]: `v13-lts`,\r\n  },\r\n});\r\n\r\nawait expect(installPromise)\r\n  .resolves.toBeTruthy();\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.5.1\r\n    CPU: (8) arm64 Apple M1\r\n  Binaries:\r\n    Node: 18.8.0 - /private/var/folders/jy/w45_1th97698mzgm_nsfl35w0000gn/T/xfs-de02679f/node\r\n    Yarn: 3.2.3 - /private/var/folders/jy/w45_1th97698mzgm_nsfl35w0000gn/T/xfs-de02679f/yarn\r\n    npm: 8.18.0 - ~/.volta/tools/image/node/18.8.0/bin/npm\n```\n\n\n### Additional context\n\nBesides the Sherlock reproduction the barest minimal way to reproduce the issue is by running:\r\n```sh\r\nyarn set version 3.2.3 && yarn add discord.js@v13-lts\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238619798",
                "html_url": "https://github.com/yarnpkg/berry/issues/4825#issuecomment-1238619798",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4825",
                "id": 1238619798,
                "node_id": "IC_kwDOCNXKfM5J09aW",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-06T20:31:01Z",
                "updated_at": "2022-09-06T20:31:01Z",
                "author_association": "COLLABORATOR",
                "body": "This issue reproduces on master:\n```\nError: expect(received).resolves.toBeTruthy()\n\nReceived promise rejected instead of resolved\nRejected to value: [Error: Command failed: /usr/bin/node /github/workspace/scripts/actions/../run-yarn.js install\n\n\u27a4 YN0000: \u250c Resolution step\n::group::Resolution step\n\u27a4 YN0001: \u2502 Error: discord.js@v13-lts isn't supported by any available resolver\n    at MultiResolver.getResolverByDescriptor (/github/workspace/packages/yarnpkg-core/sources/MultiResolver.ts:73:13)\n    at MultiResolver.bindDescriptor (/github/workspace/packages/yarnpkg-core/sources/MultiResolver.ts:31:27)\n    at Project.preparePackage (/github/workspace/packages/yarnpkg-core/sources/Project.ts:674:30)\n    at startPackageResolution (/github/workspace/packages/yarnpkg-core/sources/Project.ts:760:21)\n::endgroup::\n\u27a4 YN0000: \u2514 Completed\n\u27a4 YN0000: Failed with errors in 0s 96ms\n]\n    at expect (/github/workspace/.yarn/cache/expect-npm-24.8.0-8c7640c562-44ff9ab1e7.zip/node_modules/expect/build/index.js:138:15)\n    at module.exports (evalmachine.<anonymous>:8:7)\n    at /github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:57:19\n    at executeInTempDirectory (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:18:22)\n    at executeRepro (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/executeRepro.js:25:18)\n    at ExecCommand.execute (/github/workspace/.yarn/cache/@arcanis-sherlock-npm-2.0.3-558f52b79f-286d94b96d.zip/node_modules/@arcanis/sherlock/lib/commands/exec.js:26:76)\n    at async ExecCommand.validateAndExecute (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Command.js:161:26)\n    at async Cli.run (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:74:24)\n    at async Cli.runExit (/github/workspace/.yarn/cache/clipanion-npm-2.0.0-rc.16-b9444aaf89-4061026d74.zip/node_modules/clipanion/lib/advanced/Cli.js:83:28)\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238619798/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-06T20:31:01Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23846226231",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824",
                "id": 1363352463,
                "node_id": "I_kwDOCNXKfM5RQxuP",
                "number": 4824,
                "title": "[Bug?]: peerdependency version being ignored?",
                "user": {
                    "login": "lucas-zimerman",
                    "id": 8229322,
                    "node_id": "MDQ6VXNlcjgyMjkzMjI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8229322?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lucas-zimerman",
                    "html_url": "https://github.com/lucas-zimerman",
                    "followers_url": "https://api.github.com/users/lucas-zimerman/followers",
                    "following_url": "https://api.github.com/users/lucas-zimerman/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lucas-zimerman/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lucas-zimerman/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lucas-zimerman/subscriptions",
                    "organizations_url": "https://api.github.com/users/lucas-zimerman/orgs",
                    "repos_url": "https://api.github.com/users/lucas-zimerman/repos",
                    "events_url": "https://api.github.com/users/lucas-zimerman/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lucas-zimerman/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 1489593066,
                        "node_id": "MDU6TGFiZWwxNDg5NTkzMDY2",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/unreproducible",
                        "name": "unreproducible",
                        "color": "ff7777",
                        "default": false,
                        "description": "This issue cannot be reproduced on master"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-09-06T14:11:04Z",
                "updated_at": "2022-09-06T14:13:15Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am adding this as a bug since the behavior is different from npm.\r\nIn short, running the bellow command has different behaviors, npm adds @sentry/angular using the version defined on the peerDependency of @sentry/capacitor@0.9.0 where yarn ignores that version number and uses the latest version of the package.\r\n\r\n\r\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"packageManager\": \"yarn@3.2.3\",\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.12.1\",\r\n    \"@sentry/capacitor\": \"0.9.0\",\r\n  }\r\n}\r\n```\r\n\r\nnpm install @sentry/capacitor@0.9.0 @sentry/angular\r\n```\r\n{\r\n  \"dependencies\": {\r\n    \"@sentry/angular\": \"^7.8.1\",\r\n    \"@sentry/capacitor\": \"^0.9.0\"\r\n  }\r\n}\r\n```\r\n\r\nsentry angular is defined as a peer dependency here:\r\nhttps://github.com/getsentry/sentry-capacitor/blob/0.9.0/package.json#L40\r\n\r\nIf not a bug, it would be great to know how `yarn` could behave the same as `npm` in this case where users type for example `yarn add @sentry/capacitor @sentry/angular` where @sentry/capacitor has a peer dependency  version lower than the latest release of @sentry/angular.\n\n### To reproduce\n\nyarn install @sentry/capacitor@0.9.0 @sentry/angular\r\n\r\nno need to add additional code, the build will break because the types are incompatible with the latest version of @sentry/angular\r\n\r\n```js repro\r\n// Sherlock reproduction. For instance:\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    [`@sentry/capacitor`]: `0.9.0`,\r\n    [`@sentry/angular`]: ``,\r\n  },\r\n});\r\n```\r\n\n\n### Environment\n\n```shell\nSame was reproduced by other users on different machines.\r\n\r\n  System:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 18.7.0 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\node.CMD\r\n    Yarn: 3.2.3 - ~\\AppData\\Local\\Temp\\xfs-da2809f7\\yarn.CMD\r\n    npm: 8.19.1 - C:\\Program Files\\nodejs\\npm.CMD\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238210593",
                "html_url": "https://github.com/yarnpkg/berry/issues/4824#issuecomment-1238210593",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4824",
                "id": 1238210593,
                "node_id": "IC_kwDOCNXKfM5JzZgh",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-06T14:13:15Z",
                "updated_at": "2022-09-06T14:13:15Z",
                "author_association": "COLLABORATOR",
                "body": "We couldn't reproduce your issue (all the assertions passed on master).",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1238210593/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-06T14:13:16Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23843221268",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10938815602,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "e175da2d0345ba362440f26cb0d3764e7b5a2f51",
            "before": "b6b8bb987ba737a9f5e5d687abfc50e812b9b485",
            "commits": [
                {
                    "sha": "28689a833fe41046ac709d09dd88a5a39b0d4efd",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.18` |\n| `@yarnpkg/core` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.18` |\n| `@yarnpkg/extensions` | `1.2.0-rc.5` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.18` |\n| `@yarnpkg/pnp` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.18` |\n| `@yarnpkg/sdks` | `3.0.0-rc.18` |\n| `@yarnpkg/fslib` | `3.0.0-rc.18` |\n| `@yarnpkg/libui` | `3.0.0-rc.18` |\n| `@yarnpkg/libzip` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.18` |\n| `vscode-zipfs` | `2.6.0-rc.7` |\n| `@yarnpkg/shell` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.18` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.18` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.18` |\n| `@yarnpkg/builder` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.18` |\n| `@yarnpkg/nm` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.18` |\n| `@yarnpkg/doctor` | `4.0.0-rc.18` |\n| `@yarnpkg/parsers` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.18` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.18` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.18` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/28689a833fe41046ac709d09dd88a5a39b0d4efd"
                },
                {
                    "sha": "e175da2d0345ba362440f26cb0d3764e7b5a2f51",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/e175da2d0345ba362440f26cb0d3764e7b5a2f51"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-06T12:08:15Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23840545675",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10937491004,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "4b66a530012ea07e453ea131d18afd806eaece4e",
            "before": "25abf76f121cb6449a5599e2838bfe333e68d6d9",
            "commits": [
                {
                    "sha": "74502147d85851d9746f40601dba6882778ee62a",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.17` |\n| `@yarnpkg/core` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.17` |\n| `@yarnpkg/extensions` | `1.2.0-rc.4` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.17` |\n| `@yarnpkg/pnp` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.17` |\n| `@yarnpkg/sdks` | `3.0.0-rc.17` |\n| `@yarnpkg/fslib` | `3.0.0-rc.17` |\n| `@yarnpkg/libui` | `3.0.0-rc.17` |\n| `@yarnpkg/libzip` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.17` |\n| `vscode-zipfs` | `2.6.0-rc.6` |\n| `@yarnpkg/shell` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.17` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.17` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.17` |\n| `@yarnpkg/builder` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.17` |\n| `@yarnpkg/nm` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.17` |\n| `@yarnpkg/doctor` | `4.0.0-rc.17` |\n| `@yarnpkg/parsers` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.17` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.17` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.17` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/74502147d85851d9746f40601dba6882778ee62a"
                },
                {
                    "sha": "4b66a530012ea07e453ea131d18afd806eaece4e",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/4b66a530012ea07e453ea131d18afd806eaece4e"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-06T09:51:31Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23839999006",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10937224221,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "0192dfd9197c09e301c236b8dd930e21ccf14d10",
            "before": "1ba23a6dd236969572468afeb309a227c814a324",
            "commits": [
                {
                    "sha": "fd9e3644ab70f2bd12a117982e3d64c624f322fc",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 39 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.16` |\n| `@yarnpkg/core` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.16` |\n| `@yarnpkg/extensions` | `1.2.0-rc.3` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.16` |\n| `@yarnpkg/pnp` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.16` |\n| `@yarnpkg/sdks` | `3.0.0-rc.16` |\n| `@yarnpkg/fslib` | `3.0.0-rc.16` |\n| `@yarnpkg/libui` | `3.0.0-rc.16` |\n| `@yarnpkg/libzip` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.16` |\n| `vscode-zipfs` | `2.6.0-rc.5` |\n| `@yarnpkg/shell` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.16` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.16` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.16` |\n| `@yarnpkg/builder` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.16` |\n| `@yarnpkg/nm` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.16` |\n| `@yarnpkg/doctor` | `4.0.0-rc.16` |\n| `@yarnpkg/parsers` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.16` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.16` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.16` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/fd9e3644ab70f2bd12a117982e3d64c624f322fc"
                },
                {
                    "sha": "0192dfd9197c09e301c236b8dd930e21ccf14d10",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/0192dfd9197c09e301c236b8dd930e21ccf14d10"
                }
            ]
        },
        "public": true,
        "created_at": "2022-09-06T09:26:56Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23832773263",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4670",
                "id": 1318166906,
                "node_id": "I_kwDOCNXKfM5OkaF6",
                "number": 4670,
                "title": "[Bug?]: yarn workspaces pnp vs node-modules linker",
                "user": {
                    "login": "alex-enchi",
                    "id": 24417201,
                    "node_id": "MDQ6VXNlcjI0NDE3MjAx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24417201?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alex-enchi",
                    "html_url": "https://github.com/alex-enchi",
                    "followers_url": "https://api.github.com/users/alex-enchi/followers",
                    "following_url": "https://api.github.com/users/alex-enchi/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alex-enchi/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alex-enchi/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alex-enchi/subscriptions",
                    "organizations_url": "https://api.github.com/users/alex-enchi/orgs",
                    "repos_url": "https://api.github.com/users/alex-enchi/repos",
                    "events_url": "https://api.github.com/users/alex-enchi/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alex-enchi/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-07-26T12:25:15Z",
                "updated_at": "2022-09-06T00:21:29Z",
                "closed_at": "2022-09-06T00:21:29Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen using workspaces with `pnp` linker for freshly boostrapped applications some imports do not work. But work normally with `node-modules` linker\r\n\r\nIt seems that builders can't find some linked dependencies.\r\n\r\nGetting errors like\r\n> `[eslint] Failed to load config \"react-app\" to extend from.` \r\n\r\nand\r\n ```[WARNING] Cannot find base config file \"@vue/tsconfig/tsconfig.web.json\" [tsconfig.json]\r\n\u27a4 YN0000:\r\n\u27a4 YN0000:     tsconfig.json:2:13:\r\n\u27a4 YN0000:       2 \u2502   \"extends\": \"@vue/tsconfig/tsconfig.web.json\",\r\n\u27a4 YN0000:\r\n```\r\n\r\n### To reproduce\r\n\r\nSee readme in [sample repository](https://github.com/alex-enchi/yarn-workspace-pnp-bug)\r\n-----\r\n1. clone repository\r\n2. remove .yarnc.yml (yarn can't read that file and make setup properly)\r\n3. run yarn set version stable\r\n4. run yarn plugin import workspace-tools\r\n5. yarn to install dependencies\r\n6. yarn build to try and build <- that step fails\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 13.0\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/node\r\n    Yarn: 3.2.2 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/yarn\r\n    npm: 8.12.2 - ~/Library/Caches/fnm_multishells/40664_1658829214578/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nWhen generating more complicated setups with more dependencies builds are also failing with different web pack peer dependencies as well.\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-09-06T00:21:29Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23807814979",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4711",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4711",
                "id": 1329337417,
                "node_id": "I_kwDOCNXKfM5PPBRJ",
                "number": 4711,
                "title": "[Bug?]: yarn patch generated unparsable patch: URL",
                "user": {
                    "login": "lachlanhunt",
                    "id": 681464,
                    "node_id": "MDQ6VXNlcjY4MTQ2NA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/681464?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/lachlanhunt",
                    "html_url": "https://github.com/lachlanhunt",
                    "followers_url": "https://api.github.com/users/lachlanhunt/followers",
                    "following_url": "https://api.github.com/users/lachlanhunt/following{/other_user}",
                    "gists_url": "https://api.github.com/users/lachlanhunt/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/lachlanhunt/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/lachlanhunt/subscriptions",
                    "organizations_url": "https://api.github.com/users/lachlanhunt/orgs",
                    "repos_url": "https://api.github.com/users/lachlanhunt/repos",
                    "events_url": "https://api.github.com/users/lachlanhunt/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/lachlanhunt/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 4,
                "created_at": "2022-08-05T01:33:10Z",
                "updated_at": "2022-09-04T10:04:36Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nMy company uses an internal package registry where all npm packages are fetched from. This is configured in ~/.yarnrc.yaml (company name replaced with `example`)\r\n\r\n```yaml\r\nnpmRegistries:\r\n  \"https://packages.example.com/artifactory/api/npm/npm-remote\":\r\n    npmAlwaysAuth: false\r\nnpmScopes:\r\n  example:\r\n    npmRegistryServer: \"https://packages.example.com/artifactory/api/npm/example-npm\"\r\n    npmPublishRegistry: \"https://packages.example.com/artifactory/api/npm/example-npm\"\r\n```\r\n\r\nThe result of this is that the resolution for the package in yarn.lock looks like this:\r\n\r\n```yaml\r\n  resolution: \"@example/eslint-plugin-example@npm:4.0.0::__archiveUrl=https%3A%2F%2Fpackages.example.com%2Fapi%2Fnpm%2Fexample-npm%2F%40example%2Feslint-plugin-example%2F-%2F%40example%2Feslint-plugin-example-4.0.0.tgz\"\r\n```\r\n\r\nWhen I tried to patch this packing using:\r\n\r\n```\r\n$ yarn patch @example/eslint-plugin-example\r\n# make edits\r\n$ yarn patch-commit -s /private/var/folders/path/to/code/user\r\n...\r\n\r\nThis generated a patch URL in package.json that looked like this:\r\n\r\n```json\r\n{\r\n  ...\r\n  \"resolutions\": {\r\n    \"@example/eslint-plugin-example@4.0.0\": \"patch:@example/eslint-plugin-example@npm:4.0.0::__archiveUrl=https%3A%2F%2Fpackages.example.com%2Fapi%2Fnpm%2Fexample-npm%2F%40example%2Feslint-plugin-example%2F-%2F%40example%2Feslint-plugin-example-4.0.0.tgz#.yarn/patches/@example-eslint-plugin-example-npm-4.0.0-bab1aa1587.patch\"\r\n  }\r\n\r\n}\r\n```\r\n\r\n(Then I fixed the version range in that resolution as described in https://github.com/yarnpkg/berry/issues/4231#issuecomment-1072847435 )\r\n\r\nFinally, running `yarn` to apply the patch gives this error:\r\n\r\n```sh\r\n$ yarn\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: Patch locators must explicitly define their source\r\n    at xue (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:733:658)\r\n    at dE (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:733:978)\r\n    at iO.bindDescriptor (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:736:2747)\r\n    at wd.bindDescriptor (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:391:1082)\r\n    at wd.bindDescriptor (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:391:1082)\r\n    at reduceDependency (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:390:29055)\r\n    at tA.reduceHook (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:392:3584)\r\n    at ee (/Users/lhunt/.node/corepack/yarn/3.2.2/yarn.js:439:6759)\r\n\u27a4 YN0000: \u2514 Completed\r\n\u27a4 YN0000: Failed with errors in 0s 23ms\r\n```\r\n\r\nI was able to work around this issue by modifying the `patch:` URL like this:\r\n\r\n```json\r\n{\r\n  ...\r\n  \"resolutions\": {\r\n    \"@example/eslint-plugin-example@^4.0.0\": \"patch:@example/eslint-plugin-example@npm:4.0.0#.yarn/patches/@example-eslint-plugin-example-npm-4.0.0-bab1aa1587.patch\"\r\n  }\r\n}\r\n```\r\n\r\nIt appears the presence of `::__archiveUrl=https...` breaks the parsing of the patch URL in yarn.\n\n### To reproduce\n\n(as explained above)\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 12.5\r\n  CPU: (10) arm64 Apple M1 Pro\r\nBinaries:\r\n  Node: 16.16.0 - /private/var/folders/78/vv5cyf6570xcqbsy0r2nfyfw0000gn/T/xfs-99d9804c/node\r\n  Yarn: 3.2.2 - /private/var/folders/78/vv5cyf6570xcqbsy0r2nfyfw0000gn/T/xfs-99d9804c/yarn\r\n  npm: 8.11.0 - ~/Library/Caches/fnm_multishells/21303_1659328957074/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1236302845",
                "html_url": "https://github.com/yarnpkg/berry/issues/4711#issuecomment-1236302845",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4711",
                "id": 1236302845,
                "node_id": "IC_kwDOCNXKfM5JsHv9",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-04T10:04:36Z",
                "updated_at": "2022-09-04T10:04:36Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1236302845/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-04T10:04:36Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23754143445",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4670",
                "id": 1318166906,
                "node_id": "I_kwDOCNXKfM5OkaF6",
                "number": 4670,
                "title": "[Bug?]: yarn workspaces pnp vs node-modules linker",
                "user": {
                    "login": "alex-enchi",
                    "id": 24417201,
                    "node_id": "MDQ6VXNlcjI0NDE3MjAx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24417201?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/alex-enchi",
                    "html_url": "https://github.com/alex-enchi",
                    "followers_url": "https://api.github.com/users/alex-enchi/followers",
                    "following_url": "https://api.github.com/users/alex-enchi/following{/other_user}",
                    "gists_url": "https://api.github.com/users/alex-enchi/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/alex-enchi/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/alex-enchi/subscriptions",
                    "organizations_url": "https://api.github.com/users/alex-enchi/orgs",
                    "repos_url": "https://api.github.com/users/alex-enchi/repos",
                    "events_url": "https://api.github.com/users/alex-enchi/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/alex-enchi/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-07-26T12:25:15Z",
                "updated_at": "2022-09-01T00:19:42Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen using workspaces with `pnp` linker for freshly boostrapped applications some imports do not work. But work normally with `node-modules` linker\r\n\r\nIt seems that builders can't find some linked dependencies.\r\n\r\nGetting errors like\r\n> `[eslint] Failed to load config \"react-app\" to extend from.` \r\n\r\nand\r\n ```[WARNING] Cannot find base config file \"@vue/tsconfig/tsconfig.web.json\" [tsconfig.json]\r\n\u27a4 YN0000:\r\n\u27a4 YN0000:     tsconfig.json:2:13:\r\n\u27a4 YN0000:       2 \u2502   \"extends\": \"@vue/tsconfig/tsconfig.web.json\",\r\n\u27a4 YN0000:\r\n```\r\n\r\n### To reproduce\r\n\r\nSee readme in [sample repository](https://github.com/alex-enchi/yarn-workspace-pnp-bug)\r\n-----\r\n1. clone repository\r\n2. remove .yarnc.yml (yarn can't read that file and make setup properly)\r\n3. run yarn set version stable\r\n4. run yarn plugin import workspace-tools\r\n5. yarn to install dependencies\r\n6. yarn build to try and build <- that step fails\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 13.0\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.14.0 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/node\r\n    Yarn: 3.2.2 - /private/var/folders/k7/wgs8x28d09x3nhhl81byd5z40000gn/T/xfs-cf108b83/yarn\r\n    npm: 8.12.2 - ~/Library/Caches/fnm_multishells/40664_1658829214578/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nWhen generating more complicated setups with more dependencies builds are also failing with different web pack peer dependencies as well.\r\n\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1233582337",
                "html_url": "https://github.com/yarnpkg/berry/issues/4670#issuecomment-1233582337",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4670",
                "id": 1233582337,
                "node_id": "IC_kwDOCNXKfM5JhvkB",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-09-01T00:19:42Z",
                "updated_at": "2022-09-01T00:19:42Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1233582337/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-09-01T00:19:43Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23728345526",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4678",
                "id": 1318432688,
                "node_id": "I_kwDOCNXKfM5Ola-w",
                "number": 4678,
                "title": "Better installation instructions",
                "user": {
                    "login": "geoidesic",
                    "id": 4637995,
                    "node_id": "MDQ6VXNlcjQ2Mzc5OTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4637995?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/geoidesic",
                    "html_url": "https://github.com/geoidesic",
                    "followers_url": "https://api.github.com/users/geoidesic/followers",
                    "following_url": "https://api.github.com/users/geoidesic/following{/other_user}",
                    "gists_url": "https://api.github.com/users/geoidesic/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/geoidesic/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/geoidesic/subscriptions",
                    "organizations_url": "https://api.github.com/users/geoidesic/orgs",
                    "repos_url": "https://api.github.com/users/geoidesic/repos",
                    "events_url": "https://api.github.com/users/geoidesic/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/geoidesic/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349891,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODkx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/enhancement",
                        "name": "enhancement",
                        "color": "92a4e5",
                        "default": true,
                        "description": "New feature or request"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-26T15:47:16Z",
                "updated_at": "2022-08-30T22:05:12Z",
                "closed_at": "2022-08-30T22:05:12Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "<!--\r\n  Important: These issues are for **concrete and actionable proposals**. If you just have\r\n  a general problem that you would like to brainstorm, open a Discussion instead. We want\r\n  our GitHub issues to be a strict project backlog.\r\n-->\r\n\r\n- [ ] I'd be willing to implement this feature ([contributing guide](https://yarnpkg.com/advanced/contributing))\r\n- [ ] This feature is important to have in this repository; a contrib plugin wouldn't do\r\n\r\n**Describe the user story**\r\n\r\n\"As a developer I want to be able to read the installation instructions and to actually understand them.\" :-)\r\n\r\nCurrently I read them and I go, \"Huh?\". It bangs on about something called `corepack` but doesn't explain how to actually install yarn. It talks about how to initialise a project once yarn is installed... but doesn't explain how to install yarn. Doing `corepack enable` does not magically make the `yarn` binary available (I tried it). It also talks about managing different versions of yarn but doesn't explain how to do that either.\r\n\r\nAm I missing something? Or is the documentation confusing?\r\n\r\n**Describe the solution you'd like**\r\n\r\nClear and concise installation instructions here: https://yarnpkg.com/getting-started/install\r\n\r\n**Describe the drawbacks of your solution**\r\n\r\nNone.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nCryng ;'(\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-30T22:05:13Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23722014072",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4672",
                "id": 1318363924,
                "node_id": "I_kwDOCNXKfM5OlKMU",
                "number": 4672,
                "title": "[Bug?]: yarn installation failed due to script-shell settings",
                "user": {
                    "login": "timongh",
                    "id": 46739861,
                    "node_id": "MDQ6VXNlcjQ2NzM5ODYx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/46739861?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timongh",
                    "html_url": "https://github.com/timongh",
                    "followers_url": "https://api.github.com/users/timongh/followers",
                    "following_url": "https://api.github.com/users/timongh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timongh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timongh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timongh/subscriptions",
                    "organizations_url": "https://api.github.com/users/timongh/orgs",
                    "repos_url": "https://api.github.com/users/timongh/repos",
                    "events_url": "https://api.github.com/users/timongh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timongh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-26T14:54:28Z",
                "updated_at": "2022-08-30T16:04:52Z",
                "closed_at": "2022-08-30T16:04:52Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI installed yarn on my Windows with the following command, but it failed.\r\n\r\n```shell\r\nnpm install -g yarn\r\n```\r\n\r\nLooking at the error message, I found that this was probably because I had **`script-shell=pwsh` in my configuration file**, which would make npm exec execute commands in PowerShell instead of the default cmd. **When I removed it, it installed successfully.**\r\n\r\nPerhaps this bug can be fixed by overriding the config file with some command line option.\n\n### To reproduce\n\nsee \"Describe the bug\"\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n  Binaries:\r\n    Node: 16.16.0 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\node.CMD\r\n    Yarn: 3.2.2 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\fnm_multishells\\23264_1658843196956\\npm.CMD\n```\n\n\n### Additional context\n\n<details>\r\n<summary>shell</summary>\r\n\r\n```plain\r\nPS D:\\test_folder> npm install -g yarn\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm ERR! code 1\r\nnpm ERR! path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\nnpm ERR! command failed\r\nnpm ERR! command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\nnpm ERR! :: The term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\nnpm ERR! Out-File: Could not find a part of the path 'D:\\dev\\null'.\r\nnpm ERR! true: The term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>debug log</summary>\r\n\r\n```plain\r\n0 verbose cli C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node.exe C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node_modules\\npm\\bin\\npm-cli.js\r\n1 info using npm@8.11.0\r\n2 info using node@v16.16.0\r\n3 timing npm:load:whichnode Completed in 1ms\r\n4 timing config:load:defaults Completed in 2ms\r\n5 timing config:load:file:D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\npmrc Completed in 1ms\r\n6 timing config:load:builtin Completed in 1ms\r\n7 warn config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\n8 timing config:load:cli Completed in 2ms\r\n9 timing config:load:env Completed in 1ms\r\n10 timing config:load:project Completed in 2ms\r\n11 timing config:load:file:C:\\Users\\me\\.npmrc Completed in 1ms\r\n12 timing config:load:user Completed in 1ms\r\n13 timing config:load:file:D:\\npm_folder\\npm\\npmrc Completed in 1ms\r\n14 timing config:load:global Completed in 1ms\r\n15 timing config:load:validate Completed in 1ms\r\n16 timing config:load:credentials Completed in 1ms\r\n17 timing config:load:setEnvs Completed in 1ms\r\n18 timing config:load Completed in 13ms\r\n19 timing npm:load:configload Completed in 13ms\r\n20 timing npm:load:mkdirpcache Completed in 1ms\r\n21 timing npm:load:mkdirplogs Completed in 0ms\r\n22 verbose title npm install yarn\r\n23 verbose argv \"install\" \"--global\" \"yarn\"\r\n24 timing npm:load:setTitle Completed in 1ms\r\n25 timing config:load:flatten Completed in 2ms\r\n26 timing npm:load:display Completed in 7ms\r\n27 verbose logfile logs-max:10 dir:D:\\npm_folder\\npm\\cache\\_logs\r\n28 verbose logfile D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n29 timing npm:load:logFile Completed in 5ms\r\n30 timing npm:load:timers Completed in 0ms\r\n31 timing npm:load:configScope Completed in 0ms\r\n32 timing npm:load Completed in 29ms\r\n33 timing arborist:ctor Completed in 2ms\r\n34 silly logfile done cleaning log files\r\n35 timing idealTree:init Completed in 29ms\r\n36 timing idealTree:userRequests Completed in 13ms\r\n37 silly idealTree buildDeps\r\n38 silly fetch manifest yarn@*\r\n39 http fetch GET 200 https://registry.npmmirror.com/yarn 638ms (cache revalidated)\r\n40 silly placeDep ROOT yarn@1.22.19 OK for:  want: *\r\n41 timing idealTree:#root Completed in 658ms\r\n42 timing idealTree:node_modules/yarn Completed in 0ms\r\n43 timing idealTree:buildDeps Completed in 659ms\r\n44 timing idealTree:fixDepFlags Completed in 0ms\r\n45 timing idealTree Completed in 705ms\r\n46 timing reify:loadTrees Completed in 708ms\r\n47 timing reify:diffTrees Completed in 2ms\r\n48 silly reify moves {}\r\n49 timing reify:retireShallow Completed in 21ms\r\n50 timing reify:createSparse Completed in 50ms\r\n51 timing reify:loadBundles Completed in 0ms\r\n52 silly audit bulk request { yarn: [ '1.22.19' ] }\r\n53 timing reifyNode:node_modules/yarn Completed in 241ms\r\n54 timing reify:unpack Completed in 242ms\r\n55 timing reify:unretire Completed in 0ms\r\n56 timing build:queue Completed in 13ms\r\n57 info run yarn@1.22.19 preinstall node_modules/yarn :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n58 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/advisories/bulk 387ms (cache skip)\r\n59 silly audit bulk request failed <h1>404 Not Found</h1>\r\n60 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/audits/quick 323ms (cache skip)\r\n61 verbose audit error HttpErrorGeneral: 404 Not Found - POST https://registry.npmmirror.com/-/npm/v1/security/audits/quick\r\n61 verbose audit error     at D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\npm-registry-fetch\\lib\\check-response.js:93:15\r\n61 verbose audit error     at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n61 verbose audit error     at async Map.[getReport] (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:333:21)\r\n61 verbose audit error     at async Map.run (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:106:19) {\r\n61 verbose audit error   headers: [Object: null prototype] {\r\n61 verbose audit error     server: [ 'Tengine' ],\r\n61 verbose audit error     'content-type': [ 'text/html; charset=utf-8' ],\r\n61 verbose audit error     'content-length': [ '41' ],\r\n61 verbose audit error     connection: [ 'keep-alive' ],\r\n61 verbose audit error     'strict-transport-security': [ 'max-age=5184000' ],\r\n61 verbose audit error     date: [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     vary: [ 'Origin' ],\r\n61 verbose audit error     'x-frame-options': [ 'SAMEORIGIN' ],\r\n61 verbose audit error     'x-xss-protection': [ '1; mode=block' ],\r\n61 verbose audit error     'x-content-type-options': [ 'nosniff' ],\r\n61 verbose audit error     'x-download-options': [ 'noopen' ],\r\n61 verbose audit error     'x-readtime': [ '1.023' ],\r\n61 verbose audit error     'content-encoding': [ 'gzip' ],\r\n61 verbose audit error     'ali-swift-global-savetime': [ '1658842406' ],\r\n61 verbose audit error     via: [\r\n61 verbose audit error       'cache74.l2cn3036[13,13,404-1280,M], cache79.l2cn3036[13,0], kunlun8.cn1416[28,27,404-1280,M], kunlun5.cn1416[31,0]'\r\n61 verbose audit error     ],\r\n61 verbose audit error     'x-cache': [ 'MISS TCP_MISS dirn:-2:-2' ],\r\n61 verbose audit error     'x-swift-savetime': [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     'x-swift-cachetime': [ '1' ],\r\n61 verbose audit error     'x-swift-error': [ 'orig response 4XX error' ],\r\n61 verbose audit error     'timing-allow-origin': [ '*' ],\r\n61 verbose audit error     eagleid: [ 'df6f181916588424061965275e' ],\r\n61 verbose audit error     'x-fetch-attempts': [ '1' ],\r\n61 verbose audit error     'x-local-cache-status': [ 'skip' ]\r\n61 verbose audit error   },\r\n61 verbose audit error   statusCode: 404,\r\n61 verbose audit error   code: 'E404',\r\n61 verbose audit error   method: 'POST',\r\n61 verbose audit error   uri: 'https://registry.npmmirror.com/-/npm/v1/security/audits/quick',\r\n61 verbose audit error   body: <Buffer 3c 68 31 3e 34 30 34 20 4e 6f 74 20 46 6f 75 6e 64 3c 2f 68 31 3e>,\r\n61 verbose audit error   pkgid: undefined\r\n61 verbose audit error }\r\n62 silly audit error <h1>404 Not Found</h1>\r\n63 timing auditReport:getReport Completed in 726ms\r\n64 silly audit report null\r\n65 timing reify:audit Completed in 727ms\r\n66 info run yarn@1.22.19 preinstall { code: 1, signal: null }\r\n67 timing reify:rollback:createSparse Completed in 13ms\r\n68 timing reify:rollback:retireShallow Completed in 1ms\r\n69 timing command:install Completed in 2192ms\r\n70 verbose stack Error: command failed\r\n70 verbose stack     at ChildProcess.<anonymous> (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\promise-spawn\\lib\\index.js:63:27)\r\n70 verbose stack     at ChildProcess.emit (node:events:527:28)\r\n70 verbose stack     at maybeClose (node:internal/child_process:1092:16)\r\n70 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:302:5)\r\n71 verbose pkgid yarn@1.22.19\r\n72 verbose cwd D:\\test_folder\r\n73 verbose Windows_NT 10.0.19043\r\n74 verbose node v16.16.0\r\n75 verbose npm  v8.11.0\r\n76 error code 1\r\n77 error path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\n78 error command failed\r\n79 error command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n80 error \u001b[91m:: \u001b[91mThe term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n80 error \u001b[91mOut-File: \u001b[91mCould not find a part of the path 'D:\\dev\\null'.\u001b[0m\r\n80 error \u001b[91mtrue: \u001b[91mThe term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n81 verbose exit 1\r\n82 timing npm Completed in 3441ms\r\n83 verbose unfinished npm timer reify 1658842402660\r\n84 verbose unfinished npm timer reify:build 1658842403808\r\n85 verbose unfinished npm timer build 1658842403808\r\n86 verbose unfinished npm timer build:deps 1658842403808\r\n87 verbose unfinished npm timer build:run:preinstall 1658842403821\r\n88 verbose unfinished npm timer build:run:preinstall:node_modules/yarn 1658842403821\r\n89 verbose code 1\r\n90 error A complete log of this run can be found in:\r\n90 error     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-30T16:04:52Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23698997062",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4661",
                "id": 1316963629,
                "node_id": "I_kwDOCNXKfM5Of0Ut",
                "number": 4661,
                "title": "[Bug?]: yarn says unauthenticated even when npmAuthIdent or npmAuthToken is set",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-25T14:56:56Z",
                "updated_at": "2022-08-29T17:07:58Z",
                "closed_at": "2022-08-29T17:07:58Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nyarn says unauthenticated even when `npmAuthIdent` or `npmAuthToken` is set. At the very least if I've done something wrong I think the error and documentation should be improved, it's not particularly useful.\r\n\r\nhere's my logs, the line is second to last\r\n```\r\n[2022-07-25T13:36:10.574Z] > @cof/e1-http@0.1.0 publish:yarn\r\n[2022-07-25T13:36:10.574Z] > yarn workspaces foreach --no-private --exclude @cof/e1-http --exclude @cof/e1-test-server npm publish\r\n[2022-07-25T13:36:10.574Z] \r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 31ms\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/index.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/secrets-client.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/integration/secrets-client.it.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/unit/secrets-client.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 22ms\r\n```\r\n\r\n### To reproduce\r\n\r\npublish a package to a private server that needs npm credentials like this\r\n\r\n```\r\nregistry.artifactory.our.company.com:username=myuser\r\nregistry.artifactory.our.company.com:username::_password=SomeTokenThatContainsFullAlphaBetNoEquals\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\n11:08:38    System:\r\n11:08:38      OS: Linux 5.10 CentOS Linux 7 (Core)\r\n11:08:38      CPU: (16) x64 Intel(R) Xeon(R) Platinum 8124M CPU @ 3.00GHz\r\n11:08:38    Binaries:\r\n11:08:38      Node: 16.16.0 - /tmp/xfs-e6afd580/node\r\n11:08:38      Yarn: 3.2.1 - /tmp/xfs-e6afd580/yarn\r\n11:08:38      npm: 8.11.0 - ~/.nvm/versions/node/v16.16.0/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n```\r\n[2022-07-25T13:36:06.929Z] Now using node v16.16.0 (npm v8.11.0)\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.440Z] > @cof/e1-http@0.1.0 prepublish:yarn\r\n[2022-07-25T13:36:07.440Z] > yarn install --immutable && yarn :credentials && yarn config\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.963Z] \u27a4 YN0000: \u250c Resolution step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Fetch step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0013: \u2502 635 packages were already cached\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed in 0s 205ms\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Link step\r\n[2022-07-25T13:36:08.987Z] \u27a4 YN0000: \u2502 ESM support for PnP uses the experimental loader API and is therefore experimental\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0007: \u2502 @cof/e1-http@workspace:. must be built because it never has been before or the last one failed\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR fatal: not a git repository (or any parent up to mount point /home)\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2514 Completed in 0s 921ms\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: Done with warnings in 1s 394ms\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: caFilePath                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/cache'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheKeyOverride              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetBaseRefs             [ 'master', 'origin/master', ... 4 more items ]\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetIgnorePatterns       []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: checksumBehavior              'throw'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cloneConcurrency              2\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: compressionLevel              'mixed'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: constraintsPath               '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/constraints.pro'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultLanguageName           'node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultProtocol               'npm:'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultSemverRangePrefix      '^'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableColors                  false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableGlobalCache             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableHyperlinks              false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableCache          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableInstalls       true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineBuilds            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineHunks             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMessageNames            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMirror                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableNetwork                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableProgressBars            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableScripts                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSettings          true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSsl               false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTelemetry               true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTimers                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTransparentWorkspaces   true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: globalFolder                  '/home/git/.yarn/berry'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpProxy                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpRetry                     3\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpTimeout                   60000\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsCertFilePath             null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsKeyFilePath              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsProxy                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignoreCwd                     false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignorePath                    false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: immutablePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initEditorConfig              Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initFields                    Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initScope                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: installStatePath              '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/install-state.gz'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lastUpdateCheck               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lockfileFilename              'yarn.lock'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: logFilters                    []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkConcurrency            50\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkSettings               Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmHoistingLimits              'none'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmMode                        'classic'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmSelfReferences              true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nodeLinker                    'pnp'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAlwaysAuth                 false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuditRegistry              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthIdent                  '********'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthToken                  null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishAccess              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishRegistry            null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistries                 Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistryServer             'https://artifactory.cloud.our.company.com443/artifactory/api/npm/npm-internalfacing/'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmScopes                     Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: packageExtensions             Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: patchFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/patches'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpDataPath                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.pnp.data.json'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableEsmLoader            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableInlining             true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpFallbackMode               'dependencies-only'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpIgnorePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpMode                       'strict'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpShebang                    '#!/usr/bin/env node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpUnpluggedFolder            '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/unplugged'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferAggregateCacheInfo      true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferInteractive             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferTruncatedLines          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: progressBarStyle              undefined\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: rcFilename                    '.yarnrc.yml'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: supportedArchitectures        Map(3) { 'os' => [ 'current' ], 'cpu' => [ 'current' ], 'libc' => [ 'current' ] }\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryInterval             7\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryUserId               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: unsafeHttpWhitelist           []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: virtualFolder                 '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/__virtual__'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: yarnPath                      '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/releases/yarn-3.2.1.cjs'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: Done in 0s 7ms\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-29T17:07:59Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23669015939",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4686",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4686",
                "id": 1320327094,
                "node_id": "I_kwDOCNXKfM5Ospe2",
                "number": 4686,
                "title": "[Bug?]: Cannot run `require` from inside VSCode extension",
                "user": {
                    "login": "zachkirsch",
                    "id": 8902272,
                    "node_id": "MDQ6VXNlcjg5MDIyNzI=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8902272?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/zachkirsch",
                    "html_url": "https://github.com/zachkirsch",
                    "followers_url": "https://api.github.com/users/zachkirsch/followers",
                    "following_url": "https://api.github.com/users/zachkirsch/following{/other_user}",
                    "gists_url": "https://api.github.com/users/zachkirsch/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/zachkirsch/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/zachkirsch/subscriptions",
                    "organizations_url": "https://api.github.com/users/zachkirsch/orgs",
                    "repos_url": "https://api.github.com/users/zachkirsch/repos",
                    "events_url": "https://api.github.com/users/zachkirsch/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/zachkirsch/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-28T02:59:24Z",
                "updated_at": "2022-08-27T03:47:35Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [X] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen using yarn pnp, Cmd+Click doesn't work in VSCode for imported scss files from external deps, e.g.\r\n```scss\r\n@import \"~@blueprintjs/core/lib/scss/variables\";\r\n\r\n...\r\n```\r\n\r\nThis is because [microsoft/vscode-css-languageservice](https://github.com/microsoft/vscode-css-languageservice) hardcodes a `node_modules` path here: https://github.com/microsoft/vscode-css-languageservice/blob/045b4764e36648a29cb3970e6733b35a0085600d/src/services/cssNavigation.ts#L347\r\n\r\nI tried to fix this by changing the path resolution to use `require.resolve`, but I get a `MODULE_NOT_FOUND` error. I think this is expected, because VSCode is likely not running this code with the pnp loader.\r\n\r\nI'd like to fix this, either on the VSCode side or the yarn side (or both!), but I'm not sure how to proceed. Any tips?\r\n\r\nNo repro provided (since the hard-coded `node_modules` is apparent). Let me know if you need more info though!\r\n\r\n### To reproduce\r\n\r\nn/a\r\n\r\n### Environment\r\n\r\n```shell\r\nn/a\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1229114685",
                "html_url": "https://github.com/yarnpkg/berry/issues/4686#issuecomment-1229114685",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4686",
                "id": 1229114685,
                "node_id": "IC_kwDOCNXKfM5JQs09",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-27T03:47:35Z",
                "updated_at": "2022-08-27T03:47:35Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1229114685/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-27T03:47:36Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23659193201",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4683",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4683",
                "id": 1319587633,
                "node_id": "I_kwDOCNXKfM5Op08x",
                "number": 4683,
                "title": "[Bug?]: workspace rename has error message that could be improved",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-27T13:43:02Z",
                "updated_at": "2022-08-26T14:04:36Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nbad error message, an ideal error message would tell me which package.json (or workspace) had this dependency.\r\n\r\n```\r\n\u276f yarn install\r\n\u27a4 YN0000: \u250c Resolution step\r\n\u27a4 YN0001: \u2502 Error: @cof/e1-test-server@workspace:*: Workspace not found (@cof/e1-test-server@workspace:*)\r\n    at ze.getWorkspaceByDescriptor (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:442:3273)\r\n    at Ed.getCandidates (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:395:29907)\r\n    at Bd.getCandidates (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:396:1281)\r\n    at Bd.getCandidates (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:396:1281)\r\n    at /Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:442:7764\r\n    at Rg (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:395:11098)\r\n    at le (/Users/nqy642/IdeaProjects/E1-Http/.yarn/releases/yarn-3.2.1.cjs:442:7744)\r\n\u27a4 YN0000: \u2514 Completed in 0s 348ms\r\n\u27a4 YN0000: Failed with errors in 0s 391ms\r\n```\n\n### To reproduce\n\ncreate monorepo with workspace, rename package name without updating it in other modules, e.g. in my case I renamed `@cof/e1-test-server` to `@cof/e1-fake-vault-server` in it's workspace `package.json`  and I had another workspace `package.json` depending on it.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 11.6.6\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-093a0b93/node\r\n    Yarn: 3.2.1 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-093a0b93/yarn\r\n    npm: 8.6.0 - ~/.asdf/plugins/nodejs/shims/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228531947",
                "html_url": "https://github.com/yarnpkg/berry/issues/4683#issuecomment-1228531947",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4683",
                "id": 1228531947,
                "node_id": "IC_kwDOCNXKfM5JOejr",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-26T14:04:36Z",
                "updated_at": "2022-08-26T14:04:36Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228531947/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-26T14:04:37Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23651496315",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4674",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4674",
                "id": 1318392293,
                "node_id": "I_kwDOCNXKfM5OlRHl",
                "number": 4674,
                "title": "[Bug?]: redundant subcommand `exec` in `yarn help`",
                "user": {
                    "login": "timongh",
                    "id": 46739861,
                    "node_id": "MDQ6VXNlcjQ2NzM5ODYx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/46739861?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timongh",
                    "html_url": "https://github.com/timongh",
                    "followers_url": "https://api.github.com/users/timongh/followers",
                    "following_url": "https://api.github.com/users/timongh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timongh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timongh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timongh/subscriptions",
                    "organizations_url": "https://api.github.com/users/timongh/orgs",
                    "repos_url": "https://api.github.com/users/timongh/repos",
                    "events_url": "https://api.github.com/users/timongh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timongh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-26T15:16:12Z",
                "updated_at": "2022-08-26T07:09:01Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nIf you run `yarn help` in any directory that is not a yarn berry project, you will see a subcommand `exec`. But executing `yarn help exec` does not give you any useful information. And I can't find information about this subcommand on the Yarn 1 [website](https://classic.yarnpkg.com/en/docs/cli) either.\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n  Binaries:\r\n    Node: 16.16.0 - C:\\Users\\me\\AppData\\Local\\Temp\\xfs-dc3eceea\\node.CMD\r\n    Yarn: 3.2.2 - C:\\Users\\me\\AppData\\Local\\Temp\\xfs-dc3eceea\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674/timeline",
                "performed_via_github_app": null,
                "state_reason": "reopened"
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228135144",
                "html_url": "https://github.com/yarnpkg/berry/issues/4674#issuecomment-1228135144",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4674",
                "id": 1228135144,
                "node_id": "IC_kwDOCNXKfM5JM9ro",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-26T07:09:01Z",
                "updated_at": "2022-08-26T07:09:01Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1228135144/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-26T07:09:02Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23645862368",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4678",
                "id": 1318432688,
                "node_id": "I_kwDOCNXKfM5Ola-w",
                "number": 4678,
                "title": "Better installation instructions",
                "user": {
                    "login": "geoidesic",
                    "id": 4637995,
                    "node_id": "MDQ6VXNlcjQ2Mzc5OTU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4637995?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/geoidesic",
                    "html_url": "https://github.com/geoidesic",
                    "followers_url": "https://api.github.com/users/geoidesic/followers",
                    "following_url": "https://api.github.com/users/geoidesic/following{/other_user}",
                    "gists_url": "https://api.github.com/users/geoidesic/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/geoidesic/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/geoidesic/subscriptions",
                    "organizations_url": "https://api.github.com/users/geoidesic/orgs",
                    "repos_url": "https://api.github.com/users/geoidesic/repos",
                    "events_url": "https://api.github.com/users/geoidesic/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/geoidesic/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349891,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODkx",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/enhancement",
                        "name": "enhancement",
                        "color": "92a4e5",
                        "default": true,
                        "description": "New feature or request"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-26T15:47:16Z",
                "updated_at": "2022-08-25T22:05:00Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "<!--\r\n  Important: These issues are for **concrete and actionable proposals**. If you just have\r\n  a general problem that you would like to brainstorm, open a Discussion instead. We want\r\n  our GitHub issues to be a strict project backlog.\r\n-->\r\n\r\n- [ ] I'd be willing to implement this feature ([contributing guide](https://yarnpkg.com/advanced/contributing))\r\n- [ ] This feature is important to have in this repository; a contrib plugin wouldn't do\r\n\r\n**Describe the user story**\r\n\r\n\"As a developer I want to be able to read the installation instructions and to actually understand them.\" :-)\r\n\r\nCurrently I read them and I go, \"Huh?\". It bangs on about something called `corepack` but doesn't explain how to actually install yarn. It talks about how to initialise a project once yarn is installed... but doesn't explain how to install yarn. Doing `corepack enable` does not magically make the `yarn` binary available (I tried it). It also talks about managing different versions of yarn but doesn't explain how to do that either.\r\n\r\nAm I missing something? Or is the documentation confusing?\r\n\r\n**Describe the solution you'd like**\r\n\r\nClear and concise installation instructions here: https://yarnpkg.com/getting-started/install\r\n\r\n**Describe the drawbacks of your solution**\r\n\r\nNone.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nCryng ;'(\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227806192",
                "html_url": "https://github.com/yarnpkg/berry/issues/4678#issuecomment-1227806192",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4678",
                "id": 1227806192,
                "node_id": "IC_kwDOCNXKfM5JLtXw",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-25T22:05:00Z",
                "updated_at": "2022-08-25T22:05:00Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nIt seems like this issue as been marked as probably resolved, or missing important information blocking its progression. As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227806192/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-25T22:05:00Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23639878927",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4653",
                "id": 1313436896,
                "node_id": "I_kwDOCNXKfM5OSXTg",
                "number": 4653,
                "title": "[Bug?]: yarn does not taken into account peerDependenciesMeta.optional",
                "user": {
                    "login": "blephy",
                    "id": 24233935,
                    "node_id": "MDQ6VXNlcjI0MjMzOTM1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24233935?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/blephy",
                    "html_url": "https://github.com/blephy",
                    "followers_url": "https://api.github.com/users/blephy/followers",
                    "following_url": "https://api.github.com/users/blephy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/blephy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/blephy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/blephy/subscriptions",
                    "organizations_url": "https://api.github.com/users/blephy/orgs",
                    "repos_url": "https://api.github.com/users/blephy/repos",
                    "events_url": "https://api.github.com/users/blephy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/blephy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-21T15:25:41Z",
                "updated_at": "2022-08-25T16:04:50Z",
                "closed_at": "2022-08-25T16:04:50Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nImagine a library named `lib-a`, published on a registry. This library have this manifest : \r\n\r\n```jsonc\r\n{\r\n  // ...\r\n\"peerDependencies\": {\r\n    \"eslint-plugin-react\": \"2.0.0\"\r\n  },\r\n  \"peerDependenciesMeta\": {\r\n    \"eslint-plugin-react\": {\r\n      \"optional\": true\r\n    }\r\n  },\r\n  // ...\r\n}\r\n```\r\n\r\nWhen a package install `lib-a` without providing `eslint-plugin-react`, yarn produce a warning message \r\n\r\n```bash\r\n\u27a4 YN0002: \u2502 toto@workspace:. doesn't provide eslint-plugin-react (p61f53), requested by lib-a\r\n```\r\n\r\nyarn berry 3.2.1\r\n\r\n### To reproduce\r\n\r\nThis is not a complicated step to check :)\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\n  Binaries:\r\n    Node: 14.19.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/node\r\n    Yarn: 3.2.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/yarn\r\n    npm: 6.14.16 - ~/.nvm/versions/node/v14.19.1/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-25T16:04:50Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23639877785",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4673",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4673",
                "id": 1318383458,
                "node_id": "I_kwDOCNXKfM5OlO9i",
                "number": 4673,
                "title": "[Bug?]: YARN_CHECKSUM_BEHAVIOR=reset  does not work",
                "user": {
                    "login": "goloveychuk",
                    "id": 2370419,
                    "node_id": "MDQ6VXNlcjIzNzA0MTk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/2370419?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/goloveychuk",
                    "html_url": "https://github.com/goloveychuk",
                    "followers_url": "https://api.github.com/users/goloveychuk/followers",
                    "following_url": "https://api.github.com/users/goloveychuk/following{/other_user}",
                    "gists_url": "https://api.github.com/users/goloveychuk/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/goloveychuk/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/goloveychuk/subscriptions",
                    "organizations_url": "https://api.github.com/users/goloveychuk/orgs",
                    "repos_url": "https://api.github.com/users/goloveychuk/repos",
                    "events_url": "https://api.github.com/users/goloveychuk/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/goloveychuk/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-26T15:09:18Z",
                "updated_at": "2022-08-25T16:04:47Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nDocs declaring three available options for `YARN_CHECKSUM_BEHAVIOR`, one of them is reset. \r\nBut it does not work, I also don't see an implementation. \r\nhttps://github.dev/yarnpkg/berry/blob/4a097fa80c0fc42e3d5eb51c597bf7304e981111/packages/yarnpkg-core/sources/Cache.ts#L208\r\n\r\nI think this option is important for two cases.\r\n1) local devex, when developer change a zip archive (which vscode extension allows), eventually dev would want to clear changes and replace it with remote archive.\r\n2) much more important: ci usage. \r\nI'm not sure how, but I've got a failed build because of checksum mismatch on CI. Cache path is shared, maybe it's because of yarn version change or compression level or smth else. \r\nFrom my perspective, for Ci usage, all `update`, `ignore` and `throw` options are not sophisticated. \r\nThrow is bad for CI usage, no way to fix it, first two options does not replace \"broken\" file. \r\nI think CI should use yarn.lock as source of truth, and replace \"broken\" archives.\r\n\r\nAlso, I think, `checksumBehavior` in yarnrc should be 'reset' as default if `IsCi===true`\r\n\r\nI can create a PR, if solutions is ok.\r\n\n\n### To reproduce\n\n1) yarn install with pnp enabled\r\n2) change zip archive\r\n3) `YARN_CHECKSUM_BEHAVIOR=reset yarn` should remove broken files and replace them with from remote.\r\n\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.2\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 14.17.6 - /private/var/folders/_c/5f907xz5253bhss7ytr8m8zh0000gn/T/xfs-0d97552e/node\r\n    Yarn: 4.0.0-rc.14.git.20220721.hash-4a097fa - /private/var/folders/_c/5f907xz5253bhss7ytr8m8zh0000gn/T/xfs-0d97552e/yarn\r\n    npm: 6.14.15 - /var/folders/_c/5f907xz5253bhss7ytr8m8zh0000gn/T/fnm_multishells/57279_1658844880383/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227473378",
                "html_url": "https://github.com/yarnpkg/berry/issues/4673#issuecomment-1227473378",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4673",
                "id": 1227473378,
                "node_id": "IC_kwDOCNXKfM5JKcHi",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-25T16:04:47Z",
                "updated_at": "2022-08-25T16:04:47Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227473378/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-25T16:04:47Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23638578671",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4672",
                "id": 1318363924,
                "node_id": "I_kwDOCNXKfM5OlKMU",
                "number": 4672,
                "title": "[Bug?]: yarn installation failed due to script-shell settings",
                "user": {
                    "login": "timongh",
                    "id": 46739861,
                    "node_id": "MDQ6VXNlcjQ2NzM5ODYx",
                    "avatar_url": "https://avatars.githubusercontent.com/u/46739861?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/timongh",
                    "html_url": "https://github.com/timongh",
                    "followers_url": "https://api.github.com/users/timongh/followers",
                    "following_url": "https://api.github.com/users/timongh/following{/other_user}",
                    "gists_url": "https://api.github.com/users/timongh/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/timongh/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/timongh/subscriptions",
                    "organizations_url": "https://api.github.com/users/timongh/orgs",
                    "repos_url": "https://api.github.com/users/timongh/repos",
                    "events_url": "https://api.github.com/users/timongh/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/timongh/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-26T14:54:28Z",
                "updated_at": "2022-08-25T15:06:04Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI installed yarn on my Windows with the following command, but it failed.\r\n\r\n```shell\r\nnpm install -g yarn\r\n```\r\n\r\nLooking at the error message, I found that this was probably because I had **`script-shell=pwsh` in my configuration file**, which would make npm exec execute commands in PowerShell instead of the default cmd. **When I removed it, it installed successfully.**\r\n\r\nPerhaps this bug can be fixed by overriding the config file with some command line option.\n\n### To reproduce\n\nsee \"Describe the bug\"\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n  Binaries:\r\n    Node: 16.16.0 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\node.CMD\r\n    Yarn: 3.2.2 - C:\\Users\\\u25fc\u25fc\u25fc\\AppData\\Local\\Temp\\xfs-35397fa6\\yarn.CMD\r\n    npm: 8.11.0 - ~\\AppData\\Local\\fnm_multishells\\23264_1658843196956\\npm.CMD\n```\n\n\n### Additional context\n\n<details>\r\n<summary>shell</summary>\r\n\r\n```plain\r\nPS D:\\test_folder> npm install -g yarn\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\nnpm ERR! code 1\r\nnpm ERR! path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\nnpm ERR! command failed\r\nnpm ERR! command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\nnpm ERR! :: The term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\nnpm ERR! Out-File: Could not find a part of the path 'D:\\dev\\null'.\r\nnpm ERR! true: The term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nnpm ERR! Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>debug log</summary>\r\n\r\n```plain\r\n0 verbose cli C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node.exe C:\\Users\\me\\AppData\\Local\\fnm_multishells\\24660_1658842120196\\node_modules\\npm\\bin\\npm-cli.js\r\n1 info using npm@8.11.0\r\n2 info using node@v16.16.0\r\n3 timing npm:load:whichnode Completed in 1ms\r\n4 timing config:load:defaults Completed in 2ms\r\n5 timing config:load:file:D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\npmrc Completed in 1ms\r\n6 timing config:load:builtin Completed in 1ms\r\n7 warn config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\n8 timing config:load:cli Completed in 2ms\r\n9 timing config:load:env Completed in 1ms\r\n10 timing config:load:project Completed in 2ms\r\n11 timing config:load:file:C:\\Users\\me\\.npmrc Completed in 1ms\r\n12 timing config:load:user Completed in 1ms\r\n13 timing config:load:file:D:\\npm_folder\\npm\\npmrc Completed in 1ms\r\n14 timing config:load:global Completed in 1ms\r\n15 timing config:load:validate Completed in 1ms\r\n16 timing config:load:credentials Completed in 1ms\r\n17 timing config:load:setEnvs Completed in 1ms\r\n18 timing config:load Completed in 13ms\r\n19 timing npm:load:configload Completed in 13ms\r\n20 timing npm:load:mkdirpcache Completed in 1ms\r\n21 timing npm:load:mkdirplogs Completed in 0ms\r\n22 verbose title npm install yarn\r\n23 verbose argv \"install\" \"--global\" \"yarn\"\r\n24 timing npm:load:setTitle Completed in 1ms\r\n25 timing config:load:flatten Completed in 2ms\r\n26 timing npm:load:display Completed in 7ms\r\n27 verbose logfile logs-max:10 dir:D:\\npm_folder\\npm\\cache\\_logs\r\n28 verbose logfile D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n29 timing npm:load:logFile Completed in 5ms\r\n30 timing npm:load:timers Completed in 0ms\r\n31 timing npm:load:configScope Completed in 0ms\r\n32 timing npm:load Completed in 29ms\r\n33 timing arborist:ctor Completed in 2ms\r\n34 silly logfile done cleaning log files\r\n35 timing idealTree:init Completed in 29ms\r\n36 timing idealTree:userRequests Completed in 13ms\r\n37 silly idealTree buildDeps\r\n38 silly fetch manifest yarn@*\r\n39 http fetch GET 200 https://registry.npmmirror.com/yarn 638ms (cache revalidated)\r\n40 silly placeDep ROOT yarn@1.22.19 OK for:  want: *\r\n41 timing idealTree:#root Completed in 658ms\r\n42 timing idealTree:node_modules/yarn Completed in 0ms\r\n43 timing idealTree:buildDeps Completed in 659ms\r\n44 timing idealTree:fixDepFlags Completed in 0ms\r\n45 timing idealTree Completed in 705ms\r\n46 timing reify:loadTrees Completed in 708ms\r\n47 timing reify:diffTrees Completed in 2ms\r\n48 silly reify moves {}\r\n49 timing reify:retireShallow Completed in 21ms\r\n50 timing reify:createSparse Completed in 50ms\r\n51 timing reify:loadBundles Completed in 0ms\r\n52 silly audit bulk request { yarn: [ '1.22.19' ] }\r\n53 timing reifyNode:node_modules/yarn Completed in 241ms\r\n54 timing reify:unpack Completed in 242ms\r\n55 timing reify:unretire Completed in 0ms\r\n56 timing build:queue Completed in 13ms\r\n57 info run yarn@1.22.19 preinstall node_modules/yarn :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n58 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/advisories/bulk 387ms (cache skip)\r\n59 silly audit bulk request failed <h1>404 Not Found</h1>\r\n60 http fetch POST 404 https://registry.npmmirror.com/-/npm/v1/security/audits/quick 323ms (cache skip)\r\n61 verbose audit error HttpErrorGeneral: 404 Not Found - POST https://registry.npmmirror.com/-/npm/v1/security/audits/quick\r\n61 verbose audit error     at D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\npm-registry-fetch\\lib\\check-response.js:93:15\r\n61 verbose audit error     at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n61 verbose audit error     at async Map.[getReport] (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:333:21)\r\n61 verbose audit error     at async Map.run (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\arborist\\lib\\audit-report.js:106:19) {\r\n61 verbose audit error   headers: [Object: null prototype] {\r\n61 verbose audit error     server: [ 'Tengine' ],\r\n61 verbose audit error     'content-type': [ 'text/html; charset=utf-8' ],\r\n61 verbose audit error     'content-length': [ '41' ],\r\n61 verbose audit error     connection: [ 'keep-alive' ],\r\n61 verbose audit error     'strict-transport-security': [ 'max-age=5184000' ],\r\n61 verbose audit error     date: [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     vary: [ 'Origin' ],\r\n61 verbose audit error     'x-frame-options': [ 'SAMEORIGIN' ],\r\n61 verbose audit error     'x-xss-protection': [ '1; mode=block' ],\r\n61 verbose audit error     'x-content-type-options': [ 'nosniff' ],\r\n61 verbose audit error     'x-download-options': [ 'noopen' ],\r\n61 verbose audit error     'x-readtime': [ '1.023' ],\r\n61 verbose audit error     'content-encoding': [ 'gzip' ],\r\n61 verbose audit error     'ali-swift-global-savetime': [ '1658842406' ],\r\n61 verbose audit error     via: [\r\n61 verbose audit error       'cache74.l2cn3036[13,13,404-1280,M], cache79.l2cn3036[13,0], kunlun8.cn1416[28,27,404-1280,M], kunlun5.cn1416[31,0]'\r\n61 verbose audit error     ],\r\n61 verbose audit error     'x-cache': [ 'MISS TCP_MISS dirn:-2:-2' ],\r\n61 verbose audit error     'x-swift-savetime': [ 'Tue, 26 Jul 2022 13:33:26 GMT' ],\r\n61 verbose audit error     'x-swift-cachetime': [ '1' ],\r\n61 verbose audit error     'x-swift-error': [ 'orig response 4XX error' ],\r\n61 verbose audit error     'timing-allow-origin': [ '*' ],\r\n61 verbose audit error     eagleid: [ 'df6f181916588424061965275e' ],\r\n61 verbose audit error     'x-fetch-attempts': [ '1' ],\r\n61 verbose audit error     'x-local-cache-status': [ 'skip' ]\r\n61 verbose audit error   },\r\n61 verbose audit error   statusCode: 404,\r\n61 verbose audit error   code: 'E404',\r\n61 verbose audit error   method: 'POST',\r\n61 verbose audit error   uri: 'https://registry.npmmirror.com/-/npm/v1/security/audits/quick',\r\n61 verbose audit error   body: <Buffer 3c 68 31 3e 34 30 34 20 4e 6f 74 20 46 6f 75 6e 64 3c 2f 68 31 3e>,\r\n61 verbose audit error   pkgid: undefined\r\n61 verbose audit error }\r\n62 silly audit error <h1>404 Not Found</h1>\r\n63 timing auditReport:getReport Completed in 726ms\r\n64 silly audit report null\r\n65 timing reify:audit Completed in 727ms\r\n66 info run yarn@1.22.19 preinstall { code: 1, signal: null }\r\n67 timing reify:rollback:createSparse Completed in 13ms\r\n68 timing reify:rollback:retireShallow Completed in 1ms\r\n69 timing command:install Completed in 2192ms\r\n70 verbose stack Error: command failed\r\n70 verbose stack     at ChildProcess.<anonymous> (D:\\npm_folder\\fnm\\node-versions\\v16.16.0\\installation\\node_modules\\npm\\node_modules\\@npmcli\\promise-spawn\\lib\\index.js:63:27)\r\n70 verbose stack     at ChildProcess.emit (node:events:527:28)\r\n70 verbose stack     at maybeClose (node:internal/child_process:1092:16)\r\n70 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:302:5)\r\n71 verbose pkgid yarn@1.22.19\r\n72 verbose cwd D:\\test_folder\r\n73 verbose Windows_NT 10.0.19043\r\n74 verbose node v16.16.0\r\n75 verbose npm  v8.11.0\r\n76 error code 1\r\n77 error path D:\\npm_folder\\npm\\global\\node_modules\\yarn\r\n78 error command failed\r\n79 error command pwsh -c :; (node ./preinstall.js > /dev/null 2>&1 || true)\r\n80 error \u001b[91m:: \u001b[91mThe term ':' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n80 error \u001b[91mOut-File: \u001b[91mCould not find a part of the path 'D:\\dev\\null'.\u001b[0m\r\n80 error \u001b[91mtrue: \u001b[91mThe term 'true' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n80 error Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\u001b[0m\r\n81 verbose exit 1\r\n82 timing npm Completed in 3441ms\r\n83 verbose unfinished npm timer reify 1658842402660\r\n84 verbose unfinished npm timer reify:build 1658842403808\r\n85 verbose unfinished npm timer build 1658842403808\r\n86 verbose unfinished npm timer build:deps 1658842403808\r\n87 verbose unfinished npm timer build:run:preinstall 1658842403821\r\n88 verbose unfinished npm timer build:run:preinstall:node_modules/yarn 1658842403821\r\n89 verbose code 1\r\n90 error A complete log of this run can be found in:\r\n90 error     D:\\npm_folder\\npm\\cache\\_logs\\2022-07-26T13_33_21_393Z-debug-0.log\r\n```\r\n\r\n</details>",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227386729",
                "html_url": "https://github.com/yarnpkg/berry/issues/4672#issuecomment-1227386729",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4672",
                "id": 1227386729,
                "node_id": "IC_kwDOCNXKfM5JKG9p",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-25T15:06:04Z",
                "updated_at": "2022-08-25T15:06:04Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1227386729/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-25T15:06:04Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23630726691",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4652",
                "id": 1312878267,
                "node_id": "I_kwDOCNXKfM5OQO67",
                "number": 4652,
                "title": "[Bug?]: Required package missing from disk when using pnp with canary yarn",
                "user": {
                    "login": "simPod",
                    "id": 327717,
                    "node_id": "MDQ6VXNlcjMyNzcxNw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/327717?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/simPod",
                    "html_url": "https://github.com/simPod",
                    "followers_url": "https://api.github.com/users/simPod/followers",
                    "following_url": "https://api.github.com/users/simPod/following{/other_user}",
                    "gists_url": "https://api.github.com/users/simPod/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/simPod/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/simPod/subscriptions",
                    "organizations_url": "https://api.github.com/users/simPod/orgs",
                    "repos_url": "https://api.github.com/users/simPod/repos",
                    "events_url": "https://api.github.com/users/simPod/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/simPod/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-21T08:28:46Z",
                "updated_at": "2022-08-25T09:05:39Z",
                "closed_at": "2022-08-25T09:05:39Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI tried running canary (4.0.0-rc.13)\r\n\r\nand getting \r\n\r\n```\r\n/builds/projects/project1/124325/.pnp.cjs:31452\r\n  return Object.defineProperties(new Error(message), {\r\n                                 ^\r\nError: Required package missing from disk. If you keep your packages inside your repository then restarting the Node process may be enough. Otherwise, try to run an install first.\r\nMissing package: prettier@npm:2.7.1\r\n\r\nExpected package location: /root/.yarn/berry/cache/prettier-npm-2.7.1-d1f40f5e1a-9.zip/node_modules/prettier/\r\n    at makeError (/builds/projects/project1/124325/.pnp.cjs:31452:34)\r\n    at resolveUnqualified (/builds/projects/project1/124325/.pnp.cjs:32441:17)\r\n    at resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32464:14)\r\n    at Object.resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32520:26)\r\n    at resolve$1 (file:///builds/projects/project1/124325/.pnp.loader.mjs:221:25)\r\n    at ESMLoader.resolve (node:internal/modules/esm/loader:604:30)\r\n    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:318:18)\r\n    at ESMLoader.import (node:internal/modules/esm/loader:[40](https://gitlab.domain.sth/path/project1/-/jobs/1349330#L40)4:22)\r\n    at node:internal/modules/run_main:54:28\r\n    at loadESM (node:internal/process/esm_loader:85:11)\r\n```\r\n\r\nwhen trying to run any binary via yarn\r\n\r\n### To reproduce\r\n\r\n<details>\r\n\r\nI fail to reproduce it locally on\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 18.0.0 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/node\r\n    Yarn: 4.0.0-rc.13 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/yarn\r\n    npm: 8.6.0 - /opt/homebrew/bin/npm\r\n```\r\n\r\n</details>\r\n\r\nThis is the command sequence I'm trying\r\n```\r\n\tyarn cache clean --all\r\n\tyarn install --immutable\r\n\tyarn bin // this outputs binaries like prettier properly\r\n```\r\n\r\nbut then trying to run\r\n\r\n```sh\r\nyarn run prettier --list-different \"**/*.{graphql,json,md,yml,yaml}\"\r\n```\r\n\r\ngives the error above\r\n\r\n### Environment\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 17.9.0 - /tmp/xfs-1be9c540/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-1be9c540/yarn\r\n    npm: 8.5.5 - ~/.nvm/versions/node/v17.9.0/bin/npm\r\n```\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 18.6.0 - /tmp/xfs-a0a6cc2b/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-a0a6cc2b/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v18.6.0/bin/npm\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-25T09:05:40Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23617354151",
        "type": "PushEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "push_id": 10821661184,
            "size": 2,
            "distinct_size": 2,
            "ref": "refs/heads/master",
            "head": "c89a789e8ccea19594ec087deb8dcbca03178998",
            "before": "e0d8a1b280e83e3e9a79a029f352b3c7688698be",
            "commits": [
                {
                    "sha": "4e3fde430ffce69a62abd87a8676ed0d829baabb",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Releasing 40 new packages\n\n| Package name | Version |\n| --- | --- |\n| `@yarnpkg/cli` | `4.0.0-rc.15` |\n| `@yarnpkg/core` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-essentials` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-pack` | `4.0.0-rc.15` |\n| `@yarnpkg/extensions` | `1.2.0-rc.2` |\n| `@yarnpkg/plugin-compat` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-pnp` | `4.0.0-rc.15` |\n| `@yarnpkg/pnp` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-dlx` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-init` | `4.0.0-rc.15` |\n| `@yarnpkg/sdks` | `3.0.0-rc.15` |\n| `@yarnpkg/fslib` | `3.0.0-rc.15` |\n| `@yarnpkg/libui` | `3.0.0-rc.15` |\n| `@yarnpkg/libzip` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-interactive-tools` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-version` | `4.0.0-rc.15` |\n| `vscode-zipfs` | `2.6.0-rc.4` |\n| `@yarnpkg/shell` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-exec` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-file` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-git` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-http` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-link` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-npm` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-patch` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-npm-cli` | `4.0.0-rc.15` |\n| `@yarnpkg/esbuild-plugin-pnp` | `3.0.0-rc.15` |\n| `@yarnpkg/eslint-config` | `1.0.0-rc.15` |\n| `@yarnpkg/pnpify` | `4.0.0-rc.15` |\n| `@yarnpkg/builder` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-workspace-tools` | `4.0.0-rc.15` |\n| `@yarnpkg/nm` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-nm` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-pnpm` | `2.0.0-rc.15` |\n| `@yarnpkg/doctor` | `4.0.0-rc.15` |\n| `@yarnpkg/parsers` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-constraints` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-github` | `3.0.0-rc.15` |\n| `@yarnpkg/plugin-stage` | `4.0.0-rc.15` |\n| `@yarnpkg/plugin-typescript` | `4.0.0-rc.15` |",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/4e3fde430ffce69a62abd87a8676ed0d829baabb"
                },
                {
                    "sha": "c89a789e8ccea19594ec087deb8dcbca03178998",
                    "author": {
                        "email": "nison.mael+yarnbot@gmail.com",
                        "name": "Yarn Bot"
                    },
                    "message": "Reset binaries to stable",
                    "distinct": true,
                    "url": "https://api.github.com/repos/yarnpkg/berry/commits/c89a789e8ccea19594ec087deb8dcbca03178998"
                }
            ]
        },
        "public": true,
        "created_at": "2022-08-24T17:03:13Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23616210955",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4661",
                "id": 1316963629,
                "node_id": "I_kwDOCNXKfM5Of0Ut",
                "number": 4661,
                "title": "[Bug?]: yarn says unauthenticated even when npmAuthIdent or npmAuthToken is set",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-25T14:56:56Z",
                "updated_at": "2022-08-24T16:04:58Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nyarn says unauthenticated even when `npmAuthIdent` or `npmAuthToken` is set. At the very least if I've done something wrong I think the error and documentation should be improved, it's not particularly useful.\r\n\r\nhere's my logs, the line is second to last\r\n```\r\n[2022-07-25T13:36:10.574Z] > @cof/e1-http@0.1.0 publish:yarn\r\n[2022-07-25T13:36:10.574Z] > yarn workspaces foreach --no-private --exclude @cof/e1-http --exclude @cof/e1-test-server npm publish\r\n[2022-07-25T13:36:10.574Z] \r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.084Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 31ms\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: package.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/index.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/secrets-client.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: src/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/integration/secrets-client.it.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: test/unit/secrets-client.test.ts\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: tsconfig.json\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0033: No authentication configured for request\r\n[2022-07-25T13:36:11.596Z] \u27a4 YN0000: \u27a4 YN0000: Failed with errors in 0s 22ms\r\n```\r\n\r\n### To reproduce\r\n\r\npublish a package to a private server that needs npm credentials like this\r\n\r\n```\r\nregistry.artifactory.our.company.com:username=myuser\r\nregistry.artifactory.our.company.com:username::_password=SomeTokenThatContainsFullAlphaBetNoEquals\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\n11:08:38    System:\r\n11:08:38      OS: Linux 5.10 CentOS Linux 7 (Core)\r\n11:08:38      CPU: (16) x64 Intel(R) Xeon(R) Platinum 8124M CPU @ 3.00GHz\r\n11:08:38    Binaries:\r\n11:08:38      Node: 16.16.0 - /tmp/xfs-e6afd580/node\r\n11:08:38      Yarn: 3.2.1 - /tmp/xfs-e6afd580/yarn\r\n11:08:38      npm: 8.11.0 - ~/.nvm/versions/node/v16.16.0/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n```\r\n[2022-07-25T13:36:06.929Z] Now using node v16.16.0 (npm v8.11.0)\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.440Z] > @cof/e1-http@0.1.0 prepublish:yarn\r\n[2022-07-25T13:36:07.440Z] > yarn install --immutable && yarn :credentials && yarn config\r\n[2022-07-25T13:36:07.440Z] \r\n[2022-07-25T13:36:07.963Z] \u27a4 YN0000: \u250c Resolution step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Fetch step\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0013: \u2502 635 packages were already cached\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u2514 Completed in 0s 205ms\r\n[2022-07-25T13:36:08.476Z] \u27a4 YN0000: \u250c Link step\r\n[2022-07-25T13:36:08.987Z] \u27a4 YN0000: \u2502 ESM support for PnP uses the experimental loader API and is therefore experimental\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0007: \u2502 @cof/e1-http@workspace:. must be built because it never has been before or the last one failed\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR fatal: not a git repository (or any parent up to mount point /home)\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2502 @cof/e1-http@workspace:. STDERR Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: \u2514 Completed in 0s 921ms\r\n[2022-07-25T13:36:09.499Z] \u27a4 YN0000: Done with warnings in 1s 394ms\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: caFilePath                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/cache'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cacheKeyOverride              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetBaseRefs             [ 'master', 'origin/master', ... 4 more items ]\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: changesetIgnorePatterns       []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: checksumBehavior              'throw'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: cloneConcurrency              2\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: compressionLevel              'mixed'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: constraintsPath               '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/constraints.pro'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultLanguageName           'node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultProtocol               'npm:'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: defaultSemverRangePrefix      '^'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableColors                  false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableGlobalCache             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableHyperlinks              false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableCache          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableImmutableInstalls       true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineBuilds            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableInlineHunks             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMessageNames            true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableMirror                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableNetwork                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableProgressBars            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableScripts                 true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSettings          true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableStrictSsl               false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTelemetry               true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTimers                  true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: enableTransparentWorkspaces   true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: globalFolder                  '/home/git/.yarn/berry'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpProxy                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpRetry                     3\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpTimeout                   60000\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsCertFilePath             null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsKeyFilePath              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: httpsProxy                    null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignoreCwd                     false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: ignorePath                    false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: immutablePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initEditorConfig              Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initFields                    Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: initScope                     null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: installStatePath              '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/install-state.gz'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lastUpdateCheck               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: lockfileFilename              'yarn.lock'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: logFilters                    []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkConcurrency            50\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: networkSettings               Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmHoistingLimits              'none'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmMode                        'classic'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nmSelfReferences              true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: nodeLinker                    'pnp'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAlwaysAuth                 false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuditRegistry              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthIdent                  '********'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmAuthToken                  null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishAccess              null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmPublishRegistry            null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistries                 Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmRegistryServer             'https://artifactory.cloud.our.company.com443/artifactory/api/npm/npm-internalfacing/'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: npmScopes                     Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: packageExtensions             Map(0) {}\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: patchFolder                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/patches'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpDataPath                   '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.pnp.data.json'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableEsmLoader            false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpEnableInlining             true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpFallbackMode               'dependencies-only'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpIgnorePatterns             []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpMode                       'strict'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpShebang                    '#!/usr/bin/env node'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: pnpUnpluggedFolder            '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/unplugged'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferAggregateCacheInfo      true\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferInteractive             false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: preferTruncatedLines          false\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: progressBarStyle              undefined\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: rcFilename                    '.yarnrc.yml'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: supportedArchitectures        Map(3) { 'os' => [ 'current' ], 'cpu' => [ 'current' ], 'libc' => [ 'current' ] }\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryInterval             7\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: telemetryUserId               null\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: unsafeHttpWhitelist           []\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: virtualFolder                 '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/__virtual__'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: yarnPath                      '/home/git/workspace/gie_ExceptionsOne_E1-Http_master/.yarn/releases/yarn-3.2.1.cjs'\r\n[2022-07-25T13:36:10.573Z] \u27a4 YN0000: Done in 0s 7ms\r\n```",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1225928901",
                "html_url": "https://github.com/yarnpkg/berry/issues/4661#issuecomment-1225928901",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4661",
                "id": 1225928901,
                "node_id": "IC_kwDOCNXKfM5JEjDF",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-24T16:04:57Z",
                "updated_at": "2022-08-24T16:04:57Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1225928901/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-24T16:04:58Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23572224100",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4658",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4658",
                "id": 1315732431,
                "node_id": "I_kwDOCNXKfM5ObHvP",
                "number": 4658,
                "title": "[Bug?]: Yarn doesn't use Node found first in PATH",
                "user": {
                    "login": "RobbieMcKinstry",
                    "id": 4955075,
                    "node_id": "MDQ6VXNlcjQ5NTUwNzU=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4955075?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/RobbieMcKinstry",
                    "html_url": "https://github.com/RobbieMcKinstry",
                    "followers_url": "https://api.github.com/users/RobbieMcKinstry/followers",
                    "following_url": "https://api.github.com/users/RobbieMcKinstry/following{/other_user}",
                    "gists_url": "https://api.github.com/users/RobbieMcKinstry/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/RobbieMcKinstry/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/RobbieMcKinstry/subscriptions",
                    "organizations_url": "https://api.github.com/users/RobbieMcKinstry/orgs",
                    "repos_url": "https://api.github.com/users/RobbieMcKinstry/repos",
                    "events_url": "https://api.github.com/users/RobbieMcKinstry/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/RobbieMcKinstry/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-23T19:42:17Z",
                "updated_at": "2022-08-22T20:04:41Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\n`yarn node` is using a surprising version of Node. I'm not sure where or when this version was even installed, but it certainly defies my expectations about which version is active. I also can't find a way to change the version used by Yarn, or any documentation of how the executable is selected.\r\n\r\n```bash\r\n$ yarn --version\r\n3.2.2\r\n$ yarn node --version\r\nv16.13.0\r\n$ node --version\r\nv18.6.0\r\n$ which node\r\n/Users/robbiemckinstry/.volta/bin/node\r\n$ /Users/robbiemckinstry/.volta/bin/node --version\r\nv18.6.0\r\n$ yarn config | grep 'node'\r\n\u27a4 YN0000: defaultLanguageName           'node'\r\n\u27a4 YN0000: nodeLinker                    'pnp'\r\n\u27a4 YN0000: pnpShebang                    '#!/usr/bin/env node'\r\n$ /usr/bin/env node --version\r\nv18.6.0\r\n$ stat /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-2b580fed/node\r\nstat: /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-e4f51516/node: stat: No such file or directory\r\n```\r\n\r\n### To reproduce\r\n\r\n```bash repro\r\n# Install Node with Volta.\r\n$ curl https://get.volta.sh | bash\r\n$ volta install node@18.6.0\r\n$ node --version\r\n# Install Yarn \r\n$ corepack enable\r\n$ corepack prepare yarn@3.2.2 --activate\r\n# Add Engine version to package.json\r\n$ cat package.json\r\n{\r\n  \"name\": \"tailwindui-saas\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"dev\": \"next dev\",\r\n    \"build\": \"next build\",\r\n    \"start\": \"next start\",\r\n    \"lint\": \"next lint\"\r\n  },\r\n  \"browserslist\": \"defaults, not ie <= 11\",\r\n  \"dependencies\": {\r\n    \"@headlessui/react\": \"^1.6.5\",\r\n    \"@tailwindcss/forms\": \"^0.5.2\",\r\n    \"autoprefixer\": \"^10.4.7\",\r\n    \"clsx\": \"^1.2.0\",\r\n    \"focus-visible\": \"^5.2.0\",\r\n    \"next\": \"12.2.0\",\r\n    \"postcss\": \"^8.4.14\",\r\n    \"postcss-focus-visible\": \"^6.0.4\",\r\n    \"react\": \"18.2.0\",\r\n    \"react-dom\": \"18.2.0\",\r\n    \"tailwindcss\": \"^3.1.4\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"eslint\": \"8.19.0\",\r\n    \"eslint-config-next\": \"12.2.0\",\r\n    \"prettier\": \"^2.7.1\",\r\n    \"prettier-plugin-tailwindcss\": \"^0.1.11\"\r\n  },\r\n  \"engines\": {\r\n    \"node\": \"18.6.0\",\r\n    \"yarn\": \"3.2.2\"\r\n  },\r\n  \"volta\": {\r\n    \"node\": \"18.6.0\"\r\n  }\r\n}\r\n# Inspect Yarn Version\r\n$ yarn node --version\r\nv16.13.0\r\n$ node --version\r\nv18.6.0\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.13.0 - /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-2b580fed/node\r\n    Yarn: 3.2.2 - /private/var/folders/wl/lpr944fn02v7lhmr6gjjclx00000gn/T/xfs-2b580fed/yarn\r\n    npm: 8.6.0 - ~/.volta/tools/image/npm/8.6.0/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThis issue is tangentially related to https://github.com/yarnpkg/berry/issues/1177\r\nI would expect `yarn node` to use the node version provided in the `engine.node` field of `package.json`, or to throw a warning if the version it's using does not match. ",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1222894339",
                "html_url": "https://github.com/yarnpkg/berry/issues/4658#issuecomment-1222894339",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4658",
                "id": 1222894339,
                "node_id": "IC_kwDOCNXKfM5I4-MD",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-22T20:04:41Z",
                "updated_at": "2022-08-22T20:04:41Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1222894339/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-22T20:04:42Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23552154327",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4657",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4657",
                "id": 1315483371,
                "node_id": "I_kwDOCNXKfM5OaK7r",
                "number": 4657,
                "title": "[Bug?]: missing description YN0033",
                "user": {
                    "login": "xenoterracide",
                    "id": 5517,
                    "node_id": "MDQ6VXNlcjU1MTc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5517?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/xenoterracide",
                    "html_url": "https://github.com/xenoterracide",
                    "followers_url": "https://api.github.com/users/xenoterracide/followers",
                    "following_url": "https://api.github.com/users/xenoterracide/following{/other_user}",
                    "gists_url": "https://api.github.com/users/xenoterracide/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/xenoterracide/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/xenoterracide/subscriptions",
                    "organizations_url": "https://api.github.com/users/xenoterracide/orgs",
                    "repos_url": "https://api.github.com/users/xenoterracide/repos",
                    "events_url": "https://api.github.com/users/xenoterracide/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/xenoterracide/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-22T23:15:57Z",
                "updated_at": "2022-08-22T00:20:58Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nmissing help description\n\n### To reproduce\n\n```\r\n\u276f yarn explain YN0033\r\n\u2501\u2501\u2501 YN0033 - AUTHENTICATION_NOT_FOUND \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\r\n\r\nThis error code does not have a description.\r\n\r\nYou can help us by editing this page on GitHub \ud83d\ude42:\r\nhttps://github.com/yarnpkg/berry/blob/master/packages/gatsby/content/advanced/error-codes.md\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 11.6.6\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 16.14.2 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-4dfebc17/node\r\n    Yarn: 3.2.1 - /private/var/folders/xk/s3n8ww014pzbx2sn30ctz7000000gq/T/xfs-4dfebc17/yarn\r\n    npm: 8.6.0 - ~/.asdf/plugins/nodejs/shims/npm\r\n```\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221655192",
                "html_url": "https://github.com/yarnpkg/berry/issues/4657#issuecomment-1221655192",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4657",
                "id": 1221655192,
                "node_id": "IC_kwDOCNXKfM5I0PqY",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-22T00:20:58Z",
                "updated_at": "2022-08-22T00:20:58Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221655192/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-22T00:20:58Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23542451359",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4653",
                "id": 1313436896,
                "node_id": "I_kwDOCNXKfM5OSXTg",
                "number": 4653,
                "title": "[Bug?]: yarn does not taken into account peerDependenciesMeta.optional",
                "user": {
                    "login": "blephy",
                    "id": 24233935,
                    "node_id": "MDQ6VXNlcjI0MjMzOTM1",
                    "avatar_url": "https://avatars.githubusercontent.com/u/24233935?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/blephy",
                    "html_url": "https://github.com/blephy",
                    "followers_url": "https://api.github.com/users/blephy/followers",
                    "following_url": "https://api.github.com/users/blephy/following{/other_user}",
                    "gists_url": "https://api.github.com/users/blephy/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/blephy/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/blephy/subscriptions",
                    "organizations_url": "https://api.github.com/users/blephy/orgs",
                    "repos_url": "https://api.github.com/users/blephy/repos",
                    "events_url": "https://api.github.com/users/blephy/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/blephy/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-21T15:25:41Z",
                "updated_at": "2022-08-20T16:04:44Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nImagine a library named `lib-a`, published on a registry. This library have this manifest : \r\n\r\n```jsonc\r\n{\r\n  // ...\r\n\"peerDependencies\": {\r\n    \"eslint-plugin-react\": \"2.0.0\"\r\n  },\r\n  \"peerDependenciesMeta\": {\r\n    \"eslint-plugin-react\": {\r\n      \"optional\": true\r\n    }\r\n  },\r\n  // ...\r\n}\r\n```\r\n\r\nWhen a package install `lib-a` without providing `eslint-plugin-react`, yarn produce a warning message \r\n\r\n```bash\r\n\u27a4 YN0002: \u2502 toto@workspace:. doesn't provide eslint-plugin-react (p61f53), requested by lib-a\r\n```\r\n\r\nyarn berry 3.2.1\r\n\r\n### To reproduce\r\n\r\nThis is not a complicated step to check :)\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (8) arm64 Apple M1\r\n  Binaries:\r\n    Node: 14.19.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/node\r\n    Yarn: 3.2.1 - /private/var/folders/1f/d9r35kjs4l1bx93x8h1f35100000gp/T/xfs-eb187eb2/yarn\r\n    npm: 6.14.16 - ~/.nvm/versions/node/v14.19.1/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221355896",
                "html_url": "https://github.com/yarnpkg/berry/issues/4653#issuecomment-1221355896",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4653",
                "id": 1221355896,
                "node_id": "IC_kwDOCNXKfM5IzGl4",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-20T16:04:44Z",
                "updated_at": "2022-08-20T16:04:44Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221355896/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-20T16:04:44Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23540186993",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4652",
                "id": 1312878267,
                "node_id": "I_kwDOCNXKfM5OQO67",
                "number": 4652,
                "title": "[Bug?]: Required package missing from disk when using pnp with canary yarn",
                "user": {
                    "login": "simPod",
                    "id": 327717,
                    "node_id": "MDQ6VXNlcjMyNzcxNw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/327717?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/simPod",
                    "html_url": "https://github.com/simPod",
                    "followers_url": "https://api.github.com/users/simPod/followers",
                    "following_url": "https://api.github.com/users/simPod/following{/other_user}",
                    "gists_url": "https://api.github.com/users/simPod/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/simPod/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/simPod/subscriptions",
                    "organizations_url": "https://api.github.com/users/simPod/orgs",
                    "repos_url": "https://api.github.com/users/simPod/repos",
                    "events_url": "https://api.github.com/users/simPod/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/simPod/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 0,
                "created_at": "2022-07-21T08:28:46Z",
                "updated_at": "2022-08-20T09:04:26Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nI tried running canary (4.0.0-rc.13)\r\n\r\nand getting \r\n\r\n```\r\n/builds/projects/project1/124325/.pnp.cjs:31452\r\n  return Object.defineProperties(new Error(message), {\r\n                                 ^\r\nError: Required package missing from disk. If you keep your packages inside your repository then restarting the Node process may be enough. Otherwise, try to run an install first.\r\nMissing package: prettier@npm:2.7.1\r\n\r\nExpected package location: /root/.yarn/berry/cache/prettier-npm-2.7.1-d1f40f5e1a-9.zip/node_modules/prettier/\r\n    at makeError (/builds/projects/project1/124325/.pnp.cjs:31452:34)\r\n    at resolveUnqualified (/builds/projects/project1/124325/.pnp.cjs:32441:17)\r\n    at resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32464:14)\r\n    at Object.resolveRequest (/builds/projects/project1/124325/.pnp.cjs:32520:26)\r\n    at resolve$1 (file:///builds/projects/project1/124325/.pnp.loader.mjs:221:25)\r\n    at ESMLoader.resolve (node:internal/modules/esm/loader:604:30)\r\n    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:318:18)\r\n    at ESMLoader.import (node:internal/modules/esm/loader:[40](https://gitlab.domain.sth/path/project1/-/jobs/1349330#L40)4:22)\r\n    at node:internal/modules/run_main:54:28\r\n    at loadESM (node:internal/process/esm_loader:85:11)\r\n```\r\n\r\nwhen trying to run any binary via yarn\r\n\r\n### To reproduce\r\n\r\n<details>\r\n\r\nI fail to reproduce it locally on\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.4\r\n    CPU: (10) arm64 Apple M1 Max\r\n  Binaries:\r\n    Node: 18.0.0 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/node\r\n    Yarn: 4.0.0-rc.13 - /private/var/folders/11/2hy99kxj3tz2gtv5khgnt2y80000gn/T/xfs-f4972595/yarn\r\n    npm: 8.6.0 - /opt/homebrew/bin/npm\r\n```\r\n\r\n</details>\r\n\r\nThis is the command sequence I'm trying\r\n```\r\n\tyarn cache clean --all\r\n\tyarn install --immutable\r\n\tyarn bin // this outputs binaries like prettier properly\r\n```\r\n\r\nbut then trying to run\r\n\r\n```sh\r\nyarn run prettier --list-different \"**/*.{graphql,json,md,yml,yaml}\"\r\n```\r\n\r\ngives the error above\r\n\r\n### Environment\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 17.9.0 - /tmp/xfs-1be9c540/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-1be9c540/yarn\r\n    npm: 8.5.5 - ~/.nvm/versions/node/v17.9.0/bin/npm\r\n```\r\n\r\n```\r\n  System:\r\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\r\n    CPU: (40) x64 Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 18.6.0 - /tmp/xfs-a0a6cc2b/node\r\n    Yarn: 4.0.0-rc.13 - /tmp/xfs-a0a6cc2b/yarn\r\n    npm: 8.13.2 - ~/.nvm/versions/node/v18.6.0/bin/npm\r\n```\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/reactions",
                    "total_count": 1,
                    "+1": 1,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221262936",
                "html_url": "https://github.com/yarnpkg/berry/issues/4652#issuecomment-1221262936",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4652",
                "id": 1221262936,
                "node_id": "IC_kwDOCNXKfM5Iyv5Y",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-20T09:04:26Z",
                "updated_at": "2022-08-20T09:04:26Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1221262936/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-20T09:04:26Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23494701553",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4623",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4623",
                "id": 1303939014,
                "node_id": "I_kwDOCNXKfM5NuIfG",
                "number": 4623,
                "title": "[Bug?]: Vulnerability introduced through `parse-path` transitive dependency",
                "user": {
                    "login": "mhassan1",
                    "id": 8029107,
                    "node_id": "MDQ6VXNlcjgwMjkxMDc=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/8029107?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/mhassan1",
                    "html_url": "https://github.com/mhassan1",
                    "followers_url": "https://api.github.com/users/mhassan1/followers",
                    "following_url": "https://api.github.com/users/mhassan1/following{/other_user}",
                    "gists_url": "https://api.github.com/users/mhassan1/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/mhassan1/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/mhassan1/subscriptions",
                    "organizations_url": "https://api.github.com/users/mhassan1/orgs",
                    "repos_url": "https://api.github.com/users/mhassan1/repos",
                    "events_url": "https://api.github.com/users/mhassan1/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/mhassan1/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-07-13T20:58:32Z",
                "updated_at": "2022-08-17T23:05:00Z",
                "closed_at": null,
                "author_association": "CONTRIBUTOR",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\n`parse-path@4` is vulnerable to [Authorization Bypass](https://security.snyk.io/vuln/SNYK-JS-PARSEPATH-2936439), and `@yarnpkg/plugin-git` has a [transitive dependency](https://snyk.io/test/npm/%40yarnpkg/plugin-git/3.0.0-rc.11) on it, via its dependency on `git-url-parse@11`. This can be resolved by upgrading to `git-url-parse@12`.\n\n### To reproduce\n\n```js repro\r\nconst { promises: { readFile } } = require('fs')\r\nawait packageJsonAndInstall({\r\n  dependencies: {\r\n    '@yarnpkg/plugin-git': '3.0.0-rc.12'\r\n  }\r\n})\r\nexpect(await readFile('yarn.lock', 'utf8')).not.toContain('parse-path@npm:4')\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 12.4\r\n  CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\nBinaries:\r\n  Node: 16.14.2 - /private/var/folders/82/cn2lb31s5hd572v7x5wkc1vc0000gq/T/xfs-89ab454f/node\r\n  Yarn: 4.0.0-rc.7-dev - /private/var/folders/82/cn2lb31s5hd572v7x5wkc1vc0000gq/T/xfs-89ab454f/yarn\r\n  npm: 8.9.0 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218598317",
                "html_url": "https://github.com/yarnpkg/berry/issues/4623#issuecomment-1218598317",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4623",
                "id": 1218598317,
                "node_id": "IC_kwDOCNXKfM5IolWt",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-17T23:04:59Z",
                "updated_at": "2022-08-17T23:04:59Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218598317/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-17T23:05:00Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23493255175",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4580",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4580",
                "id": 1284707853,
                "node_id": "I_kwDOCNXKfM5MkxYN",
                "number": 4580,
                "title": "[Bug?]: `yarn upgrade-interactive` incorrectly parses aliased packages",
                "user": {
                    "login": "kkirsche",
                    "id": 947110,
                    "node_id": "MDQ6VXNlcjk0NzExMA==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/947110?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/kkirsche",
                    "html_url": "https://github.com/kkirsche",
                    "followers_url": "https://api.github.com/users/kkirsche/followers",
                    "following_url": "https://api.github.com/users/kkirsche/following{/other_user}",
                    "gists_url": "https://api.github.com/users/kkirsche/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/kkirsche/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/kkirsche/subscriptions",
                    "organizations_url": "https://api.github.com/users/kkirsche/orgs",
                    "repos_url": "https://api.github.com/users/kkirsche/repos",
                    "events_url": "https://api.github.com/users/kkirsche/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/kkirsche/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-06-25T20:34:17Z",
                "updated_at": "2022-08-17T21:04:46Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\n`yarn upgrade-interactive` incorrectly parses aliased packages\n\n### To reproduce\n\nSorry, I don't know how to do an interactive plugin reproduction via Sherlock, so I put together a git repo with the minimal code:\r\n\r\nhttps://github.com/kkirsche/yarn-issue-repro\r\n\r\nThis includes an image of the actual output\r\n\r\nTo reproduce:\r\n```\r\ngit clone https://github.com/kkirsche/yarn-issue-repro.git\r\ncd yarn-issue-repro\r\nyarn install\r\nyarn upgrade-interactive\r\n```\r\n\r\nThis is using the following package.json:\r\n\r\n```js\r\n{\r\n  \"dependencies\": {\r\n    \"buffer\": \"npm:buffer-browserify@^0.2.5\"\r\n  },\r\n  \"packageManager\": \"yarn@3.2.1\"\r\n}\r\n```\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.4\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/62/793fz95j5856gz_3gz6yrlv80000gq/T/xfs-99a9dab4/node\r\n    Yarn: 3.2.1 - /private/var/folders/62/793fz95j5856gz_3gz6yrlv80000gq/T/xfs-99a9dab4/yarn\r\n    npm: 8.13.1 - ~/.asdf/plugins/nodejs/shims/npm\n```\n\n\n### Additional context\n\n![CleanShot 2022-06-25 at 16 30 27@2x](https://user-images.githubusercontent.com/947110/175789722-9537a2ab-d29b-4ef9-a106-976ae5c8111b.png)\r\n",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218489225",
                "html_url": "https://github.com/yarnpkg/berry/issues/4580#issuecomment-1218489225",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4580",
                "id": 1218489225,
                "node_id": "IC_kwDOCNXKfM5IoKuJ",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-17T21:04:46Z",
                "updated_at": "2022-08-17T21:04:46Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1218489225/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-17T21:04:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23489424087",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4622",
                "id": 1302633000,
                "node_id": "I_kwDOCNXKfM5NpJoo",
                "number": 4622,
                "title": "[Bug?]: `yarn workspaces list` shows folder names, not workspace names",
                "user": {
                    "login": "jbzcooper",
                    "id": 5839966,
                    "node_id": "MDQ6VXNlcjU4Mzk5NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5839966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jbzcooper",
                    "html_url": "https://github.com/jbzcooper",
                    "followers_url": "https://api.github.com/users/jbzcooper/followers",
                    "following_url": "https://api.github.com/users/jbzcooper/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jbzcooper/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jbzcooper/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jbzcooper/subscriptions",
                    "organizations_url": "https://api.github.com/users/jbzcooper/orgs",
                    "repos_url": "https://api.github.com/users/jbzcooper/repos",
                    "events_url": "https://api.github.com/users/jbzcooper/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jbzcooper/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-12T21:18:45Z",
                "updated_at": "2022-08-17T17:09:59Z",
                "closed_at": "2022-08-17T17:09:59Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nGiven a yarn workspace setup where the package names are different from the folder's they are in\r\nWhen a user enters the `yarn workspaces list` command\r\nThen we expect the workspace names to be returned.\r\n\r\nActual result: the folder names are returned.\n\n### To reproduce\n\n1. Create a new yarn project following these instructions https://classic.yarnpkg.com/lang/en/docs/workspaces/\r\n2. In the `workspace-a` folder, modify the `name` property of the package.json file to: \"a-workspace\"\r\n3. At the command prompt enter: `yarn workspaces list`\r\n\r\nExpected result:\r\na-workspace\r\nworkspace-b\r\n\r\nActual result:\r\nworkspace-a\r\nworkspace b\n\n### Environment\n\n```shell\nSystem:\r\n1. Zorin OS 16 (5.13.0-52-generic 20.04.1-Ubuntu)\r\n2. Windows 10.0.19044\r\nBinaries:\r\nmachine: /home/xxx/.nvm/versions/node/v16.13.0/bin/yarn version 1.22.15\r\nproject: <proj folder>/.yarn/yarn-3.2.1.cjs\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-17T17:09:59Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23410681260",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4622",
                "id": 1302633000,
                "node_id": "I_kwDOCNXKfM5NpJoo",
                "number": 4622,
                "title": "[Bug?]: `yarn workspaces list` shows folder names, not workspace names",
                "user": {
                    "login": "jbzcooper",
                    "id": 5839966,
                    "node_id": "MDQ6VXNlcjU4Mzk5NjY=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/5839966?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/jbzcooper",
                    "html_url": "https://github.com/jbzcooper",
                    "followers_url": "https://api.github.com/users/jbzcooper/followers",
                    "following_url": "https://api.github.com/users/jbzcooper/following{/other_user}",
                    "gists_url": "https://api.github.com/users/jbzcooper/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/jbzcooper/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/jbzcooper/subscriptions",
                    "organizations_url": "https://api.github.com/users/jbzcooper/orgs",
                    "repos_url": "https://api.github.com/users/jbzcooper/repos",
                    "events_url": "https://api.github.com/users/jbzcooper/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/jbzcooper/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 5,
                "created_at": "2022-07-12T21:18:45Z",
                "updated_at": "2022-08-12T17:09:25Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nGiven a yarn workspace setup where the package names are different from the folder's they are in\r\nWhen a user enters the `yarn workspaces list` command\r\nThen we expect the workspace names to be returned.\r\n\r\nActual result: the folder names are returned.\n\n### To reproduce\n\n1. Create a new yarn project following these instructions https://classic.yarnpkg.com/lang/en/docs/workspaces/\r\n2. In the `workspace-a` folder, modify the `name` property of the package.json file to: \"a-workspace\"\r\n3. At the command prompt enter: `yarn workspaces list`\r\n\r\nExpected result:\r\na-workspace\r\nworkspace-b\r\n\r\nActual result:\r\nworkspace-a\r\nworkspace b\n\n### Environment\n\n```shell\nSystem:\r\n1. Zorin OS 16 (5.13.0-52-generic 20.04.1-Ubuntu)\r\n2. Windows 10.0.19044\r\nBinaries:\r\nmachine: /home/xxx/.nvm/versions/node/v16.13.0/bin/yarn version 1.22.15\r\nproject: <proj folder>/.yarn/yarn-3.2.1.cjs\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1213335261",
                "html_url": "https://github.com/yarnpkg/berry/issues/4622#issuecomment-1213335261",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4622",
                "id": 1213335261,
                "node_id": "IC_kwDOCNXKfM5IUgbd",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-12T17:09:25Z",
                "updated_at": "2022-08-12T17:09:25Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1213335261/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-12T17:09:25Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23409658431",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4613",
                "id": 1299141818,
                "node_id": "I_kwDOCNXKfM5Nb1S6",
                "number": 4613,
                "title": "[Bug?]: .pnp.cjs priority issue",
                "user": {
                    "login": "qkrdmstlr3",
                    "id": 26402298,
                    "node_id": "MDQ6VXNlcjI2NDAyMjk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/26402298?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/qkrdmstlr3",
                    "html_url": "https://github.com/qkrdmstlr3",
                    "followers_url": "https://api.github.com/users/qkrdmstlr3/followers",
                    "following_url": "https://api.github.com/users/qkrdmstlr3/following{/other_user}",
                    "gists_url": "https://api.github.com/users/qkrdmstlr3/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/qkrdmstlr3/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/qkrdmstlr3/subscriptions",
                    "organizations_url": "https://api.github.com/users/qkrdmstlr3/orgs",
                    "repos_url": "https://api.github.com/users/qkrdmstlr3/repos",
                    "events_url": "https://api.github.com/users/qkrdmstlr3/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/qkrdmstlr3/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-08T15:07:00Z",
                "updated_at": "2022-08-12T16:05:05Z",
                "closed_at": "2022-08-12T16:05:05Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nHello. this is my first issue to opensource!\r\nThis is the folder structure that reproduces the problem situation.\r\n```\r\nhome\r\n\u3134 .yarn\r\n\u3134 folder_1\r\n    \u3134 .yarn\r\n    \u3134 folder_2\r\n        \u3134 index.ts\r\n        \u3134 package.json\r\n    \u3134 .pnp.cjs\r\n    \u3134 .pnp.loader.mjs\r\n    \u3134 .yarnrc.yml\r\n    \u3134 packagejson\r\n\u3134 .pnp.cjs\r\n```\r\nThe `folder_1` is managed as a monorepo and zero install using `pnp`.\r\nI ran the `yarn build` command in folder 2 (index.ts called installed library with `yarn`).\r\nThen following error was occured(home directory name is shell).\r\n<img width=\"472\" alt=\"\u1109\u1173\u110f\u1173\u1105\u1175\u11ab\u1109\u1163\u11ba 2022-07-08 \u110b\u1169\u1112\u116e 11 43 24\" src=\"https://user-images.githubusercontent.com/26402298/178015060-ef3615c1-ab46-48d2-86c0-39cc9377a092.png\">\r\nI didn't know what the error was at first.\r\nBut later I realized that `home/.pnp.cjs` was called and not `home/folder_1/.pnp.cjs`.\r\nBecause library which is used in index.ts is installed in `home/folder_1/.yarn/.cache`, .pnp.cjs couldn't find zip file in `home/.yarn/.cache`\r\nIt seems to run `.pnp.cjs`, which is located at the top, going back up from where I ran `yarn build`.\r\nI think that unconditionally executing the .pnp.cjs call above the parent can be a problem, what do you think?\r\n**If there is no problem, I think the error message should be more detailed.**\r\nThanks for listening to my opinion! Have a good day!\n\n### To reproduce\n\nProject is monorepo\r\nThere is .pnp.cjs outside of monorepo\r\nInstall the library with zero install from the monorepo and run it with the `yarn command`.\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 11.2.3\r\n  CPU: 2.3 GHz 8core Intel Core i9\r\nBinaries:\r\n  Yarn: 3.2.1\r\n  Node: 18.4.0\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-12T16:05:06Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23389104223",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4548",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4548",
                "id": 1271353715,
                "node_id": "I_kwDOCNXKfM5Lx1Fz",
                "number": 4548,
                "title": "[Bug?]: `yarn version` fails on CI (GitHub Actions)",
                "user": {
                    "login": "marcofugaro",
                    "id": 7217420,
                    "node_id": "MDQ6VXNlcjcyMTc0MjA=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/7217420?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/marcofugaro",
                    "html_url": "https://github.com/marcofugaro",
                    "followers_url": "https://api.github.com/users/marcofugaro/followers",
                    "following_url": "https://api.github.com/users/marcofugaro/following{/other_user}",
                    "gists_url": "https://api.github.com/users/marcofugaro/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/marcofugaro/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/marcofugaro/subscriptions",
                    "organizations_url": "https://api.github.com/users/marcofugaro/orgs",
                    "repos_url": "https://api.github.com/users/marcofugaro/repos",
                    "events_url": "https://api.github.com/users/marcofugaro/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/marcofugaro/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-06-14T20:52:08Z",
                "updated_at": "2022-08-11T16:04:45Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nI am trying to use the [yarn version](https://yarnpkg.com/cli/version) command on GitHub Actions.\r\n\r\nHowever it does not seem to work, this is the error:\r\n\r\n<img width=\"684\" alt=\"image\" src=\"https://user-images.githubusercontent.com/7217420/173685193-c9a54a0f-576b-4c08-a0e7-a2a6db16b1f8.png\">\r\n\r\n```\r\nNo ancestor could be found between any of HEAD and master, origin/master, upstream/master, main, origin/main, upstream/main\r\n```\r\n\r\nI am using the standard `actions/checkout@v2` to checkout the repo on GitHub Actions.\r\nThe branch where I trigger the action is the `dev` branch. So a custom one. Why `yarn version` only needs master/main branch?\n\n### To reproduce\n\n```yaml\r\non:\r\n  push:\r\n\r\njobs:\r\n  update-version:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - name: Check out repo\r\n        uses: actions/checkout@v2\r\n\r\n      - name: Set the version of package.json\r\n        run: yarn version 2.0.0\r\n```\n\n### Environment\n\n```shell\nGithub Actions\n```\n\n\n### Additional context\n\nI am using this to make a bot that auto-updates the package.json version wired to our internal semantic release system.",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1212189797",
                "html_url": "https://github.com/yarnpkg/berry/issues/4548#issuecomment-1212189797",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4548",
                "id": 1212189797,
                "node_id": "IC_kwDOCNXKfM5IQIxl",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-11T16:04:45Z",
                "updated_at": "2022-08-11T16:04:45Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1212189797/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-11T16:04:46Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23386373629",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4611",
                "id": 1297013896,
                "node_id": "I_kwDOCNXKfM5NTtyI",
                "number": 4611,
                "title": "[Bug]: yarn workspaces focus doesn't work with pnpm linker ",
                "user": {
                    "login": "entropitor",
                    "id": 896093,
                    "node_id": "MDQ6VXNlcjg5NjA5Mw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/896093?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/entropitor",
                    "html_url": "https://github.com/entropitor",
                    "followers_url": "https://api.github.com/users/entropitor/followers",
                    "following_url": "https://api.github.com/users/entropitor/following{/other_user}",
                    "gists_url": "https://api.github.com/users/entropitor/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/entropitor/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/entropitor/subscriptions",
                    "organizations_url": "https://api.github.com/users/entropitor/orgs",
                    "repos_url": "https://api.github.com/users/entropitor/repos",
                    "events_url": "https://api.github.com/users/entropitor/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/entropitor/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 3,
                "created_at": "2022-07-07T08:21:50Z",
                "updated_at": "2022-08-11T14:04:34Z",
                "closed_at": "2022-08-11T14:04:34Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen you install using `yarn workspaces focus` and `pnpm` as nodeLinker, the packages you focussed are not in `node_modules` in the root. \n\n### To reproduce\n\nSet-up a mono-repo and install using `yarn workspaces focus` and inspect `node_modules` at the root, it's empty.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Alpine Linux\r\n    CPU: (5) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 12.22.0 - /tmp/xfs-ade9017b/node\r\n    Yarn: 3.2.1 - /tmp/xfs-ade9017b/yarn\r\n    npm: 6.14.11 - /usr/local/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-11T14:04:35Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23355583970",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4607",
                "id": 1295234810,
                "node_id": "I_kwDOCNXKfM5NM7b6",
                "number": 4607,
                "title": "[Bug?]: Adding devDependencies cause other dependencies to be duplicated in PnP mode",
                "user": {
                    "login": "smeng9",
                    "id": 38666763,
                    "node_id": "MDQ6VXNlcjM4NjY2NzYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/38666763?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/smeng9",
                    "html_url": "https://github.com/smeng9",
                    "followers_url": "https://api.github.com/users/smeng9/followers",
                    "following_url": "https://api.github.com/users/smeng9/following{/other_user}",
                    "gists_url": "https://api.github.com/users/smeng9/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/smeng9/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/smeng9/subscriptions",
                    "organizations_url": "https://api.github.com/users/smeng9/orgs",
                    "repos_url": "https://api.github.com/users/smeng9/repos",
                    "events_url": "https://api.github.com/users/smeng9/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/smeng9/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-06T06:18:32Z",
                "updated_at": "2022-08-10T07:04:42Z",
                "closed_at": "2022-08-10T07:04:42Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen adding @babel/core as devDependencies (I have some other scripts depend on this) to the repo here https://github.com/smeng9/vite-dup-package/tree/no-warning , it causes @emotion/react to be duplicated package and produce warnings https://github.com/smeng9/vite-dup-package/tree/main .\r\n\r\n![duplicate](https://user-images.githubusercontent.com/38666763/177479152-6c5ea998-69a2-4307-8deb-7957994eaacd.PNG)\r\n\r\nThe yarn.lock file does not have any duplicate package, but pnp.cjs file has duplicate package, which should not happen. The issue only happens in PnP mode, non-pnp mode using nodeLinker: node-modules does not have the issue.\r\n\r\n### To reproduce\r\n\r\nTo reproduce, clone https://github.com/smeng9/vite-dup-package and checkout branch `no-warning`\r\n\r\nPerform `$ yarn` to install of dependencies using PnP mode. Check generated yarn.lock file and there should be no duplicate @emotion/react packages as they all resolve to same version. Check generated pnp.cjs file, the virtual dependencies for @emotion/react all have the same hash. (you can see no warnings when starting project with `$ yarn dev` then open browser console)\r\n\r\nThen try to install `$ yarn add -D @babel/core` and check generated yarn.lock file and there should be no duplicate @emotion/react package. Check generated pnp.cjs file, the virtual dependencies for @emotion/react have different hashes. Similar as https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L589 and https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L613 . There will be warnings as shown in above image when `$ yarn dev` and open browser console\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Xeon(R) CPU E3-1240 v3 @ 3.40GHz\r\n  Binaries:\r\n    Node: 18.3.0 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\node.CMD\r\n    Yarn: 3.2.1 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\yarn.CMD\r\n    npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-10T07:04:42Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23328877520",
        "type": "IssuesEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "closed",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4602",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4602",
                "id": 1293668754,
                "node_id": "I_kwDOCNXKfM5NG9GS",
                "number": 4602,
                "title": "[Bug?]: 3rd Party Packages Fail to Augment Other 3rd Party Typescript Packages When Using Workspaces",
                "user": {
                    "login": "Alex-Yakubovsky",
                    "id": 4634869,
                    "node_id": "MDQ6VXNlcjQ2MzQ4Njk=",
                    "avatar_url": "https://avatars.githubusercontent.com/u/4634869?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/Alex-Yakubovsky",
                    "html_url": "https://github.com/Alex-Yakubovsky",
                    "followers_url": "https://api.github.com/users/Alex-Yakubovsky/followers",
                    "following_url": "https://api.github.com/users/Alex-Yakubovsky/following{/other_user}",
                    "gists_url": "https://api.github.com/users/Alex-Yakubovsky/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/Alex-Yakubovsky/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/Alex-Yakubovsky/subscriptions",
                    "organizations_url": "https://api.github.com/users/Alex-Yakubovsky/orgs",
                    "repos_url": "https://api.github.com/users/Alex-Yakubovsky/repos",
                    "events_url": "https://api.github.com/users/Alex-Yakubovsky/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/Alex-Yakubovsky/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2124588439,
                        "node_id": "MDU6TGFiZWwyMTI0NTg4NDM5",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/stale",
                        "name": "stale",
                        "color": "dddddd",
                        "default": false,
                        "description": "Issues that didn't get attention"
                    }
                ],
                "state": "closed",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-05T01:04:12Z",
                "updated_at": "2022-08-09T01:37:50Z",
                "closed_at": "2022-08-09T01:37:50Z",
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [X] I'd be willing to implement a fix\n\n### Describe the bug\n\nTypescript allows modules to [augment](https://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation) other Typescript modules. This works as expected when using Berry v3 (with PnP) without workspaces, but interfaces are not merged when using workspaces.\n\n### To reproduce\n\nhttps://yarnpkg.com/playground is giving me a 502 so I'm including a link to a minimal repo instead (hope that's okay): https://github.com/Alex-Yakubovsky/yarn-bug-repo\r\n\r\nInside the repo there are two examples; `happy-path` and `bad-path`. They contain the exact same code, but `bad-path` uses a workspace and `happy-path` does not. In both examples, I use `fastify` and `@fastify/static` as the only two dependencies (no knowledge of `fastify` is needed).  `@fastify/static` augments `fastify`'s `FastifyReply` here: https://github.com/fastify/fastify-static/blob/master/index.d.ts#L8-L17. The expectation is that a fastify instance should now have a `sendFile` method that typescript can pick up on.\r\n\r\nIn `happy-path`, typescript picks up of the `sendFile` method. You can verify by running:\r\n\r\n```bash\r\ncd happy-path\r\nyarn install\r\nyarn tsc --noEmit\r\n```\r\n\r\nIn the `bad-path`, typescript does not pick up on the `sendFile` method. You can verify by running:\r\n\r\n```bash\r\ncd bad-path\r\nyarn install\r\nyarn workspace app-1 tsc --noEmit\r\n```\r\n\r\nand you'll get:\r\n\r\n```\r\napp.ts:10:15 - error TS2339: Property 'sendFile' does not exist on type 'FastifyReply<http.Server, http.IncomingMessage, http.ServerResponse, RouteGenericInterface, unknown, FastifySchema, FastifyTypeProviderDefault, unknown>'.\r\n\r\n10         reply.sendFile('...')\r\n                 ~~~~~~~~\r\n```\r\n\r\nThe code itself is identical.\r\n\n\n### Environment\n\n```shell\nSystem:\r\n    OS: macOS 12.2.1\r\n    CPU: (10) arm64 Apple M1 Pro\r\n  Binaries:\r\n    Node: 16.14.2 - /private/var/folders/4b/04__k99n7_7g7v7lbmlm8bdm0000gn/T/xfs-b6922feb/node\r\n    Yarn: 3.2.1 - /private/var/folders/4b/04__k99n7_7g7v7lbmlm8bdm0000gn/T/xfs-b6922feb/yarn\r\n    npm: 8.9.0 - ~/.nvm/versions/node/v16.14.2/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4602/timeline",
                "performed_via_github_app": null,
                "state_reason": "completed"
            }
        },
        "public": true,
        "created_at": "2022-08-09T01:37:50Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23303048676",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4613",
                "id": 1299141818,
                "node_id": "I_kwDOCNXKfM5Nb1S6",
                "number": 4613,
                "title": "[Bug?]: .pnp.cjs priority issue",
                "user": {
                    "login": "qkrdmstlr3",
                    "id": 26402298,
                    "node_id": "MDQ6VXNlcjI2NDAyMjk4",
                    "avatar_url": "https://avatars.githubusercontent.com/u/26402298?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/qkrdmstlr3",
                    "html_url": "https://github.com/qkrdmstlr3",
                    "followers_url": "https://api.github.com/users/qkrdmstlr3/followers",
                    "following_url": "https://api.github.com/users/qkrdmstlr3/following{/other_user}",
                    "gists_url": "https://api.github.com/users/qkrdmstlr3/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/qkrdmstlr3/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/qkrdmstlr3/subscriptions",
                    "organizations_url": "https://api.github.com/users/qkrdmstlr3/orgs",
                    "repos_url": "https://api.github.com/users/qkrdmstlr3/repos",
                    "events_url": "https://api.github.com/users/qkrdmstlr3/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/qkrdmstlr3/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-08T15:07:00Z",
                "updated_at": "2022-08-07T16:04:44Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nHello. this is my first issue to opensource!\r\nThis is the folder structure that reproduces the problem situation.\r\n```\r\nhome\r\n\u3134 .yarn\r\n\u3134 folder_1\r\n    \u3134 .yarn\r\n    \u3134 folder_2\r\n        \u3134 index.ts\r\n        \u3134 package.json\r\n    \u3134 .pnp.cjs\r\n    \u3134 .pnp.loader.mjs\r\n    \u3134 .yarnrc.yml\r\n    \u3134 packagejson\r\n\u3134 .pnp.cjs\r\n```\r\nThe `folder_1` is managed as a monorepo and zero install using `pnp`.\r\nI ran the `yarn build` command in folder 2 (index.ts called installed library with `yarn`).\r\nThen following error was occured(home directory name is shell).\r\n<img width=\"472\" alt=\"\u1109\u1173\u110f\u1173\u1105\u1175\u11ab\u1109\u1163\u11ba 2022-07-08 \u110b\u1169\u1112\u116e 11 43 24\" src=\"https://user-images.githubusercontent.com/26402298/178015060-ef3615c1-ab46-48d2-86c0-39cc9377a092.png\">\r\nI didn't know what the error was at first.\r\nBut later I realized that `home/.pnp.cjs` was called and not `home/folder_1/.pnp.cjs`.\r\nBecause library which is used in index.ts is installed in `home/folder_1/.yarn/.cache`, .pnp.cjs couldn't find zip file in `home/.yarn/.cache`\r\nIt seems to run `.pnp.cjs`, which is located at the top, going back up from where I ran `yarn build`.\r\nI think that unconditionally executing the .pnp.cjs call above the parent can be a problem, what do you think?\r\n**If there is no problem, I think the error message should be more detailed.**\r\nThanks for listening to my opinion! Have a good day!\n\n### To reproduce\n\nProject is monorepo\r\nThere is .pnp.cjs outside of monorepo\r\nInstall the library with zero install from the monorepo and run it with the `yarn command`.\n\n### Environment\n\n```shell\nSystem:\r\n  OS: macOS 11.2.3\r\n  CPU: 2.3 GHz 8core Intel Core i9\r\nBinaries:\r\n  Yarn: 3.2.1\r\n  Node: 18.4.0\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207438224",
                "html_url": "https://github.com/yarnpkg/berry/issues/4613#issuecomment-1207438224",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4613",
                "id": 1207438224,
                "node_id": "IC_kwDOCNXKfM5H-AuQ",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-07T16:04:44Z",
                "updated_at": "2022-08-07T16:04:44Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207438224/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-07T16:04:44Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23295546824",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4611",
                "id": 1297013896,
                "node_id": "I_kwDOCNXKfM5NTtyI",
                "number": 4611,
                "title": "[Bug]: yarn workspaces focus doesn't work with pnpm linker ",
                "user": {
                    "login": "entropitor",
                    "id": 896093,
                    "node_id": "MDQ6VXNlcjg5NjA5Mw==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/896093?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/entropitor",
                    "html_url": "https://github.com/entropitor",
                    "followers_url": "https://api.github.com/users/entropitor/followers",
                    "following_url": "https://api.github.com/users/entropitor/following{/other_user}",
                    "gists_url": "https://api.github.com/users/entropitor/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/entropitor/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/entropitor/subscriptions",
                    "organizations_url": "https://api.github.com/users/entropitor/orgs",
                    "repos_url": "https://api.github.com/users/entropitor/repos",
                    "events_url": "https://api.github.com/users/entropitor/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/entropitor/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    },
                    {
                        "id": 2326165972,
                        "node_id": "MDU6TGFiZWwyMzI2MTY1OTcy",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/waiting%20for%20feedback",
                        "name": "waiting for feedback",
                        "color": "1ac969",
                        "default": false,
                        "description": "Will autoclose in a while unless more data are provided"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 2,
                "created_at": "2022-07-07T08:21:50Z",
                "updated_at": "2022-08-06T14:04:29Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\n\n- [ ] I'd be willing to implement a fix\n\n### Describe the bug\n\nWhen you install using `yarn workspaces focus` and `pnpm` as nodeLinker, the packages you focussed are not in `node_modules` in the root. \n\n### To reproduce\n\nSet-up a mono-repo and install using `yarn workspaces focus` and inspect `node_modules` at the root, it's empty.\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.10 Alpine Linux\r\n    CPU: (5) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n  Binaries:\r\n    Node: 12.22.0 - /tmp/xfs-ade9017b/node\r\n    Yarn: 3.2.1 - /tmp/xfs-ade9017b/yarn\r\n    npm: 6.14.11 - /usr/local/bin/npm\n```\n\n\n### Additional context\n\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207220530",
                "html_url": "https://github.com/yarnpkg/berry/issues/4611#issuecomment-1207220530",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4611",
                "id": 1207220530,
                "node_id": "IC_kwDOCNXKfM5H9Lky",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-06T14:04:29Z",
                "updated_at": "2022-08-06T14:04:29Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1207220530/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-06T14:04:30Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23275832244",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4607",
                "id": 1295234810,
                "node_id": "I_kwDOCNXKfM5NM7b6",
                "number": 4607,
                "title": "[Bug?]: Adding devDependencies cause other dependencies to be duplicated in PnP mode",
                "user": {
                    "login": "smeng9",
                    "id": 38666763,
                    "node_id": "MDQ6VXNlcjM4NjY2NzYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/38666763?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/smeng9",
                    "html_url": "https://github.com/smeng9",
                    "followers_url": "https://api.github.com/users/smeng9/followers",
                    "following_url": "https://api.github.com/users/smeng9/following{/other_user}",
                    "gists_url": "https://api.github.com/users/smeng9/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/smeng9/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/smeng9/subscriptions",
                    "organizations_url": "https://api.github.com/users/smeng9/orgs",
                    "repos_url": "https://api.github.com/users/smeng9/repos",
                    "events_url": "https://api.github.com/users/smeng9/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/smeng9/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-06T06:18:32Z",
                "updated_at": "2022-08-05T07:04:33Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nWhen adding @babel/core as devDependencies (I have some other scripts depend on this) to the repo here https://github.com/smeng9/vite-dup-package/tree/no-warning , it causes @emotion/react to be duplicated package and produce warnings https://github.com/smeng9/vite-dup-package/tree/main .\r\n\r\n![duplicate](https://user-images.githubusercontent.com/38666763/177479152-6c5ea998-69a2-4307-8deb-7957994eaacd.PNG)\r\n\r\nThe yarn.lock file does not have any duplicate package, but pnp.cjs file has duplicate package, which should not happen. The issue only happens in PnP mode, non-pnp mode using nodeLinker: node-modules does not have the issue.\r\n\r\n### To reproduce\r\n\r\nTo reproduce, clone https://github.com/smeng9/vite-dup-package and checkout branch `no-warning`\r\n\r\nPerform `$ yarn` to install of dependencies using PnP mode. Check generated yarn.lock file and there should be no duplicate @emotion/react packages as they all resolve to same version. Check generated pnp.cjs file, the virtual dependencies for @emotion/react all have the same hash. (you can see no warnings when starting project with `$ yarn dev` then open browser console)\r\n\r\nThen try to install `$ yarn add -D @babel/core` and check generated yarn.lock file and there should be no duplicate @emotion/react package. Check generated pnp.cjs file, the virtual dependencies for @emotion/react have different hashes. Similar as https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L589 and https://github.com/smeng9/vite-dup-package/blob/45f2e2fc38cfdb4437b0578937f2022ce7063503/.pnp.cjs#L613 . There will be warnings as shown in above image when `$ yarn dev` and open browser console\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Xeon(R) CPU E3-1240 v3 @ 3.40GHz\r\n  Binaries:\r\n    Node: 18.3.0 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\node.CMD\r\n    Yarn: 3.2.1 - ~\\AppData\\Local\\Temp\\xfs-301a4403\\yarn.CMD\r\n    npm: 8.11.0 - C:\\Program Files\\nodejs\\npm.CMD\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n_No response_",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116066",
                "html_url": "https://github.com/yarnpkg/berry/issues/4607#issuecomment-1206116066",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4607",
                "id": 1206116066,
                "node_id": "IC_kwDOCNXKfM5H497i",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-05T07:04:33Z",
                "updated_at": "2022-08-05T07:04:33Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116066/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-05T07:04:34Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    },
    {
        "id": "23275831611",
        "type": "IssueCommentEvent",
        "actor": {
            "id": 50545563,
            "login": "yarnbot",
            "display_login": "yarnbot",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yarnbot",
            "avatar_url": "https://avatars.githubusercontent.com/u/50545563?"
        },
        "repo": {
            "id": 148228732,
            "name": "yarnpkg/berry",
            "url": "https://api.github.com/repos/yarnpkg/berry"
        },
        "payload": {
            "action": "created",
            "issue": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/4608",
                "repository_url": "https://api.github.com/repos/yarnpkg/berry",
                "labels_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/labels{/name}",
                "comments_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/comments",
                "events_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/events",
                "html_url": "https://github.com/yarnpkg/berry/issues/4608",
                "id": 1295255000,
                "node_id": "I_kwDOCNXKfM5NNAXY",
                "number": 4608,
                "title": "[Bug?]: Invalid option name (\"--production=false\")",
                "user": {
                    "login": "dtinth",
                    "id": 193136,
                    "node_id": "MDQ6VXNlcjE5MzEzNg==",
                    "avatar_url": "https://avatars.githubusercontent.com/u/193136?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/dtinth",
                    "html_url": "https://github.com/dtinth",
                    "followers_url": "https://api.github.com/users/dtinth/followers",
                    "following_url": "https://api.github.com/users/dtinth/following{/other_user}",
                    "gists_url": "https://api.github.com/users/dtinth/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/dtinth/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/dtinth/subscriptions",
                    "organizations_url": "https://api.github.com/users/dtinth/orgs",
                    "repos_url": "https://api.github.com/users/dtinth/repos",
                    "events_url": "https://api.github.com/users/dtinth/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/dtinth/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "labels": [
                    {
                        "id": 1052349888,
                        "node_id": "MDU6TGFiZWwxMDUyMzQ5ODg4",
                        "url": "https://api.github.com/repos/yarnpkg/berry/labels/bug",
                        "name": "bug",
                        "color": "d73a4a",
                        "default": true,
                        "description": "Something isn't working"
                    }
                ],
                "state": "open",
                "locked": false,
                "assignee": null,
                "assignees": [],
                "milestone": null,
                "comments": 1,
                "created_at": "2022-07-06T06:32:20Z",
                "updated_at": "2022-08-05T07:04:31Z",
                "closed_at": null,
                "author_association": "NONE",
                "active_lock_reason": null,
                "body": "### Self-service\r\n\r\n- [ ] I'd be willing to implement a fix\r\n\r\n### Describe the bug\r\n\r\nHeroku\u2019s Node.js buildpack is hardcoded to install packages using `yarn install --production=false`\r\n\r\nhttps://github.com/heroku/buildpacks-nodejs/blob/c6537360d8f4241d20118bacd04b0a43aea0bc6f/buildpacks/yarn/lib/build.sh#L82-L88\r\n\r\nIt works with Yarn Classic, but with Yarn Berry it fails.\r\n\r\n### To reproduce\r\n\r\n```js repro\r\n// Heroku hardcodes \"--production=false\" in their buildpack.\r\n// https://github.com/heroku/buildpacks-nodejs/blob/c6537360d8f4241d20118bacd04b0a43aea0bc6f/buildpacks/yarn/lib/build.sh#L82-L88\r\nconst output = await yarn(`install`, `--production=false`);\r\nexpect(output).not.toContain(`Invalid option name`);\r\n```\r\n\r\n### Environment\r\n\r\n```shell\r\nSystem:\r\n    OS: macOS 12.3\r\n    CPU: (8) x64 Apple M1\r\n  Binaries:\r\n    Node: 16.15.1 - /private/var/folders/qk/bxhj0cs55vv8n4ghq8xh0k1h0000gn/T/xfs-189882af/node\r\n    Yarn: 3.2.1 - /private/var/folders/qk/bxhj0cs55vv8n4ghq8xh0k1h0000gn/T/xfs-189882af/yarn\r\n    npm: 8.11.0 - ~/.volta/tools/image/node/16.15.1/bin/npm\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThere is an issue open in Heroku\u2019s org since April:\r\n\r\n- https://github.com/heroku/buildpacks-nodejs/issues/246\r\n\r\nAlmost 3 months elapsed and no fix from Heroku side so far. Therefore I am filing this issue on Yarn side, hope that either party will be willing to work together to become more interoperable.\r\n\r\nThank you!",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "timeline_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608/timeline",
                "performed_via_github_app": null,
                "state_reason": null
            },
            "comment": {
                "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116023",
                "html_url": "https://github.com/yarnpkg/berry/issues/4608#issuecomment-1206116023",
                "issue_url": "https://api.github.com/repos/yarnpkg/berry/issues/4608",
                "id": 1206116023,
                "node_id": "IC_kwDOCNXKfM5H4963",
                "user": {
                    "login": "yarnbot",
                    "id": 50545563,
                    "node_id": "MDQ6VXNlcjUwNTQ1NTYz",
                    "avatar_url": "https://avatars.githubusercontent.com/u/50545563?v=4",
                    "gravatar_id": "",
                    "url": "https://api.github.com/users/yarnbot",
                    "html_url": "https://github.com/yarnbot",
                    "followers_url": "https://api.github.com/users/yarnbot/followers",
                    "following_url": "https://api.github.com/users/yarnbot/following{/other_user}",
                    "gists_url": "https://api.github.com/users/yarnbot/gists{/gist_id}",
                    "starred_url": "https://api.github.com/users/yarnbot/starred{/owner}{/repo}",
                    "subscriptions_url": "https://api.github.com/users/yarnbot/subscriptions",
                    "organizations_url": "https://api.github.com/users/yarnbot/orgs",
                    "repos_url": "https://api.github.com/users/yarnbot/repos",
                    "events_url": "https://api.github.com/users/yarnbot/events{/privacy}",
                    "received_events_url": "https://api.github.com/users/yarnbot/received_events",
                    "type": "User",
                    "site_admin": false
                },
                "created_at": "2022-08-05T07:04:31Z",
                "updated_at": "2022-08-05T07:04:31Z",
                "author_association": "COLLABORATOR",
                "body": "Hi! \ud83d\udc4b\n\nThis issue looks stale, and doesn't feature the `reproducible` label - which implies that you didn't provide a working reproduction using [Sherlock](https://yarnpkg.com/advanced/sherlock). As a result, it'll be closed in a few days unless a maintainer explicitly vouches for it or you edit your first post to include a formal reproduction (you can use the [playground](http://yarnpkg.com/playground) for that).\n\nNote that we require Sherlock reproductions for long-lived issues (rather than standalone git repositories or similar) because we're a small team. Sherlock gives us the ability to check which bugs are still affecting the master branch at any given point, and decreases the amount of code we need to run on our own machines (thus leading to faster bug resolutions). It helps us help you! \ud83d\ude03\n\nIf you absolutely *cannot* reproduce a bug on Sherlock (for example because it's a Windows-only issue), a maintainer will have to manually add the `upholded` label. Thanks for helping us triaging our repository! \ud83c\udf1f",
                "reactions": {
                    "url": "https://api.github.com/repos/yarnpkg/berry/issues/comments/1206116023/reactions",
                    "total_count": 0,
                    "+1": 0,
                    "-1": 0,
                    "laugh": 0,
                    "hooray": 0,
                    "confused": 0,
                    "heart": 0,
                    "rocket": 0,
                    "eyes": 0
                },
                "performed_via_github_app": null
            }
        },
        "public": true,
        "created_at": "2022-08-05T07:04:31Z",
        "org": {
            "id": 22247014,
            "login": "yarnpkg",
            "gravatar_id": "",
            "url": "https://api.github.com/orgs/yarnpkg",
            "avatar_url": "https://avatars.githubusercontent.com/u/22247014?"
        }
    }
]